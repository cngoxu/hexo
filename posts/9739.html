<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicon.png"><link rel="icon" href="/assets/img/favicon.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="theme-color" content="#2f4154"><meta name="author" content="cngo"><meta name="keywords" content="æŠ€æœ¯åšå®¢, å­¦ä¹ ç¬”è®°, ç”Ÿæ´»ç‚¹æ»´"><meta name="description" content="åœ¨å½“ä»Šäº‘åŸç”Ÿæ—¶ä»£ï¼ŒDockerå·²æˆä¸ºåº”ç”¨éƒ¨ç½²çš„æ ‡å‡†å·¥å…·ä¹‹ä¸€ã€‚è€ŒDocker Composeä½œä¸ºDockerå®˜æ–¹çš„å¤šå®¹å™¨ç¼–æ’å·¥å…·ï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬è½»æ¾å®šä¹‰å’Œè¿è¡Œå¤æ‚çš„å¤šå®¹å™¨åº”ç”¨ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨Docker Composeéƒ¨ç½²ä¸€ä¸ªå®Œæ•´çš„Ghoståšå®¢ç³»ç»Ÿï¼ŒåŒ…å«Ghoståº”ç”¨ã€Nginxåå‘ä»£ç†å’ŒMySQLæ•°æ®åº“ä¸‰ä¸ªæœåŠ¡ç»„ä»¶ã€‚              æœ¬æ¬¡Dockerå®æˆ˜åŸºäºğŸ”—Dockerå…¥é—¨æ•™"><meta property="og:type" content="article"><meta property="og:title" content="Dockerå¤šå®¹å™¨ç¼–æ’å®æˆ˜ï¼šåŸºäºGhoståšå®¢ç³»ç»Ÿçš„å®Œæ•´éƒ¨ç½²æ–¹æ¡ˆ"><meta property="og:url" content="https://blog.cngo.xyz/posts/9739.html"><meta property="og:site_name" content="å°é©¿ç«™"><meta property="og:description" content="åœ¨å½“ä»Šäº‘åŸç”Ÿæ—¶ä»£ï¼ŒDockerå·²æˆä¸ºåº”ç”¨éƒ¨ç½²çš„æ ‡å‡†å·¥å…·ä¹‹ä¸€ã€‚è€ŒDocker Composeä½œä¸ºDockerå®˜æ–¹çš„å¤šå®¹å™¨ç¼–æ’å·¥å…·ï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬è½»æ¾å®šä¹‰å’Œè¿è¡Œå¤æ‚çš„å¤šå®¹å™¨åº”ç”¨ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨Docker Composeéƒ¨ç½²ä¸€ä¸ªå®Œæ•´çš„Ghoståšå®¢ç³»ç»Ÿï¼ŒåŒ…å«Ghoståº”ç”¨ã€Nginxåå‘ä»£ç†å’ŒMySQLæ•°æ®åº“ä¸‰ä¸ªæœåŠ¡ç»„ä»¶ã€‚              æœ¬æ¬¡Dockerå®æˆ˜åŸºäºğŸ”—Dockerå…¥é—¨æ•™"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://logos-world.net/wp-content/uploads/2021/02/Docker-Emblem.png"><meta property="article:published_time" content="2025-04-16T11:33:19.000Z"><meta property="article:modified_time" content="2025-04-16T11:33:19.000Z"><meta property="article:author" content="cngo"><meta property="article:tag" content="Docker"><meta property="article:tag" content="Ghost"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://logos-world.net/wp-content/uploads/2021/02/Docker-Emblem.png"><title>Dockerå¤šå®¹å™¨ç¼–æ’å®æˆ˜ï¼šåŸºäºGhoståšå®¢ç³»ç»Ÿçš„å®Œæ•´éƒ¨ç½²æ–¹æ¡ˆ Â· å°é©¿ç«™</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><link rel="stylesheet" href="/assets/css/macpanel.css"><link rel="stylesheet" href="/assets/css/code-unfold.css"><link rel="stylesheet" href="/assets/css/sidebar.css"><link rel="stylesheet" href="/assets/css/common.css"><link rel="stylesheet" href="/assets/css/waline.css"><link rel="stylesheet" href="/assets/css/modal.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var dntVal,CONFIG={hostname:"blog.cngo.xyz",root:"/",version:"1.9.7",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!1,height_px:3,color:"#29d",options:{showSpinner:!0,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"left",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:3},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,follow_dnt:!0,baidu:null,google:{measurement_id:null},tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:"srGpqnaVsw1DuXDYQD6uHK5z-MdYXbMMI",app_key:"M2dtqJNKzC5cTenvjfQXn3ZP",server_url:"https://api.cncom.dynv6.net",path:"window.location.pathname",ignore_local:!0}},search_path:"/local-search.xml",include_content_in_search:!0};CONFIG.web_analytics.follow_dnt&&(dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on")))</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="msvalidate.01" content="50CF62587355C9B8361E30DD4622EFD7"><meta name="baidu-site-verification" content="codeva-Ca2CqObx4F"><meta name="google-site-verification" content="fGmdBqFUKBoGDGl_ZjnPpxqq6KoX-Rm-Hrhyvd1chiM"><script defer="defer" src="https://cloud.umami.is/script.js" data-website-id="e177ac7e-b415-4d19-a5a3-66e5b1fe4e07"></script><meta name="generator" content="Hexo 7.2.0"></head><body><script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-3.4.1.min.js"></script><script type="text/javascript" src="/assets/js/common.js"></script><style type="text/css">@keyframes spin3D{from{transform:rotate3d(.5,.5,.5,360deg)}to{transform:rotate3d(0)}}#loading{height:100%;background-color:#172d4781;backdrop-filter:saturate(100%) blur(10px);display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;right:0;overflow:hidden;z-index:99999999}.spinner-box{width:300px;height:300px;display:flex;justify-content:center;align-items:center;background-color:transparent}.leo{position:absolute;display:flex;justify-content:center;align-items:center;border-radius:50%}.blue-orbit{width:175px;height:175px;border:2px solid #1a91fa;animation:spin3D 3s linear .2s infinite}.green-orbit{width:135px;height:135px;border:2px solid #0fd;animation:spin3D 2s linear 0s infinite}.red-orbit{width:100px;height:100px;border:2px solid #d75151;animation:spin3D 1s linear 0s infinite}.white-orbit-a{width:70px;height:70px;border:1px solid #faf5f5;animation:spin3D 3s linear 0s infinite}.white-orbit-b{width:70px;height:70px;border:1px solid #faf5f5;animation:spin3D 1.5s linear 0s infinite}.nucleus{width:1px;height:1px;border:1px solid #fff;animation:spin3D 1s linear 0s infinite}</style><div id="loading"><div class="spinner-box"><div class="blue-orbit leo"></div><div class="green-orbit leo"></div><div class="red-orbit leo"></div><div class="white-orbit-a leo"></div><div class="white-orbit-b leo"></div><div class="nucleus leo"></div></div></div><script>(function () {
        const loaded = function () {
            window.onload = function () {
                const loader = document.getElementById("loading");
                loader.className = "fadeout";
                setTimeout(function () {
                    loader.style.display = "none";
                }, 
                150
                );
            }
        };
        loaded();
    })();</script><div id="web_bg" style="background-image:url(/assets/img/wG636.jpg)"></div><header><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong class="navbar-title">å°é©¿ç«™</strong></a><div id="tp-weather-widget" style="margin-left:0"></div><script>!function(e,t,n,a,i,o,c,r){r=function(){o=t.createElement(n),c=t.getElementsByTagName(n)[0],o.src=i,o.charset="utf-8",o.async=1,c.parentNode.insertBefore(o,c)},e.SeniverseWeatherWidgetObject=a,e[a]||(e[a]=function(){(e[a].q=e[a].q||[]).push(arguments)}),e[a].l=+new Date,e.attachEvent?e.attachEvent("onload",r):e.addEventListener("load",r,!1)}(window,document,"script","SeniverseWeatherWidget","//cdn.sencdn.com/widget2/static/js/bundle.js?t="+parseInt(((new Date).getTime()/1e8).toString(),10)),window.SeniverseWeatherWidget("show",{flavor:"slim",location:"WX4FBXXFKE4F",geolocation:!0,language:"zh-Hans",unit:"c",theme:"auto",token:"f31454ed-0bf9-4ea6-9867-1034dfa114ce",hover:"enabled",container:"tp-weather-widget"})</script><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/" target="_self"><i class="iconfont icon-home-fill"></i> <span>é¦–é¡µ</span></a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="iconfont icon-books"></i> <span>æ–‡ç« </span></a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="/archives/" target="_self"><i class="iconfont icon-archive-fill"></i> <span>å½’æ¡£</span> </a><a class="dropdown-item" href="/categories/" target="_self"><i class="iconfont icon-category-fill"></i> <span>åˆ†ç±»</span> </a><a class="dropdown-item" href="/tags/" target="_self"><i class="iconfont icon-tags-fill"></i> <span>æ ‡ç­¾</span></a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="iconfont icon-addrbook"></i> <span>ç›¸å…³</span></a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="/page/about.html" target="_self"><i class="iconfont icon-user-fill"></i> <span>å…³äº</span> </a><a class="dropdown-item" href="/comments/" target="_self"><i class="iconfont icon-mail"></i> <span>ç•™è¨€æ¿</span> </a><a class="dropdown-item" href="/page/timeline.html" target="_self"><i class="iconfont icon-line-fill"></i> <span>æ—¶é—´çº¿</span> </a><a class="dropdown-item" href="/page/guide.html" target="_self"><i class="iconfont icon-books"></i> <span>å­¦ä¹ æŒ‡å—</span> </a><a class="dropdown-item" href="/page/book.html" target="_self"><i class="iconfont icon-douban-fill"></i> <span>å¥½ä¹¦æ¨è</span> </a><a class="dropdown-item" href="/page/article.html" target="_self"><i class="iconfont icon-linkedin-fill"></i> <span>ç²¾é€‰å¥½æ–‡</span></a></div></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div class="header-inner" style="height:70vh"><div id="banner" class="banner" parallax="true" style="background:transparent no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="Dockerå¤šå®¹å™¨ç¼–æ’å®æˆ˜ï¼šåŸºäºGhoståšå®¢ç³»ç»Ÿçš„å®Œæ•´éƒ¨ç½²æ–¹æ¡ˆ"></span></div><div class="mt-3"><span class="post-meta mr-2"><i class="iconfont icon-author" aria-hidden="true"></i> cngo </span><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2025-04-16 19:33" pubdate>2025å¹´04æœˆ16æ—¥ 19:33:19</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 1.4k å­— </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 12 åˆ†é’Ÿ </span><span id="leancloud-page-views-container" class="post-meta" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="leancloud-page-views"></span> æ¬¡</span></div></div></div></div></div></div><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div><div class="modal fade" id="modalSetting" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">è®¾ç½®</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3" style="display:flex;justify-items:center;flex-direction:row;justify-content:center"><div><label class="switch"><input type="checkbox" id="switch-play" value="0" onclick='switchAlarm("#switch-play")'><div class="slider round"></div></label> <span>è‡ªåŠ¨æ’­æ”¾</span></div><div><label class="switch"><input type="checkbox" id="switch-pjax" onclick='switchAlarm("#switch-pjax")'><div class="slider round"></div></label> <span>å¯ç”¨Pjax</span></div><script>function switchAlarm(e){switch(e){case"#switch-play":localStorage.setItem("autoplay",$(e).prop("checked")),json=JSON.parse(localStorage.getItem("metingjs")),json.autoplay=$(e).prop("checked"),localStorage.setItem("metingjs",JSON.stringify(json));break;case"#switch-pjax":localStorage.setItem("enable-pjax",$(e).prop("checked"))}}</script></div></div></div></div></header><main id="container"><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="d-none d-lg-block col-lg-2"><div class="side_container" style="margin-right:-1rem;text-align:center"><div class="sidebar-nav"><span class="sidebar-nav-bulletin sidebar-nav-item current">ç«™ç‚¹ä¿¡æ¯</span> <span class="sidebar-nav-author sidebar-nav-item">åšä¸»ç®€ä»‹</span></div><div id="clockdiv" class="sidebar-bulletin" style="text-align:center;display:block"><div style="width:90%;margin:1em"><canvas id="canvas" style="width:100%" height="100" width="700">å½“å‰æµè§ˆå™¨ä¸æ”¯æŒcanvasï¼Œè¯·æ›´æ¢æµè§ˆå™¨åå†è¯•</canvas></div><script src="/assets/js/clock-time.js"></script><div class="site-author animated" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">news:</p><p class="site-description" itemprop="description">1.æ–°å¢AIæ‘˜è¦<br>2.ä¿®æ”¹ä¾§è¾¹æ <br>3.å¢åŠ æ ‡ç­¾äº‘<br></p></div><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">30</span> <span class="site-state-item-name">æ–‡ç« </span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">16</span> <span class="site-state-item-name">åˆ†ç±»</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">37</span> <span class="site-state-item-name">æ ‡ç­¾</span></a></div></nav></div><div class="text-center sidebar-author" style="text-align:center;display:none"><div class="about-avatar" style="margin:auto;width:auto;height:auto"><img src="/img/avatar.png" srcset="/img/loading.gif" lazyload class="img-fluid" alt="avatar" style="width:50%;height:50%"></div><div class="about-info" style="text-align:center"><div class="about-name" style="font-size:1.5rem">cngo</div><div class="about-intro" style="text-align:justify;font-size:.85rem;margin:0 1rem .5rem 1rem">ä»£ç èƒ½è·‘å°±è¡Œï¼Œåˆ«é—®æˆ‘ä¸ºä»€ä¹ˆ</div><div class="links-of-author animated" style="display:flex;font-size:.85rem"><span class="links-of-author-item"><a href="https://github.com/cngoxu" title="GitHub â†’ https://github.com/cngoxu" rel="noopener me" target="_blank"><i class="iconfont icon-github-fill"></i>GitHub</a> </span><span class="links-of-author-item"><a href="mailto:me@cngo.xyz" title="E-Mail â†’ mailto:me@cngo.xyz" rel="noopener me" target="_blank"><i class="iconfont icon-mail"></i>E-Mail</a></span></div></div></div></div><aside class="sidebar" style="margin-right:-1rem;left:5rem"><div class="side_container"><div class="sidebar-reading" style="text-align:center"><span class="sidebar-reading-info__text">ä½ å·²é˜…è¯»äº† </span><span class="sidebar-reading-info__num">0</span><span class="sidebar-reading-info__perc">%</span></div><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>ç›®å½•</span></p><div class="toc-body" id="toc-body"></div></div></div><div class="side_container" style="display:block;padding:1rem .2rem 1rem 1rem"><span class="widget-title" style="font-weight:700;font-size:1em">æ ‡ç­¾äº‘</span><ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/" rel="tag">Android</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C++</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CDN/" rel="tag">CDN</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSDN/" rel="tag">CSDN</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Chrome/" rel="tag">Chrome</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cloudflare/" rel="tag">Cloudflare</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/" rel="tag">Docker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Fluid/" rel="tag">Fluid</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ghost/" rel="tag">Ghost</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Github/" rel="tag">Github</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Google/" rel="tag">Google</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Javascript/" rel="tag">Javascript</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LinuxDeploy/" rel="tag">LinuxDeploy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Markdown/" rel="tag">Markdown</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Qt/" rel="tag">Qt</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Root/" rel="tag">Root</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSH/" rel="tag">SSH</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot/" rel="tag">SpringBoot</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Termux/" rel="tag">Termux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ubuntu/" rel="tag">Ubuntu</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/U%E7%9B%98/" rel="tag">Uç›˜</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Zerotrust/" rel="tag">Zerotrust</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dfs/" rel="tag">dfs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/reCAPTCHA/" rel="tag">reCAPTCHA</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%8B%E8%BD%BD/" rel="tag">ä¸‹è½½</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%BB%E9%A2%98/" rel="tag">ä¸»é¢˜</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/" rel="tag">äºŒå‰æ ‘</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%A7%E6%A0%B9%E5%A0%86/" rel="tag">å¤§æ ¹å †</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%89%AB%E9%9B%B7/" rel="tag">æ‰«é›·</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8E%92%E5%BA%8F/" rel="tag">æ’åº</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%89%9B%E5%AE%A2%E7%BD%91/" rel="tag">ç‰›å®¢ç½‘</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%97%85%E6%AF%92/" rel="tag">ç—…æ¯’</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">ç®—æ³•</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E6%98%93%E4%BA%91/" rel="tag">ç½‘æ˜“äº‘</a><span class="tag-list-count">1</span></li></ul><style>.tag-list-count{vertical-align:super;font-size:.6rem}.tag-list-item{font-size:.8rem;display:inline-block;white-space:normal;word-break:break-word}</style></div><div class="side_container" style="text-align:center"><div class="sidebar-nav"><span class="sidebar-nav-related sidebar-nav-item current">ç›¸å…³æ–‡ç« </span> <span class="sidebar-nav-latest sidebar-nav-item">æœ€æ–°æ–‡ç« </span></div><div class="category-bar sidebar-related" style="display:block"><div class="category-list"><div class="category-collapse collapse show" id="collapse-c5fd214cdd0d2b3b4272e73b022ba5c2" role="tabpanel" aria-labelledby="heading-c5fd214cdd0d2b3b4272e73b022ba5c2"><div class="category-post-list"><a href="/posts/9739.html" title="Dockerå¤šå®¹å™¨ç¼–æ’å®æˆ˜ï¼šåŸºäºGhoståšå®¢ç³»ç»Ÿçš„å®Œæ•´éƒ¨ç½²æ–¹æ¡ˆ" class="list-group-item list-group-item-action active"><span class="category-post" style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis">Dockerå¤šå®¹å™¨ç¼–æ’å®æˆ˜ï¼šåŸºäºGhoståšå®¢ç³»ç»Ÿçš„å®Œæ•´éƒ¨ç½²æ–¹æ¡ˆ</span></a></div></div></div></div><div class="category-bar sidebar-latest" style="display:none"><div class="list-group"><a href="/posts/9739.html" class="list-group-item list-group-item-action"><time style="flex:0 0 auto">04-16</time><div class="list-group-item-title">Dockerå¤šå®¹å™¨ç¼–æ’å®æˆ˜ï¼šåŸºäºGhoståšå®¢ç³»ç»Ÿçš„å®Œæ•´éƒ¨ç½²æ–¹æ¡ˆ</div></a><a href="/posts/c2c.html" class="list-group-item list-group-item-action"><time style="flex:0 0 auto">04-03</time><div class="list-group-item-title">SpringBootåç«¯æœåŠ¡éƒ¨ç½²å®æˆ˜</div></a><a href="/posts/4f01.html" class="list-group-item list-group-item-action"><time style="flex:0 0 auto">01-13</time><div class="list-group-item-title">QtåŒæ­¥æ’­æ”¾å™¨ç³»ç»Ÿï¼šè®¾è®¡ä¸å®ç°</div></a><a href="/posts/6061.html" class="list-group-item list-group-item-action"><time style="flex:0 0 auto">12-21</time><div class="list-group-item-title">ä»é›¶å®ç°Pythonè‡ªåŠ¨æ‰«é›·ï¼ˆäº”ï¼‰ï¼šæ‰«é›·ä¸»ç¨‹åº</div></a><a href="/posts/6060.html" class="list-group-item list-group-item-action"><time style="flex:0 0 auto">12-20</time><div class="list-group-item-title">ä»é›¶å®ç°Pythonè‡ªåŠ¨æ‰«é›·ï¼ˆå››ï¼‰ï¼šæ‰«é›·æ ¸å¿ƒé€»è¾‘</div></a></div></div></div></aside><script src="/assets/js/sidebar.js"></script></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 id="seo-header">Dockerå¤šå®¹å™¨ç¼–æ’å®æˆ˜ï¼šåŸºäºGhoståšå®¢ç³»ç»Ÿçš„å®Œæ•´éƒ¨ç½²æ–¹æ¡ˆ</h1><div class="markdown-body"><p>åœ¨å½“ä»Šäº‘åŸç”Ÿæ—¶ä»£ï¼ŒDockerå·²æˆä¸ºåº”ç”¨éƒ¨ç½²çš„æ ‡å‡†å·¥å…·ä¹‹ä¸€ã€‚è€ŒDocker Composeä½œä¸ºDockerå®˜æ–¹çš„å¤šå®¹å™¨ç¼–æ’å·¥å…·ï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬è½»æ¾å®šä¹‰å’Œè¿è¡Œå¤æ‚çš„å¤šå®¹å™¨åº”ç”¨ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨Docker Composeéƒ¨ç½²ä¸€ä¸ªå®Œæ•´çš„Ghoståšå®¢ç³»ç»Ÿï¼ŒåŒ…å«Ghoståº”ç”¨ã€Nginxåå‘ä»£ç†å’ŒMySQLæ•°æ®åº“ä¸‰ä¸ªæœåŠ¡ç»„ä»¶ã€‚</p><div class="note note-info"><p>æœ¬æ¬¡Dockerå®æˆ˜åŸºäºğŸ”—<a target="_blank" rel="noopener" href="https://www.imooc.com/learn/867">Dockerå…¥é—¨æ•™ç¨‹</a>ï¼Œä½†æ˜¯ç”±äºè§†é¢‘æ•™ç¨‹å·²ç»è¿‡æ—¶ï¼ˆæ—©äº2018å¹´ï¼‰ï¼Œä¸€äº›é…ç½®éœ€è¦ä¿®æ”¹ï¼Œä¸”ghoståšå®¢ç³»ç»Ÿä¼¼ä¹å·²ç»ä¸å†å…è´¹ï¼Œç½‘ç»œä¸Šæœ‰å…³ghostçš„å†…å®¹ä¹Ÿåå°‘ï¼Œæ•…é¢‡è´¹äº†ä¸€ç•ªåŠŸå¤«</p></div><h2 id="é¡¹ç›®æ¶æ„è®¾è®¡"><a href="#é¡¹ç›®æ¶æ„è®¾è®¡" class="headerlink" title="é¡¹ç›®æ¶æ„è®¾è®¡"></a>é¡¹ç›®æ¶æ„è®¾è®¡</h2><p>æˆ‘ä»¬çš„Ghoståšå®¢ç³»ç»Ÿé‡‡ç”¨å…¸å‹çš„ä¸‰å±‚æ¶æ„è®¾è®¡ï¼š</p><ol><li><strong>å‰ç«¯å±‚</strong>ï¼šNginxä½œä¸ºåå‘ä»£ç†æœåŠ¡å™¨ï¼Œæ¥æ”¶å¤–éƒ¨è¯·æ±‚å¹¶è½¬å‘ç»™Ghoståº”ç”¨</li><li><strong>åº”ç”¨å±‚</strong>ï¼šGhoståšå®¢ç³»ç»Ÿæœ¬èº«ï¼Œæä¾›å†…å®¹ç®¡ç†å’Œå‘å¸ƒåŠŸèƒ½</li><li><strong>æ•°æ®å±‚</strong>ï¼šMySQLæ•°æ®åº“æŒä¹…åŒ–å­˜å‚¨åšå®¢æ•°æ®</li></ol><h2 id="ç›®å½•ç»“æ„è§£æ"><a href="#ç›®å½•ç»“æ„è§£æ" class="headerlink" title="ç›®å½•ç»“æ„è§£æ"></a>ç›®å½•ç»“æ„è§£æ</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs stylus">ghost/<br>â”œâ”€â”€ ghost/<br>â”‚   â”œâ”€â”€ config<span class="hljs-selector-class">.production</span><span class="hljs-selector-class">.json</span><br>â”‚   â””â”€â”€ Dockerfile<br>â”œâ”€â”€ nginx/<br>â”‚   â”œâ”€â”€ nginx<span class="hljs-selector-class">.conf</span><br>â”‚   â””â”€â”€ Dockerfile<br>â”œâ”€â”€ data/<br>â””â”€â”€ docker-compose.yml<br></code></pre></td></tr></table></figure><ul><li><code>ghost/</code>ç›®å½•åŒ…å«Ghoståº”ç”¨çš„ç›¸å…³é…ç½®å’ŒDockerfile</li><li><code>nginx/</code>ç›®å½•åŒ…å«Nginxçš„é…ç½®æ–‡ä»¶å’ŒDockerfile</li><li><code>data/</code>ç›®å½•ç”¨äºæŒä¹…åŒ–MySQLæ•°æ®</li><li><code>docker-compose.yml</code>æ˜¯æ ¸å¿ƒçš„ç¼–æ’æ–‡ä»¶</li></ul><h2 id="æ·±å…¥è§£æDocker-Composeé…ç½®"><a href="#æ·±å…¥è§£æDocker-Composeé…ç½®" class="headerlink" title="æ·±å…¥è§£æDocker Composeé…ç½®"></a>æ·±å…¥è§£æDocker Composeé…ç½®</h2><p><code>docker-compose.yml</code>æ–‡ä»¶æ˜¯æ•´ä¸ªé¡¹ç›®çš„æ ¸å¿ƒï¼Œå®ƒå®šä¹‰äº†ä¸‰ä¸ªæœåŠ¡åŠå…¶ç›¸äº’å…³ç³»ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">&#x27;2&#x27;</span><br><br><span class="hljs-attr">networks:</span><br>  <span class="hljs-attr">ghost:</span><br><br><span class="hljs-attr">services:</span><br>  <span class="hljs-attr">ghost-app:</span><br>    <span class="hljs-attr">build:</span> <span class="hljs-string">ghost</span><br>    <span class="hljs-attr">networks:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">ghost</span><br>    <span class="hljs-attr">depends_on:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">db</span><br>    <span class="hljs-attr">ports:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;2368:2368&quot;</span><br>      <br>  <span class="hljs-attr">nginx:</span><br>    <span class="hljs-attr">build:</span> <span class="hljs-string">nginx</span><br>    <span class="hljs-attr">networks:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">ghost</span><br>    <span class="hljs-attr">depends_on:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">ghost-app</span><br>    <span class="hljs-attr">ports:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;80:80&quot;</span><br>      <br>  <span class="hljs-attr">db:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">&quot;mysql:5.7.15&quot;</span><br>    <span class="hljs-attr">networks:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">ghost</span><br>    <span class="hljs-attr">environment:</span><br>      <span class="hljs-attr">MYSQL_ROOT_PASSWORD:</span> <span class="hljs-string">mysqlroot</span><br>      <span class="hljs-attr">MYSQL_USER:</span> <span class="hljs-string">ghost</span><br>      <span class="hljs-attr">MYSQL_PASSWORD:</span> <span class="hljs-string">ghost</span><br>    <span class="hljs-attr">volumes:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">$PWD/data:/var/lib/mysql</span><br>    <span class="hljs-attr">ports:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;3306:3306&quot;</span><br></code></pre></td></tr></table></figure><blockquote><p>åŸæ•™ç¨‹ä¸­ä½¿ç”¨ghostç”¨æˆ·è®¿é—®mysqlæ•°æ®åº“æŠ¥é”™æƒé™ä¸è¶³ï¼Œæ•…æ”¹ç”¨rootç”¨æˆ·</p></blockquote><h3 id="ç½‘ç»œé…ç½®"><a href="#ç½‘ç»œé…ç½®" class="headerlink" title="ç½‘ç»œé…ç½®"></a>ç½‘ç»œé…ç½®</h3><p>æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸º<code>ghost</code>çš„è‡ªå®šä¹‰ç½‘ç»œï¼Œæ‰€æœ‰æœåŠ¡éƒ½è¿æ¥åˆ°è¿™ä¸ªç½‘ç»œã€‚è¿™æ ·æœåŠ¡ä¹‹é—´å¯ä»¥é€šè¿‡æœåŠ¡åç›¸äº’è®¿é—®ï¼ˆå¦‚Ghostå¯ä»¥é€šè¿‡<code>db</code>ä¸»æœºåè®¿é—®MySQLæœåŠ¡ï¼‰ï¼Œè€Œæ— éœ€å…³å¿ƒIPåœ°å€å˜åŒ–ã€‚</p><h3 id="æœåŠ¡ä¾èµ–å…³ç³»"><a href="#æœåŠ¡ä¾èµ–å…³ç³»" class="headerlink" title="æœåŠ¡ä¾èµ–å…³ç³»"></a>æœåŠ¡ä¾èµ–å…³ç³»</h3><ul><li><code>ghost-app</code>ä¾èµ–äº<code>db</code>æœåŠ¡ï¼Œç¡®ä¿æ•°æ®åº“å…ˆå¯åŠ¨</li><li><code>nginx</code>ä¾èµ–äº<code>ghost-app</code>æœåŠ¡ï¼Œç¡®ä¿åº”ç”¨æœåŠ¡å…ˆå¯åŠ¨</li></ul><h3 id="æ•°æ®æŒä¹…åŒ–"><a href="#æ•°æ®æŒä¹…åŒ–" class="headerlink" title="æ•°æ®æŒä¹…åŒ–"></a>æ•°æ®æŒä¹…åŒ–</h3><p>MySQLæœåŠ¡ä½¿ç”¨<code>volumes</code>å°†å®¹å™¨å†…çš„<code>/var/lib/mysql</code>ç›®å½•æ˜ å°„åˆ°å®¿ä¸»æœºçš„<code>./data</code>ç›®å½•ï¼Œç¡®ä¿æ•°æ®åº“æ•°æ®ä¸ä¼šå› å®¹å™¨é‡å¯è€Œä¸¢å¤±ã€‚</p><h2 id="Ghoståº”ç”¨é…ç½®è¯¦è§£"><a href="#Ghoståº”ç”¨é…ç½®è¯¦è§£" class="headerlink" title="Ghoståº”ç”¨é…ç½®è¯¦è§£"></a>Ghoståº”ç”¨é…ç½®è¯¦è§£</h2><p>Ghostçš„é…ç½®æ–‡ä»¶<code>config.production.json</code>åŒ…å«äº†åº”ç”¨çš„æ ¸å¿ƒé…ç½®ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;url&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;http://localhost&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;server&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2368</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;host&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;0.0.0.0&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;database&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;client&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;mysql&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;connection&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;host&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;db&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;user&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;root&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;password&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;mysqlroot&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;database&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ghost&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3306</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;charset&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;utf8&quot;</span><br>      <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;debug&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-comment">// å…¶ä»–é…ç½®...</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>å…³é”®ç‚¹è¯´æ˜ï¼š</p><ul><li>æ•°æ®åº“è¿æ¥ä½¿ç”¨æœåŠ¡å<code>db</code>ä½œä¸ºä¸»æœºåï¼Œè¿™æ˜¯Dockerç½‘ç»œæä¾›çš„æœåŠ¡å‘ç°èƒ½åŠ›</li><li>æ•°æ®åº“å‡­æ®ä¸docker-composeä¸­å®šä¹‰çš„MySQLç¯å¢ƒå˜é‡ä¸€è‡´</li><li>æœåŠ¡å™¨ç›‘å¬<code>0.0.0.0</code>ä»¥ä¾¿å®¹å™¨å¤–éƒ¨å¯ä»¥è®¿é—®</li></ul><p><code>./ghost/Dockerfile</code></p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs dockerfile"><span class="hljs-keyword">FROM</span> ghost:<span class="hljs-number">5.94</span>.<span class="hljs-number">1</span><br><span class="hljs-comment">#COPY ./config.js /var/lib/ghost/content/config.js</span><br><span class="hljs-comment">#CMD [&quot;cat&quot;, &quot;config.production.json&quot;]</span><br><span class="hljs-keyword">COPY</span><span class="language-bash"> ./config.production.json /var/lib/ghost/config.production.json</span><br><span class="hljs-keyword">EXPOSE</span> <span class="hljs-number">2368</span><br><span class="hljs-comment">#CMD [&quot;npm&quot;, &quot;start&quot;, &quot;--production&quot;]</span><br></code></pre></td></tr></table></figure><ul><li>æŒ‡å®šäº†ä½¿ç”¨å®˜æ–¹ Ghost é•œåƒçš„ 5.94.1 ç‰ˆæœ¬ä½œä¸ºåŸºç¡€ã€‚å®˜æ–¹é•œåƒå·²ç»é¢„é…ç½®äº† Node.js ç¯å¢ƒå’Œ Ghost è¿è¡Œæ‰€éœ€çš„æ‰€æœ‰ä¾èµ–</li><li>å°†å®¿ä¸»æœºä¸Šçš„é…ç½®æ–‡ä»¶å¤åˆ¶åˆ°å®¹å™¨å†… Ghost çš„é»˜è®¤é…ç½®ç›®å½•</li><li>å£°æ˜å®¹å™¨è¿è¡Œæ—¶ç›‘å¬çš„ç«¯å£, Ghost é»˜è®¤ä½¿ç”¨ 2368 ç«¯å£ï¼š</li><li>æ³¨é‡Šæ‰çš„ CMD [â€œnpmâ€, â€œstartâ€, â€œâ€“productionâ€]ï¼Œè¿™æ˜¯ä¸å¿…è¦çš„ï¼Œå› ä¸ºæ–°ç‰ˆæœ¬GhoståŸºç¡€é•œåƒå·²ç»åŒ…å«äº†æ­£ç¡®çš„å¯åŠ¨å‘½ä»¤</li></ul><blockquote><p>åŸæ•™ç¨‹ä¸­æ—§ç‰ˆæœ¬ghostä½¿ç”¨config.jsæ–‡ä»¶è¿›è¡Œé…ç½®ï¼Œä¸”éœ€è¦åŠ ä¸Šå¯åŠ¨å‘½ä»¤</p></blockquote><h2 id="Nginxåå‘ä»£ç†é…ç½®"><a href="#Nginxåå‘ä»£ç†é…ç½®" class="headerlink" title="Nginxåå‘ä»£ç†é…ç½®"></a>Nginxåå‘ä»£ç†é…ç½®</h2><p>Nginxä½œä¸ºå‰ç«¯ä»£ç†ï¼Œå°†æ‰€æœ‰80ç«¯å£çš„è¯·æ±‚è½¬å‘åˆ°Ghoståº”ç”¨çš„2368ç«¯å£ï¼š</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">worker_processes</span> <span class="hljs-number">4</span>;<br><span class="hljs-section">events</span> &#123;<span class="hljs-attribute">worker_connections</span> <span class="hljs-number">1024</span>;&#125;<br><span class="hljs-section">http</span> &#123;<br>	<span class="hljs-section">server</span> &#123;<br>		<span class="hljs-attribute">listen</span> <span class="hljs-number">80</span>;<br>		<span class="hljs-section">location</span> / &#123;<br>			<span class="hljs-attribute">proxy_pass</span> http://ghost-app:2368;<br>		&#125;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™é‡ŒåŒæ ·åˆ©ç”¨äº†Dockerç½‘ç»œçš„æœåŠ¡å‘ç°èƒ½åŠ›ï¼Œé€šè¿‡æœåŠ¡å<code>ghost-app</code>è®¿é—®Ghoståº”ç”¨ã€‚</p><p><code>./nginx/Dockerfile</code>ï¼š</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs dockerfile"><span class="hljs-keyword">FROM</span> nginx<br><span class="hljs-keyword">COPY</span><span class="language-bash"> nginx.conf /etc/nginx/nginx.conf</span><br><span class="hljs-keyword">EXPOSE</span> <span class="hljs-number">80</span><br></code></pre></td></tr></table></figure><ul><li>FROM nginx ä½¿ç”¨äº†æœ€æ–°ç‰ˆçš„å®˜æ–¹ Nginx é•œåƒ,å®˜æ–¹é•œåƒå·²ç»åŒ…å«äº† Nginx çš„æœ€ä½³å®è·µé…ç½®</li><li>ç”¨è‡ªå®šä¹‰é…ç½®å®Œå…¨æ›¿æ¢é»˜è®¤çš„ Nginx é…ç½®, ç›®æ ‡è·¯å¾„ &#x2F;etc&#x2F;nginx&#x2F;nginx.conf æ˜¯ Nginx çš„ä¸»é…ç½®æ–‡ä»¶ä½ç½®</li><li>EXPOSE 80 å£°æ˜å®¹å™¨å°†ç›‘å¬ HTTP é»˜è®¤ç«¯å£, å¯¹åº” docker-compose.yml ä¸­çš„ç«¯å£æ˜ å°„, å®é™…è®¿é—®ä¼šé€šè¿‡å®¿ä¸»æœºçš„ 80 ç«¯å£æš´éœ²æœåŠ¡</li></ul><h2 id="æ„å»ºä¸éƒ¨ç½²æµç¨‹"><a href="#æ„å»ºä¸éƒ¨ç½²æµç¨‹" class="headerlink" title="æ„å»ºä¸éƒ¨ç½²æµç¨‹"></a>æ„å»ºä¸éƒ¨ç½²æµç¨‹</h2><p>å®Œæ•´çš„æ„å»ºå’Œéƒ¨ç½²æµç¨‹å¦‚ä¸‹ï¼Œåœ¨ghosté¡¹ç›®ç›®å½•ä¸‹ï¼š</p><ol><li>åœæ­¢ç°æœ‰æœåŠ¡ï¼š<code>docker-compose stop</code></li><li>å¼ºåˆ¶åˆ é™¤å®¹å™¨ï¼š<code>docker-compose rm -f</code></li><li>é‡æ–°æ„å»ºé•œåƒï¼š<code>docker-compose build</code></li><li>å¯åŠ¨æœåŠ¡ï¼š<code>docker-compose up -d</code></li><li>æŸ¥çœ‹æ—¥å¿—ï¼š<code>docker-compose logs</code></li></ol><p>è¿™å¥—å‘½ä»¤åºåˆ—ç¡®ä¿äº†æ¯æ¬¡éƒ¨ç½²éƒ½æ˜¯å…¨æ–°çš„çŠ¶æ€ï¼Œé¿å…äº†æ—§å®¹å™¨å’Œé•œåƒå¸¦æ¥çš„æ½œåœ¨é—®é¢˜ã€‚</p><h2 id="æŠ€æœ¯è¦ç‚¹æ€»ç»“"><a href="#æŠ€æœ¯è¦ç‚¹æ€»ç»“" class="headerlink" title="æŠ€æœ¯è¦ç‚¹æ€»ç»“"></a>æŠ€æœ¯è¦ç‚¹æ€»ç»“</h2><ol><li><strong>æœåŠ¡å‘ç°</strong>ï¼šDockerç½‘ç»œè‡ªåŠ¨æä¾›DNSè§£æï¼Œå®¹å™¨é—´é€šè¿‡æœåŠ¡åé€šä¿¡</li><li><strong>ä¾èµ–ç®¡ç†</strong>ï¼š<code>depends_on</code>ç¡®ä¿æœåŠ¡æŒ‰æ­£ç¡®é¡ºåºå¯åŠ¨</li><li><strong>é…ç½®ç®¡ç†</strong>ï¼šå„æœåŠ¡çš„é…ç½®é€šè¿‡Dockerfileå’Œdocker-compose.ymlé›†ä¸­ç®¡ç†</li><li><strong>æ•°æ®æŒä¹…åŒ–</strong>ï¼šé€šè¿‡volumeå®ç°MySQLæ•°æ®çš„æŒä¹…åŒ–å­˜å‚¨</li><li><strong>ç¯å¢ƒéš”ç¦»</strong>ï¼šè‡ªå®šä¹‰ç½‘ç»œéš”ç¦»äº†æœåŠ¡é—´çš„é€šä¿¡</li></ol><h2 id="æ‰©å±•æ€è€ƒ"><a href="#æ‰©å±•æ€è€ƒ" class="headerlink" title="æ‰©å±•æ€è€ƒ"></a>æ‰©å±•æ€è€ƒ</h2><p>é€šè¿‡è¿™ä¸ªå®æˆ˜é¡¹ç›®ï¼Œæˆ‘ä»¬ä¸ä»…å­¦ä¼šäº†Docker Composeçš„åŸºæœ¬ç”¨æ³•ï¼Œæ›´é‡è¦çš„æ˜¯ç†è§£äº†å¦‚ä½•è®¾è®¡ä¸€ä¸ªå¯ç»´æŠ¤ã€å¯æ‰©å±•çš„å®¹å™¨åŒ–åº”ç”¨æ¶æ„ã€‚è¿™ç§æ¨¡å¼å¯ä»¥æ¨å¹¿åˆ°å…¶ä»–ç±»ä¼¼çš„Webåº”ç”¨éƒ¨ç½²åœºæ™¯ä¸­ã€‚</p></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/%E6%88%91%E7%9A%84%E9%A1%B9%E7%9B%AE/" class="category-chain-item">æˆ‘çš„é¡¹ç›®</a> <span>></span> <a href="/categories/%E6%88%91%E7%9A%84%E9%A1%B9%E7%9B%AE/Docker/" class="category-chain-item">Docker</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/Docker/" class="print-no-link">#Docker</a> <a href="/tags/Ghost/" class="print-no-link">#Ghost</a></div></div><div class="license-box my-3"><div class="license-title"><div>Dockerå¤šå®¹å™¨ç¼–æ’å®æˆ˜ï¼šåŸºäºGhoståšå®¢ç³»ç»Ÿçš„å®Œæ•´éƒ¨ç½²æ–¹æ¡ˆ</div><div>https://blog.cngo.xyz/posts/9739.html</div></div><div class="license-meta"><div class="license-meta-item"><div>ä½œè€…</div><div>cngo</div></div><div class="license-meta-item license-meta-date"><div>å‘å¸ƒäº</div><div>2025å¹´4æœˆ16æ—¥</div></div><div class="license-meta-item"><div>è®¸å¯åè®®</div><div><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - ç½²å"><i class="iconfont icon-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"></article><article class="post-next col-6"><a href="/posts/c2c.html" title="SpringBootåç«¯æœåŠ¡éƒ¨ç½²å®æˆ˜"><span class="hidden-mobile">SpringBootåç«¯æœåŠ¡éƒ¨ç½²å®æˆ˜</span> <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span> <i class="iconfont icon-arrowright"></i></a></article></div></div></article></div></div></div></div></div><script src="/js/code-unfold.js"></script><div id="tools"><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a></div></main><footer><div class="footer-inner"><div class="footer-content"><div><span>Â© 2024 <a class="hover:underline" href="https://blog.cngo.xyz" target="_blank">cngoã®blog</a></span></div><div><span class="icon-MOE"></span> <a href="https://icp.gov.moe/?keyword=20240658" target="_blank">èŒICPå¤‡20240658å·</a> | <a class="hover:underline" href="https://travel.moe/go.html?travel=on" title="å¼‚æ¬¡å…ƒä¹‹æ—…-è·ƒè¿-æˆ‘ä»¬ä¸€èµ·å»èŒç«™æˆå‘˜çš„æ˜Ÿçƒæ—…è¡Œå§ï¼" target="_blank">å¼‚æ¬¡å…ƒä¹‹æ—…</a></div><div><span id="timeDate">æ­£åœ¨è½½å…¥å¤©æ•°...</span> <span id="times">è½½å…¥æ—¶åˆ†ç§’...</span><script src="/assets/js/duration.js"></script></div><div id="hitokoto">:D è·å–ä¸­...</div><script src="https://v1.hitokoto.cn/?encode=js&select=%23hitokoto" id="yiyan" defer="defer"></script><div><span>Powered by </span><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div></div><div class="statistics"><span id="leancloud-site-pv-container" style="display:none">æ€»è®¿é—®é‡ <span id="leancloud-site-pv"></span> æ¬¡ </span><span id="leancloud-site-uv-container" style="display:none">æ€»è®¿å®¢æ•° <span id="leancloud-site-uv"></span> äºº</span></div></div></footer><script src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script><script data-pjax>(function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      
      var text = subtitle.getAttribute('data-typed-text');
      if(location.pathname === "/" || location.pathname === "/index.html"){
        
        
        jQuery.ajax({
          type: 'GET',
          url: 'https://api.xygeng.cn/one',
          headers: {},
          dataType: 'json',
          success: function(result) {
            var apiText;
            if (result) {
              var keys = 'data,content'.split(',');
              if (result instanceof Array) {
                result = result[0];
              }
              for (const k of keys) {
                var value = result[k];
                if (typeof value === 'string') {
                  apiText = value;
                  break;
                } else if (value instanceof Object) {
                  result = value;
                }
              }
            }
            apiText ? typing(apiText) : typing(text);
          },
          error: function(xhr, status, error) {
            if (error) {
              console.error('Failed to request https://api.xygeng.cn/one:', error);
            }
            typing(text);
          }
        })
      
      }else{
        typing(text);
      }
    })(window, document);</script><div class="pjax-reload"><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js",function(){var t,o=jQuery("#toc");0!==o.length&&window.tocbot&&(t=jQuery("#board-ctn").offset().top,window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-t},CONFIG.toc)),0<o.find(".toc-list-item").length&&o.css("visibility","visible"),Fluid.events.registerRefreshCallback(function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;0<t.find(".toc-list-item").length&&t.css("visibility","visible")}}))})</script><script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",function(){Fluid.plugins.fancyBox()})</script><script>Fluid.plugins.imageCaption()</script><script defer="defer" src="/js/leancloud.js"></script><script src="/js/local-search.js"></script><script>console.log("hello")</script><script src="/js/img-lazyload.js"></script></div><script type="text/javascript" src="/js/setting.js"></script><div id="sc-post"></div><script src="/js/boot.js"></script><noscript><div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div></noscript><script type="text/javascript" src="/assets/js/fireworks.js" defer="defer"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script src="/assets/js/pjax.js"></script><script type="text/javascript" id="myhk" src="https://myhkw.cn/api/player/174335308268" key="174335308268" m="1"></script></body></html>