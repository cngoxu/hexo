<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Dockerå¤šå®¹å™¨ç¼–æ’å®æˆ˜ï¼šåŸºäºGhoståšå®¢ç³»ç»Ÿçš„å®Œæ•´éƒ¨ç½²æ–¹æ¡ˆ</title>
      <link href="/posts/9739.html"/>
      <url>/posts/9739.html</url>
      
        <content type="html"><![CDATA[<p>åœ¨å½“ä»Šäº‘åŸç”Ÿæ—¶ä»£ï¼ŒDockerå·²æˆä¸ºåº”ç”¨éƒ¨ç½²çš„æ ‡å‡†å·¥å…·ä¹‹ä¸€ã€‚è€ŒDocker Composeä½œä¸ºDockerå®˜æ–¹çš„å¤šå®¹å™¨ç¼–æ’å·¥å…·ï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬è½»æ¾å®šä¹‰å’Œè¿è¡Œå¤æ‚çš„å¤šå®¹å™¨åº”ç”¨ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨Docker Composeéƒ¨ç½²ä¸€ä¸ªå®Œæ•´çš„Ghoståšå®¢ç³»ç»Ÿï¼ŒåŒ…å«Ghoståº”ç”¨ã€Nginxåå‘ä»£ç†å’ŒMySQLæ•°æ®åº“ä¸‰ä¸ªæœåŠ¡ç»„ä»¶ã€‚</p><div class="note note-info">            <p>æœ¬æ¬¡Dockerå®æˆ˜åŸºäºğŸ”—<a href="https://www.imooc.com/learn/867">Dockerå…¥é—¨æ•™ç¨‹</a>ï¼Œä½†æ˜¯ç”±äºè§†é¢‘æ•™ç¨‹å·²ç»è¿‡æ—¶ï¼ˆæ—©äº2018å¹´ï¼‰ï¼Œä¸€äº›é…ç½®éœ€è¦ä¿®æ”¹ï¼Œä¸”ghoståšå®¢ç³»ç»Ÿä¼¼ä¹å·²ç»ä¸å†å…è´¹ï¼Œç½‘ç»œä¸Šæœ‰å…³ghostçš„å†…å®¹ä¹Ÿåå°‘ï¼Œæ•…é¢‡è´¹äº†ä¸€ç•ªåŠŸå¤«</p>          </div><h2 id="é¡¹ç›®æ¶æ„è®¾è®¡"><a href="#é¡¹ç›®æ¶æ„è®¾è®¡" class="headerlink" title="é¡¹ç›®æ¶æ„è®¾è®¡"></a>é¡¹ç›®æ¶æ„è®¾è®¡</h2><p>æˆ‘ä»¬çš„Ghoståšå®¢ç³»ç»Ÿé‡‡ç”¨å…¸å‹çš„ä¸‰å±‚æ¶æ„è®¾è®¡ï¼š</p><ol><li><strong>å‰ç«¯å±‚</strong>ï¼šNginxä½œä¸ºåå‘ä»£ç†æœåŠ¡å™¨ï¼Œæ¥æ”¶å¤–éƒ¨è¯·æ±‚å¹¶è½¬å‘ç»™Ghoståº”ç”¨</li><li><strong>åº”ç”¨å±‚</strong>ï¼šGhoståšå®¢ç³»ç»Ÿæœ¬èº«ï¼Œæä¾›å†…å®¹ç®¡ç†å’Œå‘å¸ƒåŠŸèƒ½</li><li><strong>æ•°æ®å±‚</strong>ï¼šMySQLæ•°æ®åº“æŒä¹…åŒ–å­˜å‚¨åšå®¢æ•°æ®</li></ol><h2 id="ç›®å½•ç»“æ„è§£æ"><a href="#ç›®å½•ç»“æ„è§£æ" class="headerlink" title="ç›®å½•ç»“æ„è§£æ"></a>ç›®å½•ç»“æ„è§£æ</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs stylus">ghost/<br>â”œâ”€â”€ ghost/<br>â”‚   â”œâ”€â”€ config<span class="hljs-selector-class">.production</span><span class="hljs-selector-class">.json</span><br>â”‚   â””â”€â”€ Dockerfile<br>â”œâ”€â”€ nginx/<br>â”‚   â”œâ”€â”€ nginx<span class="hljs-selector-class">.conf</span><br>â”‚   â””â”€â”€ Dockerfile<br>â”œâ”€â”€ data/<br>â””â”€â”€ docker-compose.yml<br></code></pre></td></tr></table></figure><ul><li><code>ghost/</code>ç›®å½•åŒ…å«Ghoståº”ç”¨çš„ç›¸å…³é…ç½®å’ŒDockerfile</li><li><code>nginx/</code>ç›®å½•åŒ…å«Nginxçš„é…ç½®æ–‡ä»¶å’ŒDockerfile</li><li><code>data/</code>ç›®å½•ç”¨äºæŒä¹…åŒ–MySQLæ•°æ®</li><li><code>docker-compose.yml</code>æ˜¯æ ¸å¿ƒçš„ç¼–æ’æ–‡ä»¶</li></ul><h2 id="æ·±å…¥è§£æDocker-Composeé…ç½®"><a href="#æ·±å…¥è§£æDocker-Composeé…ç½®" class="headerlink" title="æ·±å…¥è§£æDocker Composeé…ç½®"></a>æ·±å…¥è§£æDocker Composeé…ç½®</h2><p><code>docker-compose.yml</code>æ–‡ä»¶æ˜¯æ•´ä¸ªé¡¹ç›®çš„æ ¸å¿ƒï¼Œå®ƒå®šä¹‰äº†ä¸‰ä¸ªæœåŠ¡åŠå…¶ç›¸äº’å…³ç³»ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">&#x27;2&#x27;</span><br><br><span class="hljs-attr">networks:</span><br>  <span class="hljs-attr">ghost:</span><br><br><span class="hljs-attr">services:</span><br>  <span class="hljs-attr">ghost-app:</span><br>    <span class="hljs-attr">build:</span> <span class="hljs-string">ghost</span><br>    <span class="hljs-attr">networks:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">ghost</span><br>    <span class="hljs-attr">depends_on:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">db</span><br>    <span class="hljs-attr">ports:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;2368:2368&quot;</span><br>      <br>  <span class="hljs-attr">nginx:</span><br>    <span class="hljs-attr">build:</span> <span class="hljs-string">nginx</span><br>    <span class="hljs-attr">networks:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">ghost</span><br>    <span class="hljs-attr">depends_on:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">ghost-app</span><br>    <span class="hljs-attr">ports:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;80:80&quot;</span><br>      <br>  <span class="hljs-attr">db:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">&quot;mysql:5.7.15&quot;</span><br>    <span class="hljs-attr">networks:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">ghost</span><br>    <span class="hljs-attr">environment:</span><br>      <span class="hljs-attr">MYSQL_ROOT_PASSWORD:</span> <span class="hljs-string">mysqlroot</span><br>      <span class="hljs-attr">MYSQL_USER:</span> <span class="hljs-string">ghost</span><br>      <span class="hljs-attr">MYSQL_PASSWORD:</span> <span class="hljs-string">ghost</span><br>    <span class="hljs-attr">volumes:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">$PWD/data:/var/lib/mysql</span><br>    <span class="hljs-attr">ports:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;3306:3306&quot;</span><br></code></pre></td></tr></table></figure><blockquote><p>åŸæ•™ç¨‹ä¸­ä½¿ç”¨ghostç”¨æˆ·è®¿é—®mysqlæ•°æ®åº“æŠ¥é”™æƒé™ä¸è¶³ï¼Œæ•…æ”¹ç”¨rootç”¨æˆ·</p></blockquote><h3 id="ç½‘ç»œé…ç½®"><a href="#ç½‘ç»œé…ç½®" class="headerlink" title="ç½‘ç»œé…ç½®"></a>ç½‘ç»œé…ç½®</h3><p>æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸º<code>ghost</code>çš„è‡ªå®šä¹‰ç½‘ç»œï¼Œæ‰€æœ‰æœåŠ¡éƒ½è¿æ¥åˆ°è¿™ä¸ªç½‘ç»œã€‚è¿™æ ·æœåŠ¡ä¹‹é—´å¯ä»¥é€šè¿‡æœåŠ¡åç›¸äº’è®¿é—®ï¼ˆå¦‚Ghostå¯ä»¥é€šè¿‡<code>db</code>ä¸»æœºåè®¿é—®MySQLæœåŠ¡ï¼‰ï¼Œè€Œæ— éœ€å…³å¿ƒIPåœ°å€å˜åŒ–ã€‚</p><h3 id="æœåŠ¡ä¾èµ–å…³ç³»"><a href="#æœåŠ¡ä¾èµ–å…³ç³»" class="headerlink" title="æœåŠ¡ä¾èµ–å…³ç³»"></a>æœåŠ¡ä¾èµ–å…³ç³»</h3><ul><li><code>ghost-app</code>ä¾èµ–äº<code>db</code>æœåŠ¡ï¼Œç¡®ä¿æ•°æ®åº“å…ˆå¯åŠ¨</li><li><code>nginx</code>ä¾èµ–äº<code>ghost-app</code>æœåŠ¡ï¼Œç¡®ä¿åº”ç”¨æœåŠ¡å…ˆå¯åŠ¨</li></ul><h3 id="æ•°æ®æŒä¹…åŒ–"><a href="#æ•°æ®æŒä¹…åŒ–" class="headerlink" title="æ•°æ®æŒä¹…åŒ–"></a>æ•°æ®æŒä¹…åŒ–</h3><p>MySQLæœåŠ¡ä½¿ç”¨<code>volumes</code>å°†å®¹å™¨å†…çš„<code>/var/lib/mysql</code>ç›®å½•æ˜ å°„åˆ°å®¿ä¸»æœºçš„<code>./data</code>ç›®å½•ï¼Œç¡®ä¿æ•°æ®åº“æ•°æ®ä¸ä¼šå› å®¹å™¨é‡å¯è€Œä¸¢å¤±ã€‚</p><h2 id="Ghoståº”ç”¨é…ç½®è¯¦è§£"><a href="#Ghoståº”ç”¨é…ç½®è¯¦è§£" class="headerlink" title="Ghoståº”ç”¨é…ç½®è¯¦è§£"></a>Ghoståº”ç”¨é…ç½®è¯¦è§£</h2><p>Ghostçš„é…ç½®æ–‡ä»¶<code>config.production.json</code>åŒ…å«äº†åº”ç”¨çš„æ ¸å¿ƒé…ç½®ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;url&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;http://localhost&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;server&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2368</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;host&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;0.0.0.0&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;database&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;client&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;mysql&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;connection&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;host&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;db&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;user&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;root&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;password&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;mysqlroot&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;database&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ghost&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3306</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;charset&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;utf8&quot;</span><br>      <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;debug&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-comment">// å…¶ä»–é…ç½®...</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>å…³é”®ç‚¹è¯´æ˜ï¼š</p><ul><li>æ•°æ®åº“è¿æ¥ä½¿ç”¨æœåŠ¡å<code>db</code>ä½œä¸ºä¸»æœºåï¼Œè¿™æ˜¯Dockerç½‘ç»œæä¾›çš„æœåŠ¡å‘ç°èƒ½åŠ›</li><li>æ•°æ®åº“å‡­æ®ä¸docker-composeä¸­å®šä¹‰çš„MySQLç¯å¢ƒå˜é‡ä¸€è‡´</li><li>æœåŠ¡å™¨ç›‘å¬<code>0.0.0.0</code>ä»¥ä¾¿å®¹å™¨å¤–éƒ¨å¯ä»¥è®¿é—®</li></ul><p><code>./ghost/Dockerfile</code></p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs dockerfile"><span class="hljs-keyword">FROM</span> ghost:<span class="hljs-number">5.94</span>.<span class="hljs-number">1</span><br><span class="hljs-comment">#COPY ./config.js /var/lib/ghost/content/config.js</span><br><span class="hljs-comment">#CMD [&quot;cat&quot;, &quot;config.production.json&quot;]</span><br><span class="hljs-keyword">COPY</span><span class="language-bash"> ./config.production.json /var/lib/ghost/config.production.json</span><br><span class="hljs-keyword">EXPOSE</span> <span class="hljs-number">2368</span><br><span class="hljs-comment">#CMD [&quot;npm&quot;, &quot;start&quot;, &quot;--production&quot;]</span><br></code></pre></td></tr></table></figure><ul><li>æŒ‡å®šäº†ä½¿ç”¨å®˜æ–¹ Ghost é•œåƒçš„ 5.94.1 ç‰ˆæœ¬ä½œä¸ºåŸºç¡€ã€‚å®˜æ–¹é•œåƒå·²ç»é¢„é…ç½®äº† Node.js ç¯å¢ƒå’Œ Ghost è¿è¡Œæ‰€éœ€çš„æ‰€æœ‰ä¾èµ–</li><li>å°†å®¿ä¸»æœºä¸Šçš„é…ç½®æ–‡ä»¶å¤åˆ¶åˆ°å®¹å™¨å†… Ghost çš„é»˜è®¤é…ç½®ç›®å½•</li><li>å£°æ˜å®¹å™¨è¿è¡Œæ—¶ç›‘å¬çš„ç«¯å£, Ghost é»˜è®¤ä½¿ç”¨ 2368 ç«¯å£ï¼š</li><li>æ³¨é‡Šæ‰çš„ CMD [â€œnpmâ€, â€œstartâ€, â€œâ€“productionâ€]ï¼Œè¿™æ˜¯ä¸å¿…è¦çš„ï¼Œå› ä¸ºæ–°ç‰ˆæœ¬GhoståŸºç¡€é•œåƒå·²ç»åŒ…å«äº†æ­£ç¡®çš„å¯åŠ¨å‘½ä»¤</li></ul><blockquote><p>åŸæ•™ç¨‹ä¸­æ—§ç‰ˆæœ¬ghostä½¿ç”¨config.jsæ–‡ä»¶è¿›è¡Œé…ç½®ï¼Œä¸”éœ€è¦åŠ ä¸Šå¯åŠ¨å‘½ä»¤</p></blockquote><h2 id="Nginxåå‘ä»£ç†é…ç½®"><a href="#Nginxåå‘ä»£ç†é…ç½®" class="headerlink" title="Nginxåå‘ä»£ç†é…ç½®"></a>Nginxåå‘ä»£ç†é…ç½®</h2><p>Nginxä½œä¸ºå‰ç«¯ä»£ç†ï¼Œå°†æ‰€æœ‰80ç«¯å£çš„è¯·æ±‚è½¬å‘åˆ°Ghoståº”ç”¨çš„2368ç«¯å£ï¼š</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">worker_processes</span> <span class="hljs-number">4</span>;<br><span class="hljs-section">events</span> &#123;<span class="hljs-attribute">worker_connections</span> <span class="hljs-number">1024</span>;&#125;<br><span class="hljs-section">http</span> &#123;<br><span class="hljs-section">server</span> &#123;<br><span class="hljs-attribute">listen</span> <span class="hljs-number">80</span>;<br><span class="hljs-section">location</span> / &#123;<br><span class="hljs-attribute">proxy_pass</span> http://ghost-app:2368;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™é‡ŒåŒæ ·åˆ©ç”¨äº†Dockerç½‘ç»œçš„æœåŠ¡å‘ç°èƒ½åŠ›ï¼Œé€šè¿‡æœåŠ¡å<code>ghost-app</code>è®¿é—®Ghoståº”ç”¨ã€‚</p><p><code>./nginx/Dockerfile</code>ï¼š</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs dockerfile"><span class="hljs-keyword">FROM</span> nginx<br><span class="hljs-keyword">COPY</span><span class="language-bash"> nginx.conf /etc/nginx/nginx.conf</span><br><span class="hljs-keyword">EXPOSE</span> <span class="hljs-number">80</span><br></code></pre></td></tr></table></figure><ul><li>FROM nginx ä½¿ç”¨äº†æœ€æ–°ç‰ˆçš„å®˜æ–¹ Nginx é•œåƒ,å®˜æ–¹é•œåƒå·²ç»åŒ…å«äº† Nginx çš„æœ€ä½³å®è·µé…ç½®</li><li>ç”¨è‡ªå®šä¹‰é…ç½®å®Œå…¨æ›¿æ¢é»˜è®¤çš„ Nginx é…ç½®, ç›®æ ‡è·¯å¾„ &#x2F;etc&#x2F;nginx&#x2F;nginx.conf æ˜¯ Nginx çš„ä¸»é…ç½®æ–‡ä»¶ä½ç½®</li><li>EXPOSE 80 å£°æ˜å®¹å™¨å°†ç›‘å¬ HTTP é»˜è®¤ç«¯å£, å¯¹åº” docker-compose.yml ä¸­çš„ç«¯å£æ˜ å°„, å®é™…è®¿é—®ä¼šé€šè¿‡å®¿ä¸»æœºçš„ 80 ç«¯å£æš´éœ²æœåŠ¡</li></ul><h2 id="æ„å»ºä¸éƒ¨ç½²æµç¨‹"><a href="#æ„å»ºä¸éƒ¨ç½²æµç¨‹" class="headerlink" title="æ„å»ºä¸éƒ¨ç½²æµç¨‹"></a>æ„å»ºä¸éƒ¨ç½²æµç¨‹</h2><p>å®Œæ•´çš„æ„å»ºå’Œéƒ¨ç½²æµç¨‹å¦‚ä¸‹ï¼Œåœ¨ghosté¡¹ç›®ç›®å½•ä¸‹ï¼š</p><ol><li>åœæ­¢ç°æœ‰æœåŠ¡ï¼š<code>docker-compose stop</code></li><li>å¼ºåˆ¶åˆ é™¤å®¹å™¨ï¼š<code>docker-compose rm -f</code></li><li>é‡æ–°æ„å»ºé•œåƒï¼š<code>docker-compose build</code></li><li>å¯åŠ¨æœåŠ¡ï¼š<code>docker-compose up -d</code></li><li>æŸ¥çœ‹æ—¥å¿—ï¼š<code>docker-compose logs</code></li></ol><p>è¿™å¥—å‘½ä»¤åºåˆ—ç¡®ä¿äº†æ¯æ¬¡éƒ¨ç½²éƒ½æ˜¯å…¨æ–°çš„çŠ¶æ€ï¼Œé¿å…äº†æ—§å®¹å™¨å’Œé•œåƒå¸¦æ¥çš„æ½œåœ¨é—®é¢˜ã€‚</p><h2 id="æŠ€æœ¯è¦ç‚¹æ€»ç»“"><a href="#æŠ€æœ¯è¦ç‚¹æ€»ç»“" class="headerlink" title="æŠ€æœ¯è¦ç‚¹æ€»ç»“"></a>æŠ€æœ¯è¦ç‚¹æ€»ç»“</h2><ol><li><strong>æœåŠ¡å‘ç°</strong>ï¼šDockerç½‘ç»œè‡ªåŠ¨æä¾›DNSè§£æï¼Œå®¹å™¨é—´é€šè¿‡æœåŠ¡åé€šä¿¡</li><li><strong>ä¾èµ–ç®¡ç†</strong>ï¼š<code>depends_on</code>ç¡®ä¿æœåŠ¡æŒ‰æ­£ç¡®é¡ºåºå¯åŠ¨</li><li><strong>é…ç½®ç®¡ç†</strong>ï¼šå„æœåŠ¡çš„é…ç½®é€šè¿‡Dockerfileå’Œdocker-compose.ymlé›†ä¸­ç®¡ç†</li><li><strong>æ•°æ®æŒä¹…åŒ–</strong>ï¼šé€šè¿‡volumeå®ç°MySQLæ•°æ®çš„æŒä¹…åŒ–å­˜å‚¨</li><li><strong>ç¯å¢ƒéš”ç¦»</strong>ï¼šè‡ªå®šä¹‰ç½‘ç»œéš”ç¦»äº†æœåŠ¡é—´çš„é€šä¿¡</li></ol><h2 id="æ‰©å±•æ€è€ƒ"><a href="#æ‰©å±•æ€è€ƒ" class="headerlink" title="æ‰©å±•æ€è€ƒ"></a>æ‰©å±•æ€è€ƒ</h2><p>é€šè¿‡è¿™ä¸ªå®æˆ˜é¡¹ç›®ï¼Œæˆ‘ä»¬ä¸ä»…å­¦ä¼šäº†Docker Composeçš„åŸºæœ¬ç”¨æ³•ï¼Œæ›´é‡è¦çš„æ˜¯ç†è§£äº†å¦‚ä½•è®¾è®¡ä¸€ä¸ªå¯ç»´æŠ¤ã€å¯æ‰©å±•çš„å®¹å™¨åŒ–åº”ç”¨æ¶æ„ã€‚è¿™ç§æ¨¡å¼å¯ä»¥æ¨å¹¿åˆ°å…¶ä»–ç±»ä¼¼çš„Webåº”ç”¨éƒ¨ç½²åœºæ™¯ä¸­ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æˆ‘çš„é¡¹ç›® </category>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> Ghost </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringBootåç«¯æœåŠ¡éƒ¨ç½²å®æˆ˜</title>
      <link href="/posts/c2c.html"/>
      <url>/posts/c2c.html</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¿™æ˜¯æˆ‘å®Œæˆçš„ç¬¬ä¸€ä¸ªåŸºäºJavaæŠ€æœ¯æ ˆçš„åç«¯å¼€å‘é¡¹ç›®ï¼Œæ•´åˆäº†SpringBootæ¡†æ¶å’ŒMybatisæŒä¹…å±‚æ¡†æ¶ã€‚</p><p>ç›®å‰é¡¹ç›®å·²å®ŒæˆåŸºç¡€åŠŸèƒ½å¼€å‘å¹¶éƒ¨ç½²ä¸Šçº¿ï¼Œæµ‹è¯•åœ°å€ä¸ºï¼š<a href="https://mall.cngo.xyz/">https://mall.cngo.xyz/</a></p><h2 id="ä¸€ã€é¡¹ç›®ç»“æ„"><a href="#ä¸€ã€é¡¹ç›®ç»“æ„" class="headerlink" title="ä¸€ã€é¡¹ç›®ç»“æ„"></a>ä¸€ã€é¡¹ç›®ç»“æ„</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs markdown">project/<br>â”œâ”€â”€ src/<br>â”‚   â””â”€â”€ main/<br>â”‚   â”œâ”€â”€ java/com/miaoshaproject   # javaæºç <br>â”‚   â””â”€â”€ resources/<br>â”‚       â””â”€â”€ application.properties # SpringBootåº”ç”¨ç¨‹åºé…ç½®æ–‡ä»¶ <br>â”œâ”€â”€ pom.xml                       # Mavenä¾èµ–ç®¡ç†<br>â”œâ”€â”€ leanignore.txt                # äº‘å¼•æ“å¿½ç•¥æ–‡ä»¶<br>â””â”€â”€ system.properties     # äº‘å¼•æ“é…ç½®æ–‡ä»¶<br></code></pre></td></tr></table></figure><blockquote><p>é¡¹ç›®JDKç‰ˆæœ¬ä¸º1.8ï¼Œæ•…éœ€è¦åœ¨<code>system.properties</code>ä¸­è®¾ç½®<code>java.runtime.version=8</code></p></blockquote><h2 id="äºŒã€MySQLæœåŠ¡é›†æˆ"><a href="#äºŒã€MySQLæœåŠ¡é›†æˆ" class="headerlink" title="äºŒã€MySQLæœåŠ¡é›†æˆ"></a>äºŒã€MySQLæœåŠ¡é›†æˆ</h2><p>ä¿®æ”¹application.propertiesä¸­é…ç½®çš„MysqlæœåŠ¡é…ç½®</p>   <figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">spring.datasource.name</span>=<span class="hljs-string">miaosha</span><br><span class="hljs-attr">spring.datasource.url</span>=<span class="hljs-string">$&#123;DB_URL&#125;          # ä»ç¯å¢ƒå˜é‡è¯»å–ï¼Œåœ¨äº‘å¼•æ“å®˜ç½‘é…ç½®</span><br><span class="hljs-attr">spring.datasource.username</span>=<span class="hljs-string">$&#123;DB_USERNAME&#125;</span><br><span class="hljs-attr">spring.datasource.password</span>=<span class="hljs-string">$&#123;DB_PASSWORD&#125;</span><br></code></pre></td></tr></table></figure><p>   <em>æ¨èä½¿ç”¨<a href="https://sqlpub.com/">sqlpub.com</a>ç­‰äº‘æ•°æ®åº“æœåŠ¡</em></p><h2 id="ä¸‰ã€é¡¹ç›®æ„å»º"><a href="#ä¸‰ã€é¡¹ç›®æ„å»º" class="headerlink" title="ä¸‰ã€é¡¹ç›®æ„å»º"></a>ä¸‰ã€é¡¹ç›®æ„å»º</h2><div class="note note-waring">            <p>äº‘å¼•æ“é»˜è®¤çš„æ„å»ºå‘½ä»¤ä¸º<code>mvn package --batch-mode</code>ï¼Œé¡¹ç›®ä¸ºSpringBooté¡¹ç›®ï¼Œæ„å»ºå®ŒåæŠ¥é”™</p><ol><li><code>no main manifest attribute, in test-0.0.1-SNAPSHOT.jar</code> åŸå› æ˜¯æ‰¾ä¸åˆ°ä¸»ç±»</li><li><code>java.lang.NoClassDefFoundError: org/springframework/boot/SpringApplication</code> jaråŒ…ä¸­ç¼ºå°‘ç›¸å…³ä¾èµ–</li></ol>          </div><h3 id="1-é…ç½®Spring-Bootæ‰“åŒ…æ’ä»¶"><a href="#1-é…ç½®Spring-Bootæ‰“åŒ…æ’ä»¶" class="headerlink" title="1.é…ç½®Spring Bootæ‰“åŒ…æ’ä»¶"></a>1.é…ç½®Spring Bootæ‰“åŒ…æ’ä»¶</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- Spring Boot æ‰“åŒ…æ’ä»¶ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.0.5.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span> <span class="hljs-comment">&lt;!-- ä½¿ç”¨ä½ çš„ Spring Boot ç‰ˆæœ¬ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">mainClass</span>&gt;</span>com.miaoshaproject.App<span class="hljs-tag">&lt;/<span class="hljs-name">mainClass</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">executions</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">execution</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">goals</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">goal</span>&gt;</span>repackage<span class="hljs-tag">&lt;/<span class="hljs-name">goal</span>&gt;</span> <span class="hljs-comment">&lt;!-- å°†æ™®é€š JAR é‡æ–°æ‰“åŒ…ä¸ºå¯æ‰§è¡Œ JAR --&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">goals</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">execution</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">executions</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="2-ä¿®æ”¹æ„å»ºå‘½ä»¤"><a href="#2-ä¿®æ”¹æ„å»ºå‘½ä»¤" class="headerlink" title="2.ä¿®æ”¹æ„å»ºå‘½ä»¤"></a>2.ä¿®æ”¹æ„å»ºå‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># ä¸‰æ­¥åˆä¸€å‘½ä»¤ï¼ˆæ¸…ç†+æ‰“åŒ…+é‡æ‰“åŒ…ï¼‰</span><br>mvn clean package spring-boot:repackage<br></code></pre></td></tr></table></figure><blockquote><p>ç°åœ¨ç”Ÿæˆçš„<code>miaosha-1.0-SNAPSHOT.jar</code>å°±å¯ä»¥ç‹¬ç«‹è¿è¡Œäº†ã€‚</p></blockquote><h2 id="å››ã€é¡¹ç›®è¿è¡Œ"><a href="#å››ã€é¡¹ç›®è¿è¡Œ" class="headerlink" title="å››ã€é¡¹ç›®è¿è¡Œ"></a>å››ã€é¡¹ç›®è¿è¡Œ</h2><ol><li><p>ä¿®æ”¹è¿è¡Œå‘½ä»¤ä¸º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">java -jar /home/leanengine/app/target/miaosha-1.0-SNAPSHOT.jar \<br>  --server.port=<span class="hljs-variable">$&#123;LEANCLOUD_APP_PORT&#125;</span> \  <span class="hljs-comment"># å¿…é¡»è¯»å–ç¯å¢ƒå˜é‡ç«¯å£</span><br>  --server.address=0.0.0.0              <span class="hljs-comment"># ç›‘å¬æ‰€æœ‰ç½‘å¡ï¼</span><br></code></pre></td></tr></table></figure></li><li><p><strong>é¿å‘æŒ‡å—</strong></p><ul><li>äº‘å¼•æ“å¼ºåˆ¶è¦æ±‚ç›‘å¬<code>0.0.0.0</code>è€Œé<code>127.0.0.1</code>ï¼ŒSpringBootæ¡†æ¶é»˜è®¤æ˜¯<code>127.0.0.1</code></li><li><code>LEANCLOUD_APP_PORT</code>æ˜¯å¹³å°åŠ¨æ€åˆ†é…çš„HTTPç«¯å£ï¼Œäº‘å¼•æ“ä¼šç›‘å¬è¯¥ç«¯å£æ˜¯å¦æœ‰httpæœåŠ¡</li></ul></li></ol><blockquote><p>é¡¹ç›®æˆåŠŸè¿è¡Œèµ·æ¥äº†â—</p></blockquote><h2 id="äº”ã€ä¿®å¤Bug"><a href="#äº”ã€ä¿®å¤Bug" class="headerlink" title="äº”ã€ä¿®å¤Bug"></a>äº”ã€ä¿®å¤Bug</h2><ol><li><p><strong>è§£å†³è·¨åŸŸCookieä¸¢å¤±</strong> </p><div class="note note-waring">            <p>ä¸ºäº†å‡è½»äº‘å¼•æ“çš„å‹åŠ›ï¼Œé‡‡ç”¨äº†å‰åç«¯åˆ†ç¦»éƒ¨ç½²æ–¹å¼ï¼Œä½†æ˜¯ç”±äºå‰åç«¯åŸŸåä¸ä¸€è‡´ï¼Œå­˜åœ¨è·¨åŸŸCookieä¸¢å¤±é—®é¢˜ï¼Œæ— æ³•åœ¨Cookieä¸­ä¿å­˜ç”¨æˆ·çš„ç™»é™†ä¿¡æ¯</p>          </div><p>è§£å†³æ–¹æ³•ï¼šåœ¨ç™»å½•æ¥å£ï¼ˆ&#x2F;loginï¼‰ä¸­ï¼Œå¢åŠ ä»£ç è®¾ç½®SameSite&#x3D;None</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// è®¾ç½®SameSite=Noneçš„Cookie - å…¼å®¹æ—§ç‰ˆServlet APIçš„æ–¹å¼</span><br><span class="hljs-keyword">if</span> (httpServletResponse != <span class="hljs-literal">null</span>) &#123;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">sessionId</span> <span class="hljs-operator">=</span> httpServletRequest.getSession().getId();<br>    <span class="hljs-type">String</span> <span class="hljs-variable">cookieValue</span> <span class="hljs-operator">=</span> String.format(<span class="hljs-string">&quot;JSESSIONID=%s; Path=/; HttpOnly; Secure; SameSite=None&quot;</span>, sessionId);<br>    httpServletResponse.addHeader(<span class="hljs-string">&quot;Set-Cookie&quot;</span>, cookieValue);<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>é€šè¿‡è¿™æ¬¡éƒ¨ç½²ï¼ŒæŒæ¡äº†ï¼š</p><p>âœ… Spring Bootå¯æ‰§è¡ŒJARçš„æ‰“åŒ…åŸç†</p><p>âœ… äº‘å¼•æ“çš„ç‰¹æ®Šè¦æ±‚ä¸é…ç½®</p><p>âœ… è·¨åŸŸåœºæ™¯ä¸‹Cookieçš„å®‰å…¨è®¾ç½®</p><p>âœ… å¤–éƒ¨æ•°æ®åº“æœåŠ¡çš„å¿«é€Ÿæ¥å…¥  </p>]]></content>
      
      
      <categories>
          
          <category> æˆ‘çš„é¡¹ç›® </category>
          
          <category> é¡¹ç›®è¿ç»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QtåŒæ­¥æ’­æ”¾å™¨ç³»ç»Ÿï¼šè®¾è®¡ä¸å®ç°</title>
      <link href="/posts/4f01.html"/>
      <url>/posts/4f01.html</url>
      
        <content type="html"><![CDATA[<h2 id="é¡¹ç›®æ¦‚è¿°ä¸æ¶æ„è®¾è®¡"><a href="#é¡¹ç›®æ¦‚è¿°ä¸æ¶æ„è®¾è®¡" class="headerlink" title="é¡¹ç›®æ¦‚è¿°ä¸æ¶æ„è®¾è®¡"></a>é¡¹ç›®æ¦‚è¿°ä¸æ¶æ„è®¾è®¡</h2><p>æœ¬ç³»ç»Ÿæ˜¯ä¸€ä¸ªåŸºäºQtæ¡†æ¶çš„åŒæ­¥æ’­æ”¾å™¨è§£å†³æ–¹æ¡ˆï¼Œå®ç°äº†åª’ä½“æ’­æ”¾åŠŸèƒ½ä¸ç½‘ç»œåŒæ­¥æ§åˆ¶çš„åŒé‡èƒ½åŠ›ã€‚ç³»ç»Ÿé‡‡ç”¨å®¢æˆ·ç«¯-æœåŠ¡å™¨æ¶æ„ï¼Œå…è®¸ä¸€ä¸ªæ’­æ”¾å™¨å®ä¾‹ä½œä¸ºä¸»æ§ç«¯ï¼ˆæœåŠ¡å™¨ï¼‰ï¼Œå…¶ä»–å®ä¾‹ä½œä¸ºå®¢æˆ·ç«¯å®ç°æ’­æ”¾çŠ¶æ€çš„åŒæ­¥ã€‚</p><h3 id="æ•´ä½“æ¶æ„"><a href="#æ•´ä½“æ¶æ„" class="headerlink" title="æ•´ä½“æ¶æ„"></a>æ•´ä½“æ¶æ„</h3><p>ç³»ç»Ÿé‡‡ç”¨<strong>æ¨¡å—åŒ–åˆ†å±‚è®¾è®¡</strong>ï¼š</p><ul><li><strong>è¡¨ç¤ºå±‚</strong>ï¼šMainWindowç±»åŠå…¶UIç»„ä»¶</li><li><strong>ä¸šåŠ¡é€»è¾‘å±‚</strong>ï¼šPlayerControllerå®ç°æ’­æ”¾æ§åˆ¶</li><li><strong>ç½‘ç»œé€šä¿¡å±‚</strong>ï¼šTcpBaseåŠå…¶å­ç±»å¤„ç†ç½‘ç»œä¼ è¾“</li><li><strong>æ¶ˆæ¯åè®®å±‚</strong>ï¼šCommonMessageæä¾›ç»Ÿä¸€çš„æ¶ˆæ¯æ ¼å¼</li></ul><h2 id="æ ¸å¿ƒç±»è®¾è®¡ä¸å…³ç³»"><a href="#æ ¸å¿ƒç±»è®¾è®¡ä¸å…³ç³»" class="headerlink" title="æ ¸å¿ƒç±»è®¾è®¡ä¸å…³ç³»"></a>æ ¸å¿ƒç±»è®¾è®¡ä¸å…³ç³»</h2><pre><code class=" mermaid">classDiagram    class MainWindow&#123;        -ui: Ui::MainWindow        -player: PlayerController*        -client: TcpClient*        -server: TcpServer*        -tcpCommon: TcpBase*        +onRecvNewMsg()        +onTimeOut()        +InitUI()    &#125;        class PlayerController&#123;        -axWidget: QAxWidget*        -playState: PlayerState        +getCurrentMediaInfo()        +setPlayState()        +onPlayStateChange()    &#125;        class TcpBase&#123;        #socket: QTcpSocket*        #source: MesSource        +sendMsg()        +closeConnetion()        +onRecvMsg()    &#125;        class TcpClient&#123;        +connectToHost()    &#125;        class TcpServer&#123;        -server: QTcpServer*        +listenToConnect()        +onNewConnectFromClient()    &#125;        class CommonMessage&#123;        -type: MessageType        -msg: QString        -timestamp        +messageToString()        +stringToMessage()    &#125;        MainWindow --&gt; PlayerController: æ§åˆ¶    MainWindow --&gt; TcpBase: èšåˆ    TcpBase &lt;|-- TcpClient: ç»§æ‰¿    TcpBase &lt;|-- TcpServer: ç»§æ‰¿    MainWindow ..&gt; CommonMessage: ä½¿ç”¨    PlayerController ..&gt; CommonMessage: äº§ç”Ÿ    TcpBase ..&gt; CommonMessage: ä¼ è¾“</code></pre><h3 id="å…³é”®ç±»èŒè´£"><a href="#å…³é”®ç±»èŒè´£" class="headerlink" title="å…³é”®ç±»èŒè´£"></a>å…³é”®ç±»èŒè´£</h3><ol><li><p><strong>MainWindow</strong>ï¼š</p><ul><li>ä½œä¸ºåº”ç”¨æ ¸å¿ƒæ§åˆ¶å™¨</li><li>åˆå§‹åŒ–UIå’Œå„ä¸ªæ¨¡å—</li><li>å®ç°æ¶ˆæ¯ç»Ÿä¸€åˆ†å‘</li><li>åè°ƒæ’­æ”¾ä¸ç½‘ç»œåŒæ­¥</li></ul></li><li><p><strong>PlayerController</strong>ï¼š</p><ul><li>å°è£…Windows Media PlayeråŠŸèƒ½</li><li>ç®¡ç†æ’­æ”¾çŠ¶æ€</li><li>è½¬æ¢æ’­æ”¾å™¨äº‹ä»¶ä¸ºç³»ç»Ÿæ¶ˆæ¯</li><li>æä¾›åª’ä½“ä¿¡æ¯æŸ¥è¯¢æ¥å£</li></ul></li><li><p><strong>TcpBaseåŠå…¶å­ç±»</strong>ï¼š</p><ul><li>å®ç°åŸºç¡€ç½‘ç»œé€šä¿¡èƒ½åŠ›</li><li>å®¢æˆ·ç«¯&#x2F;æœåŠ¡å™¨åŒæ¨¡å¼æ”¯æŒ</li><li>å¤„ç†è¿æ¥çŠ¶æ€å’Œé”™è¯¯</li><li>æ¶ˆæ¯æ”¶å‘åŠŸèƒ½</li></ul></li><li><p><strong>CommonMessage</strong>ï¼š</p><ul><li>å®šä¹‰ç³»ç»Ÿæ¶ˆæ¯æ ‡å‡†æ ¼å¼</li><li>æä¾›åºåˆ—åŒ–&#x2F;ååºåˆ—åŒ–æ–¹æ³•</li><li>åŒ…å«æ—¶é—´æˆ³å’Œæ¶ˆæ¯ç±»å‹ç­‰ä¿¡æ¯</li></ul></li></ol><h2 id="æ ¸å¿ƒåŠŸèƒ½å®ç°è§£æ"><a href="#æ ¸å¿ƒåŠŸèƒ½å®ç°è§£æ" class="headerlink" title="æ ¸å¿ƒåŠŸèƒ½å®ç°è§£æ"></a>æ ¸å¿ƒåŠŸèƒ½å®ç°è§£æ</h2><h3 id="1-æ¶ˆæ¯é©±åŠ¨æœºåˆ¶"><a href="#1-æ¶ˆæ¯é©±åŠ¨æœºåˆ¶" class="headerlink" title="1. æ¶ˆæ¯é©±åŠ¨æœºåˆ¶"></a>1. æ¶ˆæ¯é©±åŠ¨æœºåˆ¶</h3><p>ç³»ç»Ÿé‡‡ç”¨<strong>ç»Ÿä¸€æ¶ˆæ¯æ€»çº¿</strong>è®¾è®¡ï¼Œæ‰€æœ‰ç»„ä»¶é€šè¿‡CommonMessageè¿›è¡Œé€šä¿¡ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// å…¸å‹æ¶ˆæ¯å¤„ç†æµç¨‹</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">PlayerController::onPlayStateChange</span><span class="hljs-params">(<span class="hljs-type">int</span> newState)</span></span>&#123;<br>    playState = (PlayerState)newState;<br>    CommonMessage msg = <span class="hljs-built_in">CommonMessage</span>(PlayerStateChange, QString::<span class="hljs-built_in">number</span>(playState));<br>    <span class="hljs-function">emit <span class="hljs-title">sendMsgToMain</span><span class="hljs-params">(LocalPlayer, msg)</span></span>; <span class="hljs-comment">// å‘é€ä¿¡å·</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">MainWindow::onRecvNewMsg</span><span class="hljs-params">(MesSource source, CommonMessage msg)</span></span>&#123;<br>    <span class="hljs-comment">// æ ¹æ®æ¥æºå’Œç±»å‹å¤„ç†æ¶ˆæ¯</span><br>    <span class="hljs-keyword">if</span>(source == LocalPlayer)&#123;<br>        <span class="hljs-comment">// å¤„ç†æœ¬åœ°æ’­æ”¾å™¨æ¶ˆæ¯</span><br>        <span class="hljs-keyword">if</span>(tcpCommon &amp;&amp; ui-&gt;ck_sync-&gt;<span class="hljs-built_in">isChecked</span>())&#123;<br>            tcpCommon-&gt;<span class="hljs-built_in">sendMsg</span>(CommonMessage::<span class="hljs-built_in">messageToString</span>(msg));<br>        &#125;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-comment">// å¤„ç†ç½‘ç»œå¯¹ç«¯æ¶ˆæ¯</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-ç½‘ç»œåŒæ­¥å®ç°"><a href="#2-ç½‘ç»œåŒæ­¥å®ç°" class="headerlink" title="2. ç½‘ç»œåŒæ­¥å®ç°"></a>2. ç½‘ç»œåŒæ­¥å®ç°</h3><p>ç³»ç»Ÿæä¾›ä¸¤ç§ç½‘ç»œæ¨¡å¼ï¼š</p><p><strong>æœåŠ¡å™¨æ¨¡å¼</strong>ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">TcpServer::listenToConnect</span><span class="hljs-params">(QHostAddress addr, <span class="hljs-type">int</span> port)</span></span>&#123;<br>    <span class="hljs-type">bool</span> state = server-&gt;<span class="hljs-built_in">listen</span>(addr, port);<br>    <span class="hljs-keyword">if</span>(state)&#123;<br>        <span class="hljs-built_in">connect</span>(server, &amp;QTcpServer::newConnection, <br>                <span class="hljs-keyword">this</span>, &amp;TcpServer::onNewConnectFromClient);<br>    &#125;<br>    <span class="hljs-keyword">return</span> state;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">TcpServer::onNewConnectFromClient</span><span class="hljs-params">()</span></span>&#123;<br>    socket = server-&gt;<span class="hljs-built_in">nextPendingConnection</span>();<br>    <span class="hljs-comment">// è®¾ç½®ä¿¡å·æ§½è¿æ¥...</span><br>    <span class="hljs-function">emit <span class="hljs-title">sendMsgToMain</span><span class="hljs-params">(source, CommonMessage(NewConnection, peerInfo))</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>å®¢æˆ·ç«¯æ¨¡å¼</strong>ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">TcpClient::connectToHost</span><span class="hljs-params">(<span class="hljs-type">const</span> QHostAddress &amp;address, quint16 port)</span></span>&#123;<br>    socket-&gt;<span class="hljs-built_in">connectToHost</span>(address, port);<br>    <span class="hljs-keyword">if</span>(socket-&gt;<span class="hljs-built_in">waitForConnected</span>(<span class="hljs-number">1000</span>))&#123;<br>        <span class="hljs-built_in">connect</span>(socket, &amp;QTcpSocket::readyRead, <br>                <span class="hljs-keyword">this</span>, &amp;TcpClient::onRecvMsg);<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-æ’­æ”¾å™¨æ§åˆ¶"><a href="#3-æ’­æ”¾å™¨æ§åˆ¶" class="headerlink" title="3. æ’­æ”¾å™¨æ§åˆ¶"></a>3. æ’­æ”¾å™¨æ§åˆ¶</h3><p>PlayerControllerç±»å°è£…äº†Windows Media Playerçš„ActiveXæ§ä»¶ï¼ˆé€šè¿‡QAxWidgetï¼‰ï¼Œæä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š</p><ul><li>æ’­æ”¾&#x2F;æš‚åœ&#x2F;åœæ­¢æ§åˆ¶</li><li>è¿›åº¦æ§åˆ¶</li><li>å…¨å±æ’­æ”¾</li><li>åª’ä½“ä¿¡æ¯è·å–</li><li>çŠ¶æ€å˜åŒ–é€šçŸ¥</li></ul><p>PlayerControllerå…³é”®å®ç°ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">PlayerController::setCurrentPosition</span><span class="hljs-params">(QString pos)</span></span>&#123;<br>    controls-&gt;<span class="hljs-built_in">setProperty</span>(<span class="hljs-string">&quot;currentPosition&quot;</span>, pos.<span class="hljs-built_in">toDouble</span>());<br>&#125;<br><br><span class="hljs-function">MediaInfo <span class="hljs-title">PlayerController::getCurrentMediaInfo</span><span class="hljs-params">()</span></span>&#123;<br>    MediaInfo info;<br>    currentMedia = axWidget-&gt;<span class="hljs-built_in">querySubObject</span>(<span class="hljs-string">&quot;currentMedia&quot;</span>);<br>    info.title = currentMedia-&gt;<span class="hljs-built_in">dynamicCall</span>(<span class="hljs-string">&quot;getItemInfo(QString)&quot;</span>,<span class="hljs-string">&quot;title&quot;</span>).<span class="hljs-built_in">toString</span>();<br>    info.duration = currentMedia-&gt;<span class="hljs-built_in">dynamicCall</span>(<span class="hljs-string">&quot;getItemInfo(QString)&quot;</span>,<span class="hljs-string">&quot;duration&quot;</span>).<span class="hljs-built_in">toString</span>();<br>    <span class="hljs-keyword">return</span> info;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="4-çŠ¶æ€åŒæ­¥"><a href="#4-çŠ¶æ€åŒæ­¥" class="headerlink" title="4. çŠ¶æ€åŒæ­¥"></a>4. çŠ¶æ€åŒæ­¥</h3><p>é€šè¿‡å®šæ—¶å™¨å’Œæ¶ˆæ¯æœºåˆ¶å®ç°çŠ¶æ€åŒæ­¥ï¼š</p><ul><li>100mså®šæ—¶å™¨æ£€æŸ¥çŠ¶æ€å˜åŒ–</li><li>åŒæ­¥æ ‡è®°æ§åˆ¶æ˜¯å¦å‘é€åŒæ­¥æ¶ˆæ¯</li><li>å¿ƒè·³åŒ…ç»´æŒè¿æ¥</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">MainWindow::onTimeOut</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-comment">// å®šæ—¶åŒæ­¥æ’­æ”¾è¿›åº¦</span><br>    <span class="hljs-keyword">if</span>(player-&gt;<span class="hljs-built_in">getPlayState</span>() != IDLE)&#123;<br>        QString pos = player-&gt;<span class="hljs-built_in">getProcessBarInfo</span>();<br>        <span class="hljs-keyword">if</span>(tcpCommon &amp;&amp; ui-&gt;ck_sync-&gt;<span class="hljs-built_in">isChecked</span>())&#123;<br>            CommonMessage msg = <span class="hljs-built_in">CommonMessage</span>(PlayerProgess, pos);<br>            tcpCommon-&gt;<span class="hljs-built_in">sendMsg</span>(CommonMessage::<span class="hljs-built_in">messageToString</span>(msg));<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-comment">// å¿ƒè·³åŒ…</span><br>    <span class="hljs-keyword">if</span>(tcpCommon &amp;&amp; count % <span class="hljs-number">30</span> == <span class="hljs-number">0</span>)&#123;<br>        CommonMessage msg = <span class="hljs-built_in">CommonMessage</span>(HeartBeat, <span class="hljs-string">&quot;NONE&quot;</span>);<br>        tcpCommon-&gt;<span class="hljs-built_in">sendMsg</span>(CommonMessage::<span class="hljs-built_in">messageToString</span>(msg));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="è®¾è®¡æ¨¡å¼åº”ç”¨"><a href="#è®¾è®¡æ¨¡å¼åº”ç”¨" class="headerlink" title="è®¾è®¡æ¨¡å¼åº”ç”¨"></a>è®¾è®¡æ¨¡å¼åº”ç”¨</h2><ol><li><p><strong>è§‚å¯Ÿè€…æ¨¡å¼</strong>ï¼š</p><ul><li>é€šè¿‡Qtä¿¡å·æ§½å®ç°ç»„ä»¶é—´è§£è€¦</li><li>æ’­æ”¾å™¨çŠ¶æ€å˜åŒ–è‡ªåŠ¨é€šçŸ¥è§‚å¯Ÿè€…</li></ul></li><li><p><strong>ç­–ç•¥æ¨¡å¼</strong>ï¼š</p><ul><li>TcpClientå’ŒTcpServerå®ç°ä¸åŒçš„ç½‘ç»œç­–ç•¥</li><li>è¿è¡Œæ—¶é€šè¿‡tcpCommonæŒ‡é’ˆåŠ¨æ€åˆ‡æ¢</li></ul></li><li><p><strong>é€‚é…å™¨æ¨¡å¼</strong>ï¼š</p><ul><li>PlayerControlleré€‚é…Windows Media Playeræ¥å£</li><li>ç»Ÿä¸€ä¸åŒæ’­æ”¾å™¨çš„æ§åˆ¶æ–¹å¼</li></ul></li><li><p><strong>çŠ¶æ€æ¨¡å¼</strong>ï¼š</p><ul><li>å¤„ç†æ’­æ”¾å™¨çš„å¤šç§çŠ¶æ€(æ’­æ”¾&#x2F;æš‚åœ&#x2F;åœæ­¢)</li><li>çŠ¶æ€è½¬æ¢é€»è¾‘é›†ä¸­ç®¡ç†</li></ul></li></ol><h2 id="å…³é”®ä¼˜åŠ¿ä¸åˆ›æ–°ç‚¹"><a href="#å…³é”®ä¼˜åŠ¿ä¸åˆ›æ–°ç‚¹" class="headerlink" title="å…³é”®ä¼˜åŠ¿ä¸åˆ›æ–°ç‚¹"></a>å…³é”®ä¼˜åŠ¿ä¸åˆ›æ–°ç‚¹</h2><ol><li><strong>åŒæ¨¡å¼ç½‘ç»œè®¾è®¡</strong>ï¼š<ul><li>åŒä¸€åº”ç”¨å¯éšæ—¶åˆ‡æ¢å®¢æˆ·ç«¯&#x2F;æœåŠ¡å™¨è§’è‰²</li><li>é€‚åº”ä¸åŒåœºæ™¯éœ€æ±‚</li></ul></li><li><strong>ç²¾ç¡®çŠ¶æ€åŒæ­¥</strong>ï¼š<ul><li>å®šæ—¶å™¨é©±åŠ¨çŠ¶æ€æ£€æŸ¥</li><li>è¿›åº¦åŒæ­¥ç²¾åº¦å¯è¾¾100ms</li><li>å¿ƒè·³æœºåˆ¶ä¿éšœè¿æ¥å¥åº·</li></ul></li><li><strong>çµæ´»çš„åŒæ­¥æ§åˆ¶</strong>ï¼š<ul><li>åŒæ­¥å¼€å…³å…è®¸ä¸´æ—¶è„±ç¦»åŒæ­¥</li><li>å¤šç§æ¶ˆæ¯ç±»å‹æ»¡è¶³ä¸åŒéœ€æ±‚</li></ul></li><li><strong>å¥å£®çš„é”™è¯¯å¤„ç†</strong>ï¼š<ul><li>æ’­æ”¾å™¨é”™è¯¯éš”ç¦»å¤„ç†</li></ul></li></ol><h2 id="ä¼˜åŒ–ä¸æ‰©å±•æ–¹å‘"><a href="#ä¼˜åŒ–ä¸æ‰©å±•æ–¹å‘" class="headerlink" title="ä¼˜åŒ–ä¸æ‰©å±•æ–¹å‘"></a>ä¼˜åŒ–ä¸æ‰©å±•æ–¹å‘</h2><ol><li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼š<ul><li>å¼•å…¥å¤šçº¿ç¨‹å¤„ç†ç½‘ç»œIO</li><li>å®ç°è§†é¢‘å¸§ç²¾ç¡®åŒæ­¥</li></ul></li><li><strong>åŠŸèƒ½æ‰©å±•</strong>ï¼š<ul><li>æ”¯æŒæ’­æ”¾åˆ—è¡¨åŒæ­¥</li><li>å¢åŠ å¤šå®¢æˆ·ç«¯ç®¡ç†</li></ul></li><li><strong>ç¨³å®šæ€§å¢å¼º</strong>ï¼š<ul><li>å®ç°æ–­çº¿è‡ªåŠ¨é‡è¿</li><li>å¢åŠ åŒæ­¥å†²çªè§£å†³æœºåˆ¶</li></ul></li><li><strong>ç”¨æˆ·ä½“éªŒæ”¹è¿›</strong>ï¼š<ul><li>æ·»åŠ åŒæ­¥å»¶è¿Ÿè¡¥å¿</li><li>å®ç°æ›´å‹å¥½çš„çŠ¶æ€æç¤º</li></ul></li></ol><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è¯¥QtåŒæ­¥æ’­æ”¾å™¨é¡¹ç›®å±•ç¤ºäº†å¦‚ä½•åˆ©ç”¨Qtæ¡†æ¶æ„å»ºå¤æ‚çš„å¤šåª’ä½“ç½‘ç»œåº”ç”¨ã€‚æ—¢å¯ä½œä¸ºå­¦ä¹ Qté«˜çº§å¼€å‘çš„èŒƒä¾‹ï¼Œä¹Ÿå¯ä½œä¸ºå®é™…åŒæ­¥æ’­æ”¾åº”ç”¨çš„åŸºç¡€æ¡†æ¶ã€‚é¡¹ç›®çš„è®¾è®¡æ€è·¯å°¤å…¶å€¼å¾—å€Ÿé‰´ï¼Œå±•ç°äº†å¦‚ä½•å°†å¤æ‚éœ€æ±‚åˆ†è§£ä¸ºå¯ç®¡ç†çš„æ¨¡å—ï¼Œå¹¶é€šè¿‡æ¶ˆæ¯æœºåˆ¶ä¼˜é›…åœ°åè°ƒå„ç»„ä»¶å·¥ä½œã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æˆ‘çš„é¡¹ç›® </category>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»é›¶å®ç°Pythonè‡ªåŠ¨æ‰«é›·ï¼ˆäº”ï¼‰ï¼šæ‰«é›·ä¸»ç¨‹åº</title>
      <link href="/posts/6061.html"/>
      <url>/posts/6061.html</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€ä¸»ç¨‹åºå’Œå…¶ä»–æ¨¡å—"><a href="#ä¸€ã€ä¸»ç¨‹åºå’Œå…¶ä»–æ¨¡å—" class="headerlink" title="ä¸€ã€ä¸»ç¨‹åºå’Œå…¶ä»–æ¨¡å—"></a>ä¸€ã€ä¸»ç¨‹åºå’Œå…¶ä»–æ¨¡å—</h2><p>é™¤äº†å‰é¢ä»‹ç»çš„<strong>æ ¸å¿ƒåŠŸèƒ½æ¨¡å—</strong>ï¼ˆåœ°å›¾ç®¡ç†ã€çª—å£æ§åˆ¶ã€å›¾åƒè¯†åˆ«ã€æ‰«é›·ç­–ç•¥ç­‰ï¼‰å¤–ï¼Œç¨‹åºè¿˜åŒ…æ‹¬ï¼š</p><ol><li><strong>ä¸»ç¨‹åº(main.py)</strong> - ç³»ç»Ÿè°ƒåº¦ä¸­æ¢</li><li><strong>é…ç½®æ¨¡å—(conf.py)</strong> - å…¨å±€å‚æ•°ç®¡ç†</li><li><strong>æ—¥å¿—æ¨¡å—(mylogger.py)</strong> - ç³»ç»Ÿè¿è¡Œç›‘æ§</li></ol><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs markdown">é¡¹ç›®æ ¹ç›®å½•<br>â”œâ”€â”€ conf.py                     # é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«å…¨å±€å˜é‡å’Œå¸¸é‡å®šä¹‰<br>â”œâ”€â”€ CursorClick.py              # é¼ æ ‡ç‚¹å‡»æ“ä½œæ¨¡å—ï¼Œç”¨äºæ¨¡æ‹Ÿé¼ æ ‡ç‚¹å‡»<br>â”œâ”€â”€ main.py                     # ä¸»ç¨‹åºå…¥å£ï¼Œè´Ÿè´£ç¨‹åºçš„æ•´ä½“æµç¨‹æ§åˆ¶<br>â”œâ”€â”€ MineCleaner.py              # æ‰«é›·é€»è¾‘æ¨¡å—ï¼Œè´Ÿè´£æ‰«é›·è¿‡ç¨‹ä¸­çš„æ¸…ç†æ“ä½œ<br>â”œâ”€â”€ MineGroup.py                # é›·åŒºåˆ†ç»„æ¨¡å—ï¼Œç”¨äºç®¡ç†é›·åŒºçš„åˆ†ç»„é€»è¾‘<br>â”œâ”€â”€ MineMap.py                  # é›·åŒºåœ°å›¾æ¨¡å—ï¼Œç”¨äºç®¡ç†é›·åŒºåœ°å›¾çš„çŠ¶æ€<br>â”œâ”€â”€ mylogger.py                 # æ—¥å¿—æ¨¡å—ï¼Œç”¨äºè®°å½•ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­çš„æ—¥å¿—ä¿¡æ¯<br>â”œâ”€â”€ WindowManager.py            # çª—å£ç®¡ç†æ¨¡å—ï¼Œè´Ÿè´£ç®¡ç†æ¸¸æˆçª—å£çš„å®šä½å’Œæˆªå›¾<br>â”œâ”€â”€ Classify.py                 # å›¾åƒåˆ†ç±»æ¨¡å—ï¼Œç”¨äºè¯†åˆ«é›·åŒºæ ¼å­çš„çŠ¶æ€<br>â”œâ”€â”€ my<span class="hljs-emphasis">_model.h5                 # TensorFlow æ¨¡å‹æ–‡ä»¶ï¼Œç”¨äºå›¾åƒåˆ†ç±»</span><br><span class="hljs-emphasis">â””â”€â”€ my_</span>project.log              # æ—¥å¿—æ–‡ä»¶ï¼Œè®°å½•ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­çš„æ—¥å¿—ä¿¡æ¯<br></code></pre></td></tr></table></figure><h2 id="äºŒã€ä¸»ç¨‹åºè§£æ"><a href="#äºŒã€ä¸»ç¨‹åºè§£æ" class="headerlink" title="äºŒã€ä¸»ç¨‹åºè§£æ"></a>äºŒã€ä¸»ç¨‹åºè§£æ</h2><h3 id="2-1-main-py-ç³»ç»Ÿä¸»ç¨‹åº"><a href="#2-1-main-py-ç³»ç»Ÿä¸»ç¨‹åº" class="headerlink" title="2.1 main.py - ç³»ç»Ÿä¸»ç¨‹åº"></a>2.1 main.py - ç³»ç»Ÿä¸»ç¨‹åº</h3><p>å®Œæ•´ä»£ç </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> MineMap <span class="hljs-keyword">import</span> MineMap<br><span class="hljs-keyword">from</span> WindowManager <span class="hljs-keyword">import</span> WindowManager<br><span class="hljs-keyword">from</span> Classify <span class="hljs-keyword">import</span> OcrClassifier<br><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">from</span> mylogger <span class="hljs-keyword">import</span> logger<br><span class="hljs-keyword">from</span> MineCleaner <span class="hljs-keyword">import</span> MineCleaner<br><span class="hljs-keyword">import</span> sys<br><br>class_name = <span class="hljs-string">&quot;TkTopLevel&quot;</span><br>title_name = <span class="hljs-string">&quot;æ‰«é›·å°æ¸¸æˆ&quot;</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():<br>    <span class="hljs-keyword">try</span>:<br>        <span class="hljs-built_in">map</span> = MineMap(<span class="hljs-number">16</span>, <span class="hljs-number">16</span>)<br>        window = WindowManager(class_name, title_name)<br>        ocr = OcrClassifier(window, <span class="hljs-built_in">map</span>)<br>        op = MineCleaner(window, <span class="hljs-built_in">map</span>)<br>        start_time = time.time()<br>        classfiy_time = <span class="hljs-number">0</span><br>        clean_time = <span class="hljs-number">0</span><br>        <span class="hljs-comment"># æˆªå›¾ï¼Œæ¯ä¸ªéƒ½æ’å…¥åˆå§‹å›¾ç‰‡</span><br>        ocr.classify_all()<br>        <span class="hljs-comment"># å¼€å§‹ï¼Œéšæœºç‚¹ä¸€ä¸ª</span><br>        time1 = time.time()<br>        classfiy_time += time1 - start_time<br>        op.start_up()<br>        time2 = time.time()<br>        clean_time += time2 - time1<br>        c = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>            time3 = time.time()<br>            ocr.classify_all()<br>            time4 = time.time()<br>            classfiy_time += time4 - time3<br>            op.clean_mine()<br>            time5 = time.time()<br>            clean_time += time5 - time4<br>            <span class="hljs-keyword">if</span> window.check_main_window():<br>                <span class="hljs-keyword">break</span><br>            c += <span class="hljs-number">1</span><br>            <span class="hljs-comment"># if c &gt; 6:</span><br>            <span class="hljs-comment">#     break</span><br>    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>        logger.error(e)<br>    <span class="hljs-keyword">finally</span>:<br>        elapsed_time = time.time() - start_time<br>        logger.info(<span class="hljs-string">&quot;æˆåŠŸæ‰«é›·æ€»ç”¨æ—¶ï¼š&#123;&#125;s, è¯†åˆ«ç”¨æ—¶ï¼š&#123;&#125;s, æ‰«é›·ç”¨æ—¶ï¼š&#123;&#125;s&quot;</span>.<span class="hljs-built_in">format</span>(<span class="hljs-built_in">round</span>(elapsed_time,<span class="hljs-number">2</span>), <span class="hljs-built_in">round</span>(classfiy_time,<span class="hljs-number">2</span>), <span class="hljs-built_in">round</span>(clean_time,<span class="hljs-number">2</span>)))<br>        sys.exit(<span class="hljs-number">0</span>)<br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    main()<br></code></pre></td></tr></table></figure><h4 id="2-1-1-åˆå§‹åŒ–æµç¨‹"><a href="#2-1-1-åˆå§‹åŒ–æµç¨‹" class="headerlink" title="2.1.1 åˆå§‹åŒ–æµç¨‹"></a>2.1.1 åˆå§‹åŒ–æµç¨‹</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():<br>    <span class="hljs-built_in">map</span> = MineMap(<span class="hljs-number">16</span>, <span class="hljs-number">16</span>)  <span class="hljs-comment"># 16x16åœ°å›¾åˆå§‹åŒ–</span><br>    window = WindowManager(class_name, title_name)  <span class="hljs-comment"># æ¸¸æˆçª—å£æ§åˆ¶</span><br>    ocr = OcrClassifier(window, <span class="hljs-built_in">map</span>)  <span class="hljs-comment"># å›¾åƒè¯†åˆ«å¼•æ“</span><br>    op = MineCleaner(window, <span class="hljs-built_in">map</span>)  <span class="hljs-comment"># æ‰«é›·ç­–ç•¥å¼•æ“</span><br></code></pre></td></tr></table></figure><h4 id="2-1-2-ä¸»å¾ªç¯é€»è¾‘"><a href="#2-1-2-ä¸»å¾ªç¯é€»è¾‘" class="headerlink" title="2.1.2 ä¸»å¾ªç¯é€»è¾‘"></a>2.1.2 ä¸»å¾ªç¯é€»è¾‘</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    ocr.classify_all()  <span class="hljs-comment"># å…¨å›¾è¯†åˆ«</span><br>    op.clean_mine()  <span class="hljs-comment"># æ‰§è¡Œæ‰«é›·</span><br>    <br>    <span class="hljs-comment"># æ£€æŸ¥æ¸¸æˆç»“æŸæ¡ä»¶</span><br>    <span class="hljs-keyword">if</span> window.check_main_window():<br>        <span class="hljs-keyword">break</span><br>    <br>    <span class="hljs-comment"># æ€§èƒ½ç›‘æ§</span><br>    c += <span class="hljs-number">1</span><br>    <span class="hljs-comment"># if c &gt; 6: break  # è°ƒè¯•ç”¨å¾ªç¯é™åˆ¶</span><br></code></pre></td></tr></table></figure><h3 id="2-2-conf-py-ç³»ç»Ÿé…ç½®"><a href="#2-2-conf-py-ç³»ç»Ÿé…ç½®" class="headerlink" title="2.2 conf.py - ç³»ç»Ÿé…ç½®"></a>2.2 conf.py - ç³»ç»Ÿé…ç½®</h3><h4 id="2-2-1-æ˜¾ç¤ºé…ç½®"><a href="#2-2-1-æ˜¾ç¤ºé…ç½®" class="headerlink" title="2.2.1 æ˜¾ç¤ºé…ç½®"></a>2.2.1 æ˜¾ç¤ºé…ç½®</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">zoomRate = <span class="hljs-number">1.25</span>  <span class="hljs-comment"># å±å¹•ç¼©æ”¾æ¯”ä¾‹</span><br>block_width, block_height = <span class="hljs-number">20</span>, <span class="hljs-number">20</span>  <span class="hljs-comment"># æ ¼å­åŸºå‡†å°ºå¯¸</span><br></code></pre></td></tr></table></figure><h4 id="2-2-2-æ¸¸æˆå‚æ•°"><a href="#2-2-2-æ¸¸æˆå‚æ•°" class="headerlink" title="2.2.2 æ¸¸æˆå‚æ•°"></a>2.2.2 æ¸¸æˆå‚æ•°</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">mineNumAll = <span class="hljs-number">40</span>  <span class="hljs-comment"># æ€»é›·æ•°</span><br>blocks_x = blocks_y = <span class="hljs-number">0</span>  <span class="hljs-comment"># å½“å‰åŒºå—å°ºå¯¸</span><br></code></pre></td></tr></table></figure><h4 id="2-2-3-è·¯å¾„é…ç½®"><a href="#2-2-3-è·¯å¾„é…ç½®" class="headerlink" title="2.2.3 è·¯å¾„é…ç½®"></a>2.2.3 è·¯å¾„é…ç½®</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">ReferPath = <span class="hljs-string">&quot;./Image/Reference/&quot;</span>  <span class="hljs-comment"># å‚è€ƒå›¾åƒè·¯å¾„</span><br>ErrorPath = <span class="hljs-string">&quot;./Image/Error/&quot;</span>  <span class="hljs-comment"># é”™è¯¯å›¾åƒä¿å­˜è·¯å¾„</span><br>LowAcPath = <span class="hljs-string">&quot;./Image/Low_Accuracy/&quot;</span>  <span class="hljs-comment"># ä½è¯†åˆ«ç‡å›¾åƒè·¯å¾„</span><br></code></pre></td></tr></table></figure><h3 id="2-3-mylogger-py-æ—¥å¿—ç®¡ç†ç³»ç»Ÿ"><a href="#2-3-mylogger-py-æ—¥å¿—ç®¡ç†ç³»ç»Ÿ" class="headerlink" title="2.3 mylogger.py - æ—¥å¿—ç®¡ç†ç³»ç»Ÿ"></a>2.3 mylogger.py - æ—¥å¿—ç®¡ç†ç³»ç»Ÿ</h3><h4 id="2-3-1-æ—¥å¿—é…ç½®"><a href="#2-3-1-æ—¥å¿—é…ç½®" class="headerlink" title="2.3.1 æ—¥å¿—é…ç½®"></a>2.3.1 æ—¥å¿—é…ç½®</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_logger</span>():<br>    logger = logging.getLogger(<span class="hljs-string">&#x27;my_project&#x27;</span>)<br>    logger.setLevel(logging.DEBUG)<br>    <br>    <span class="hljs-comment"># æ–‡ä»¶æ—¥å¿—handler</span><br>    file_handler = logging.FileHandler(<span class="hljs-string">&#x27;my_project.log&#x27;</span>)<br>    <br>    <span class="hljs-comment"># æ§åˆ¶å°æ—¥å¿—handler </span><br>    console_handler = logging.StreamHandler()<br>    <br>    <span class="hljs-comment"># ç»Ÿä¸€æ—¥å¿—æ ¼å¼</span><br>    formatter = logging.Formatter(<br>        <span class="hljs-string">&#x27;%(asctime)s - %(name)s - %(levelname)s - %(message)s&#x27;</span><br>    )<br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€ä¸»ç¨‹åºå…³é”®ç‚¹"><a href="#ä¸‰ã€ä¸»ç¨‹åºå…³é”®ç‚¹" class="headerlink" title="ä¸‰ã€ä¸»ç¨‹åºå…³é”®ç‚¹"></a>ä¸‰ã€ä¸»ç¨‹åºå…³é”®ç‚¹</h2><h3 id="3-1-æ€§èƒ½ç›‘æ§ä½“ç³»"><a href="#3-1-æ€§èƒ½ç›‘æ§ä½“ç³»" class="headerlink" title="3.1 æ€§èƒ½ç›‘æ§ä½“ç³»"></a>3.1 æ€§èƒ½ç›‘æ§ä½“ç³»</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python">start_time = time.time()<br>classfiy_time = <span class="hljs-number">0</span><br>clean_time = <span class="hljs-number">0</span><br><br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    time3 = time.time()<br>    ocr.classify_all()  <span class="hljs-comment"># å›¾åƒè¯†åˆ«</span><br>    time4 = time.time()<br>    classfiy_time += time4 - time3  <span class="hljs-comment"># ç´¯è®¡è¯†åˆ«è€—æ—¶</span><br>    <br>    op.clean_mine()  <span class="hljs-comment"># æ‰«é›·æ“ä½œ</span><br>    time5 = time.time()<br>    clean_time += time5 - time4  <span class="hljs-comment"># ç´¯è®¡æ‰«é›·è€—æ—¶</span><br></code></pre></td></tr></table></figure><h3 id="3-2-å¼‚å¸¸å¤„ç†æœºåˆ¶"><a href="#3-2-å¼‚å¸¸å¤„ç†æœºåˆ¶" class="headerlink" title="3.2 å¼‚å¸¸å¤„ç†æœºåˆ¶"></a>3.2 å¼‚å¸¸å¤„ç†æœºåˆ¶</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>    <span class="hljs-comment"># ä¸»ä¸šåŠ¡æµç¨‹</span><br><span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>    logger.error(e)  <span class="hljs-comment"># é”™è¯¯æ—¥å¿—è®°å½•</span><br><span class="hljs-keyword">finally</span>:<br>    <span class="hljs-comment"># æ€§èƒ½æŠ¥å‘Šè¾“å‡º</span><br>    logger.info(<span class="hljs-string">f&quot;æ€»ç”¨æ—¶ï¼š<span class="hljs-subst">&#123;<span class="hljs-built_in">round</span>(elapsed_time,<span class="hljs-number">2</span>)&#125;</span>s, &quot;</span><br>               <span class="hljs-string">f&quot;è¯†åˆ«ç”¨æ—¶ï¼š<span class="hljs-subst">&#123;<span class="hljs-built_in">round</span>(classfiy_time,<span class="hljs-number">2</span>)&#125;</span>s, &quot;</span><br>               <span class="hljs-string">f&quot;æ‰«é›·ç”¨æ—¶ï¼š<span class="hljs-subst">&#123;<span class="hljs-built_in">round</span>(clean_time,<span class="hljs-number">2</span>)&#125;</span>s&quot;</span>)<br>    sys.exit(<span class="hljs-number">0</span>)  <span class="hljs-comment"># å®‰å…¨é€€å‡º</span><br></code></pre></td></tr></table></figure><h3 id="3-3-æ¸¸æˆæµç¨‹æ§åˆ¶"><a href="#3-3-æ¸¸æˆæµç¨‹æ§åˆ¶" class="headerlink" title="3.3 æ¸¸æˆæµç¨‹æ§åˆ¶"></a>3.3 æ¸¸æˆæµç¨‹æ§åˆ¶</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># åˆå§‹ç‚¹å‡»ç­–ç•¥</span><br>op.start_up()  <span class="hljs-comment"># éšæœºé€‰æ‹©èµ·å§‹ç‚¹</span><br><br><span class="hljs-comment"># ä¸»å¾ªç¯æ§åˆ¶</span><br><span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> window.check_main_window():  <span class="hljs-comment"># ç›´åˆ°æ¸¸æˆç»“æŸ</span><br>    ocr.classify_all()  <span class="hljs-comment"># çŠ¶æ€è¯†åˆ«</span><br>    op.clean_mine()  <span class="hljs-comment"># ç­–ç•¥æ‰§è¡Œ</span><br></code></pre></td></tr></table></figure><h2 id="å››ã€è¿è¡Œæµç¨‹"><a href="#å››ã€è¿è¡Œæµç¨‹" class="headerlink" title="å››ã€è¿è¡Œæµç¨‹"></a>å››ã€è¿è¡Œæµç¨‹</h2><ol><li><p><strong>åˆå§‹åŒ–é˜¶æ®µ</strong>ï¼š</p><ul><li>åˆ›å»ºæ¸¸æˆåœ°å›¾æ¨¡å‹</li><li>è¿æ¥æ¸¸æˆçª—å£</li><li>åŠ è½½è¯†åˆ«æ¨¡å‹</li><li>åˆå§‹åŒ–ç­–ç•¥å¼•æ“</li></ul></li><li><p><strong>å¯åŠ¨é˜¶æ®µ</strong>ï¼š</p><ul><li>å…¨å›¾åˆå§‹è¯†åˆ«</li><li>éšæœºèµ·å§‹ä½ç½®ç‚¹å‡»</li></ul></li><li><p><strong>ä¸»å¾ªç¯é˜¶æ®µ</strong>ï¼š</p><ul><li>å®æ—¶å›¾åƒè¯†åˆ«</li><li>æ™ºèƒ½ç­–ç•¥å†³ç­–</li><li>è‡ªåŠ¨ç‚¹å‡»æ“ä½œ</li><li>çŠ¶æ€ç›‘æ§</li></ul></li><li><p><strong>ç»“æŸé˜¶æ®µ</strong>ï¼š</p><ul><li>æ¸¸æˆç»“æŸæ£€æµ‹</li><li>æ€§èƒ½ç»Ÿè®¡åˆ†æ</li><li>ç³»ç»Ÿå®‰å…¨é€€å‡º</li></ul></li></ol>]]></content>
      
      
      <categories>
          
          <category> æˆ‘çš„é¡¹ç›® </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> æ‰«é›· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»é›¶å®ç°Pythonè‡ªåŠ¨æ‰«é›·ï¼ˆå››ï¼‰ï¼šæ‰«é›·æ ¸å¿ƒé€»è¾‘</title>
      <link href="/posts/6060.html"/>
      <url>/posts/6060.html</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€ç³»ç»Ÿæ¶æ„æ€»è§ˆ"><a href="#ä¸€ã€ç³»ç»Ÿæ¶æ„æ€»è§ˆ" class="headerlink" title="ä¸€ã€ç³»ç»Ÿæ¶æ„æ€»è§ˆ"></a>ä¸€ã€ç³»ç»Ÿæ¶æ„æ€»è§ˆ</h2><p>æœ¬æ‰«é›·AIç³»ç»Ÿç”±ä¸‰ä¸ªæ ¸å¿ƒæ¨¡å—ç»„æˆï¼Œå½¢æˆå®Œæ•´çš„è‡ªåŠ¨åŒ–æ‰«é›·è§£å†³æ–¹æ¡ˆï¼š</p><ol><li><strong>MineCleaner.py</strong> - æ‰«é›·ç­–ç•¥æ‰§è¡Œå¼•æ“</li><li><strong>MineGroup.py</strong> - é›·åŒºå…³ç³»é“¾ç®¡ç†</li><li><strong>MineMap.py</strong> - æ¸¸æˆåœ°å›¾çŠ¶æ€ç»´æŠ¤</li></ol><h2 id="äºŒã€æ ¸å¿ƒæ¨¡å—æ·±åº¦è§£æ"><a href="#äºŒã€æ ¸å¿ƒæ¨¡å—æ·±åº¦è§£æ" class="headerlink" title="äºŒã€æ ¸å¿ƒæ¨¡å—æ·±åº¦è§£æ"></a>äºŒã€æ ¸å¿ƒæ¨¡å—æ·±åº¦è§£æ</h2><h3 id="2-1-MineMap-py-æ¸¸æˆåœ°å›¾æ¨¡å‹"><a href="#2-1-MineMap-py-æ¸¸æˆåœ°å›¾æ¨¡å‹" class="headerlink" title="2.1 MineMap.py - æ¸¸æˆåœ°å›¾æ¨¡å‹"></a>2.1 MineMap.py - æ¸¸æˆåœ°å›¾æ¨¡å‹</h3><h4 id="2-1-1-æ ¼å­çŠ¶æ€è®¾è®¡"><a href="#2-1-1-æ ¼å­çŠ¶æ€è®¾è®¡" class="headerlink" title="2.1.1 æ ¼å­çŠ¶æ€è®¾è®¡"></a>2.1.1 æ ¼å­çŠ¶æ€è®¾è®¡</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MineGrid</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x, y</span>):<br>        self.flag = -<span class="hljs-number">1</span>  <span class="hljs-comment"># åˆå§‹çŠ¶æ€</span><br>        <span class="hljs-comment"># çŠ¶æ€ç¼–ç ï¼š</span><br>        <span class="hljs-comment"># -1:æœªæ‰“å¼€ 0:å·²æ‰“å¼€æ— é›· </span><br>        <span class="hljs-comment"># 1-8:å‘¨å›´é›·æ•° -4:æ ‡è®°ä¸ºé›·</span><br>        <span class="hljs-comment"># -2:å¾…è¯†åˆ« -9:å®é™…ä¸ºé›·</span><br>        self.lastImg = <span class="hljs-literal">None</span>  <span class="hljs-comment"># ä¸Šæ¬¡å›¾åƒå¿«ç…§</span><br>        self.newImg = <span class="hljs-literal">None</span>   <span class="hljs-comment"># å½“å‰å›¾åƒ</span><br>        self.isMine = <span class="hljs-literal">False</span>  <span class="hljs-comment"># å®é™…æ˜¯å¦ä¸ºé›·</span><br></code></pre></td></tr></table></figure><h4 id="2-1-2-å…³é”®æ–¹æ³•å®ç°"><a href="#2-1-2-å…³é”®æ–¹æ³•å®ç°" class="headerlink" title="2.1.2 å…³é”®æ–¹æ³•å®ç°"></a>2.1.2 å…³é”®æ–¹æ³•å®ç°</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_grid_info</span>(<span class="hljs-params">self, x, y</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;è·å–æŒ‡å®šæ ¼å­å‘¨å›´é›·åŒºä¿¡æ¯&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">return</span> (mines, unopened_num, marked_num, grids)<br>    <span class="hljs-comment"># è¿”å›: æ€»é›·æ•°, æœªæ‰“å¼€æ•°, å·²æ ‡è®°æ•°, æœªæ‰“å¼€æ ¼å­åæ ‡åˆ—è¡¨</span><br></code></pre></td></tr></table></figure><h3 id="2-2-MineGroup-py-é›·åŒºå…³ç³»é“¾ç®¡ç†"><a href="#2-2-MineGroup-py-é›·åŒºå…³ç³»é“¾ç®¡ç†" class="headerlink" title="2.2 MineGroup.py - é›·åŒºå…³ç³»é“¾ç®¡ç†"></a>2.2 MineGroup.py - é›·åŒºå…³ç³»é“¾ç®¡ç†</h3><h4 id="2-2-1-é“¾å¼ç»“æ„è®¾è®¡"><a href="#2-2-1-é“¾å¼ç»“æ„è®¾è®¡" class="headerlink" title="2.2.1 é“¾å¼ç»“æ„è®¾è®¡"></a>2.2.1 é“¾å¼ç»“æ„è®¾è®¡</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MineChain</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;è¡¨ç¤ºä¸€ç»„ç›¸å…³è”çš„æœªæ‰“å¼€æ ¼å­&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, grids, mine_num</span>):<br>        self.grids = grids    <span class="hljs-comment"># å…³è”æ ¼å­åæ ‡åˆ—è¡¨</span><br>        self.mine_num = mine_num  <span class="hljs-comment"># è¿™äº›æ ¼å­ä¸­çš„é›·æ•°</span><br></code></pre></td></tr></table></figure><h4 id="2-2-2-æ ¸å¿ƒç®—æ³•é€»è¾‘"><a href="#2-2-2-æ ¸å¿ƒç®—æ³•é€»è¾‘" class="headerlink" title="2.2.2 æ ¸å¿ƒç®—æ³•é€»è¾‘"></a>2.2.2 æ ¸å¿ƒç®—æ³•é€»è¾‘</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">insert</span>(<span class="hljs-params">self, grids, mine_num</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;æ’å…¥æ–°çš„é›·åŒºå…³ç³»é“¾&quot;&quot;&quot;</span><br>    <span class="hljs-comment"># å®ç°é“¾çš„åˆå¹¶ã€æ‹†åˆ†å’Œå†²çªæ£€æµ‹</span><br>    <span class="hljs-keyword">if</span> self.search_same(grids, mine_num): <span class="hljs-keyword">return</span><br>    <span class="hljs-keyword">if</span> self.search_parent(grids, mine_num): <span class="hljs-keyword">return</span><br>    <span class="hljs-keyword">if</span> self.search_child(grids, mine_num): <span class="hljs-keyword">return</span><br>    self.chains[<span class="hljs-built_in">len</span>(grids)].append(MineChain(grids, mine_num))<br></code></pre></td></tr></table></figure><h3 id="2-3-MineCleaner-py-æ‰«é›·ç­–ç•¥å¼•æ“"><a href="#2-3-MineCleaner-py-æ‰«é›·ç­–ç•¥å¼•æ“" class="headerlink" title="2.3 MineCleaner.py - æ‰«é›·ç­–ç•¥å¼•æ“"></a>2.3 MineCleaner.py - æ‰«é›·ç­–ç•¥å¼•æ“</h3><h4 id="2-3-1-åŸºç¡€ç­–ç•¥å®ç°"><a href="#2-3-1-åŸºç¡€ç­–ç•¥å®ç°" class="headerlink" title="2.3.1 åŸºç¡€ç­–ç•¥å®ç°"></a>2.3.1 åŸºç¡€ç­–ç•¥å®ç°</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">clean_mine</span>(<span class="hljs-params">self</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;æ ¸å¿ƒæ‰«é›·é€»è¾‘&quot;&quot;&quot;</span><br>    <span class="hljs-comment"># æƒ…å†µ1: æœªæ‰“å¼€æ ¼å­æ•°=å‰©ä½™é›·æ•° â†’ å…¨éƒ¨æ ‡è®°ä¸ºé›·</span><br>    <span class="hljs-keyword">if</span>(mine_num == unopend_num + marked_num):<br>        self.mark_all_mine(grids)<br>    <br>    <span class="hljs-comment"># æƒ…å†µ2: å·²æ ‡è®°æ•°=æ€»é›·æ•° â†’ å®‰å…¨æ‰“å¼€å‰©ä½™æ ¼å­</span><br>    <span class="hljs-keyword">elif</span>(mine_num == marked_num):<br>        self.open_all_grids(grids)<br>    <br>    <span class="hljs-comment"># æƒ…å†µ3: ä¸ç¡®å®šçŠ¶æ€ â†’ åŠ å…¥å…³ç³»é“¾</span><br>    <span class="hljs-keyword">else</span>:<br>        self.group.insert(grids, mine_num - marked_num)<br></code></pre></td></tr></table></figure><h4 id="2-3-2-æ¦‚ç‡å†³ç­–æœºåˆ¶"><a href="#2-3-2-æ¦‚ç‡å†³ç­–æœºåˆ¶" class="headerlink" title="2.3.2 æ¦‚ç‡å†³ç­–æœºåˆ¶"></a>2.3.2 æ¦‚ç‡å†³ç­–æœºåˆ¶</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">random_open</span>(<span class="hljs-params">self</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;åŸºäºæ¦‚ç‡çš„éšæœºå¼€å¯ç­–ç•¥&quot;&quot;&quot;</span><br>    <span class="hljs-comment"># è®¡ç®—æ¯ä¸ªæœªæ‰“å¼€æ ¼å­çš„åœ°é›·æ¦‚ç‡æƒé‡</span><br>    weights[x][y] = chain.mine_num / <span class="hljs-built_in">len</span>(chain.grids)<br>    <br>    <span class="hljs-comment"># é€‰æ‹©æ¦‚ç‡æœ€å°çš„æ ¼å­å¼€å¯</span><br>    min_weight = <span class="hljs-built_in">min</span>(weights[x][y] <span class="hljs-keyword">for</span> (x,y) <span class="hljs-keyword">in</span> unopened_lst)<br>    choices = [(x,y) <span class="hljs-keyword">for</span> (x,y) <span class="hljs-keyword">in</span> unopened_lst <br>              <span class="hljs-keyword">if</span> weights[x][y] == min_weight]<br>    xx, yy = random.choice(choices)<br>    self.open_grids(xx, yy)<br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€å…³é”®æŠ€æœ¯äº®ç‚¹"><a href="#ä¸‰ã€å…³é”®æŠ€æœ¯äº®ç‚¹" class="headerlink" title="ä¸‰ã€å…³é”®æŠ€æœ¯äº®ç‚¹"></a>ä¸‰ã€å…³é”®æŠ€æœ¯äº®ç‚¹</h2><h3 id="3-1-åŠ¨æ€å…³ç³»é“¾ç®¡ç†"><a href="#3-1-åŠ¨æ€å…³ç³»é“¾ç®¡ç†" class="headerlink" title="3.1 åŠ¨æ€å…³ç³»é“¾ç®¡ç†"></a>3.1 åŠ¨æ€å…³ç³»é“¾ç®¡ç†</h3><ol><li><strong>é“¾å¼å­˜å‚¨ç»“æ„</strong>ï¼šæŒ‰æ ¼å­æ•°é‡åˆ†å±‚å­˜å‚¨ï¼Œæé«˜æŸ¥è¯¢æ•ˆç‡</li><li><strong>æ™ºèƒ½åˆå¹¶æ‹†åˆ†</strong>ï¼šè‡ªåŠ¨å¤„ç†çˆ¶å­é“¾å…³ç³»ï¼Œç»´æŠ¤æœ€å°å®Œæ•´é“¾</li><li><strong>å®æ—¶çŠ¶æ€ä¼ æ’­</strong>ï¼šå½“æŸæ ¼å­çŠ¶æ€ç¡®å®šæ—¶ï¼Œè‡ªåŠ¨æ›´æ–°ç›¸å…³é“¾</li></ol><h3 id="3-2-åŒé‡éªŒè¯æœºåˆ¶"><a href="#3-2-åŒé‡éªŒè¯æœºåˆ¶" class="headerlink" title="3.2 åŒé‡éªŒè¯æœºåˆ¶"></a>3.2 åŒé‡éªŒè¯æœºåˆ¶</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">need_grid_classify</span>(<span class="hljs-params">self, x, y</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;åˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°è¯†åˆ«æ ¼å­&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">return</span> (<span class="hljs-keyword">not</span> grid.isMine <span class="hljs-keyword">and</span> <br>            <span class="hljs-keyword">not</span> grid.flag == -<span class="hljs-number">4</span> <span class="hljs-keyword">and</span> <br>            (grid.flag == -<span class="hljs-number">2</span> <span class="hljs-keyword">or</span> <br>             <span class="hljs-keyword">not</span> self.compare_grid_img(x, y)))<br></code></pre></td></tr></table></figure><p>é€šè¿‡å›¾åƒæ¯”å¯¹å’ŒçŠ¶æ€æ ‡è®°åŒé‡éªŒè¯ï¼Œå‡å°‘ä¸å¿…è¦çš„è¯†åˆ«æ“ä½œ</p><h3 id="3-3-æ¸è¿›å¼å†³ç­–æµç¨‹"><a href="#3-3-æ¸è¿›å¼å†³ç­–æµç¨‹" class="headerlink" title="3.3 æ¸è¿›å¼å†³ç­–æµç¨‹"></a>3.3 æ¸è¿›å¼å†³ç­–æµç¨‹</h3><ol><li>ä¼˜å…ˆå¤„ç†ç¡®å®šæ€§æƒ…å†µï¼ˆå¿…ä¸ºé›·æˆ–å¿…å®‰å…¨ï¼‰</li><li>å¯¹ä¸ç¡®å®šæƒ…å†µå»ºç«‹æ¦‚ç‡å…³ç³»æ¨¡å‹</li><li>å½“æ— ç¡®å®šè§£æ—¶ï¼Œé€‰æ‹©é£é™©æœ€ä½çš„æ ¼å­å¼€å¯</li></ol><h2 id="å››ã€æ€§èƒ½ä¼˜åŒ–ç­–ç•¥"><a href="#å››ã€æ€§èƒ½ä¼˜åŒ–ç­–ç•¥" class="headerlink" title="å››ã€æ€§èƒ½ä¼˜åŒ–ç­–ç•¥"></a>å››ã€æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</h2><h3 id="4-1-å›¾åƒç¼“å­˜æœºåˆ¶"><a href="#4-1-å›¾åƒç¼“å­˜æœºåˆ¶" class="headerlink" title="4.1 å›¾åƒç¼“å­˜æœºåˆ¶"></a>4.1 å›¾åƒç¼“å­˜æœºåˆ¶</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">set_grid_img</span>(<span class="hljs-params">self, x, y, img</span>):<br>    grid.lastImg = grid.newImg  <span class="hljs-comment"># ä¿ç•™ä¸Šä¸€å¸§å›¾åƒ</span><br>    grid.newImg = img          <span class="hljs-comment"># æ›´æ–°å½“å‰å›¾åƒ</span><br></code></pre></td></tr></table></figure><p>é€šè¿‡ç¼“å­˜å†å²å›¾åƒï¼Œå®ç°å·®å¼‚æ¯”å¯¹ï¼Œå‡å°‘å¤„ç†é‡</p><h3 id="4-2-åˆ†å±‚é“¾å¼å­˜å‚¨"><a href="#4-2-åˆ†å±‚é“¾å¼å­˜å‚¨" class="headerlink" title="4.2 åˆ†å±‚é“¾å¼å­˜å‚¨"></a>4.2 åˆ†å±‚é“¾å¼å­˜å‚¨</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">self.chains = [[],[],[],[],[],[],[],[],[],[],[],[]]<br><span class="hljs-comment"># æŒ‰é“¾é•¿åº¦åˆ†å±‚å­˜å‚¨ï¼Œæé«˜æŸ¥è¯¢æ•ˆç‡</span><br></code></pre></td></tr></table></figure><h3 id="4-3-æ‡’æƒ°æ›´æ–°ç­–ç•¥"><a href="#4-3-æ‡’æƒ°æ›´æ–°ç­–ç•¥" class="headerlink" title="4.3 æ‡’æƒ°æ›´æ–°ç­–ç•¥"></a>4.3 æ‡’æƒ°æ›´æ–°ç­–ç•¥</h3><p>ä»…åœ¨æ ¼å­çŠ¶æ€å˜åŒ–æˆ–å›¾åƒæ›´æ–°æ—¶æ‰è§¦å‘é‡æ–°è¯†åˆ«</p><h2 id="äº”ã€æ€»ç»“"><a href="#äº”ã€æ€»ç»“" class="headerlink" title="äº”ã€æ€»ç»“"></a>äº”ã€æ€»ç»“</h2><p>æœ¬ç³»ç»Ÿé€šè¿‡å°†æ‰«é›·é—®é¢˜è½¬åŒ–ä¸ºå…³ç³»é“¾ç®¡ç†é—®é¢˜ï¼Œå®ç°äº†é«˜æ•ˆå¯é çš„è‡ªåŠ¨åŒ–æ‰«é›·ã€‚å…¶æ¨¡å—åŒ–è®¾è®¡ä½¿å¾—å„éƒ¨åˆ†å¯ç‹¬ç«‹ä¼˜åŒ–ï¼Œä¸ºåç»­åŠŸèƒ½æ‰©å±•å¥ å®šäº†è‰¯å¥½åŸºç¡€ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æˆ‘çš„é¡¹ç›® </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> æ‰«é›· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»é›¶å®ç°Pythonè‡ªåŠ¨æ‰«é›·ï¼ˆä¸‰ï¼‰ï¼šåŸºäºTensorFlowè¯†åˆ«é›·å—</title>
      <link href="/posts/6059.html"/>
      <url>/posts/6059.html</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€ç³»ç»Ÿæ¶æ„æ¦‚è¿°"><a href="#ä¸€ã€ç³»ç»Ÿæ¶æ„æ¦‚è¿°" class="headerlink" title="ä¸€ã€ç³»ç»Ÿæ¶æ„æ¦‚è¿°"></a>ä¸€ã€ç³»ç»Ÿæ¶æ„æ¦‚è¿°</h2><p>æœ¬æ‰«é›·AIè¯†åˆ«ç³»ç»Ÿç”±ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒç»„ä»¶æ„æˆï¼š</p><ol><li><strong>å›¾åƒé¢„å¤„ç†æ¨¡å—</strong>ï¼šè´Ÿè´£å°†æ¸¸æˆæˆªå›¾è½¬æ¢ä¸ºæ¨¡å‹å¯å¤„ç†çš„æ ¼å¼</li><li><strong>TensorFlowæ¨¡å‹æ¨¡å—</strong>ï¼šåŠ è½½é¢„è®­ç»ƒæ¨¡å‹å¹¶è¿›è¡Œé¢„æµ‹</li><li><strong>åœ°å›¾ç®¡ç†æ¨¡å—</strong>ï¼šç»´æŠ¤æ¸¸æˆåœ°å›¾çŠ¶æ€å¹¶ä¸è¯†åˆ«ç³»ç»Ÿäº¤äº’</li><li><strong>çª—å£äº¤äº’æ¨¡å—</strong>ï¼šä»æ¸¸æˆçª—å£è·å–å®æ—¶å›¾åƒæ•°æ®</li></ol><h2 id="äºŒã€æ ¸å¿ƒä»£ç è§£æ"><a href="#äºŒã€æ ¸å¿ƒä»£ç è§£æ" class="headerlink" title="äºŒã€æ ¸å¿ƒä»£ç è§£æ"></a>äºŒã€æ ¸å¿ƒä»£ç è§£æ</h2><h3 id="2-1-å›¾åƒé¢„å¤„ç†å‡½æ•°"><a href="#2-1-å›¾åƒé¢„å¤„ç†å‡½æ•°" class="headerlink" title="2.1 å›¾åƒé¢„å¤„ç†å‡½æ•°"></a>2.1 å›¾åƒé¢„å¤„ç†å‡½æ•°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">im_array</span>(<span class="hljs-params">im</span>):<br>    im_L = im.convert(<span class="hljs-string">&quot;L&quot;</span>)  <span class="hljs-comment"># è½¬æ¢ä¸ºç°åº¦å›¾åƒ</span><br>    Core = im_L.getdata()<br>    arr1 = np.array(Core, dtype=<span class="hljs-string">&#x27;float32&#x27;</span>) / <span class="hljs-number">255.0</span>  <span class="hljs-comment"># å½’ä¸€åŒ–</span><br>    list_img = arr1.tolist()<br>    images = np.array(list_img).reshape(-<span class="hljs-number">1</span>,<span class="hljs-number">25</span>, <span class="hljs-number">25</span>,<span class="hljs-number">1</span>)  <span class="hljs-comment"># è°ƒæ•´ä¸ºæ¨¡å‹è¾“å…¥æ ¼å¼</span><br>    <span class="hljs-keyword">return</span> images<br></code></pre></td></tr></table></figure><p><strong>å…³é”®æŠ€æœ¯ç‚¹</strong>ï¼š</p><ul><li>å›¾åƒç°åº¦åŒ–å¤„ç†å‡å°‘è®¡ç®—å¤æ‚åº¦</li><li>åƒç´ å€¼å½’ä¸€åŒ–åˆ°[0,1]èŒƒå›´æé«˜æ¨¡å‹ç¨³å®šæ€§</li><li>è°ƒæ•´å›¾åƒç»´åº¦åŒ¹é…æ¨¡å‹è¾“å…¥è¦æ±‚(25Ã—25Ã—1)</li></ul><h3 id="2-2-OCRåˆ†ç±»å™¨ç±»"><a href="#2-2-OCRåˆ†ç±»å™¨ç±»" class="headerlink" title="2.2 OCRåˆ†ç±»å™¨ç±»"></a>2.2 OCRåˆ†ç±»å™¨ç±»</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">OcrClassifier</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, window, <span class="hljs-built_in">map</span>: MineMap</span>):<br>        self.model = tf.keras.models.load_model(<span class="hljs-string">&#x27;my_model.h5&#x27;</span>)<br>        logger.info(<span class="hljs-string">&quot;tf.keras.modelsæ¨¡å‹åŠ è½½å®Œæˆï¼&quot;</span>)<br>        self.window = window<br>        self.dict_label=&#123;<span class="hljs-number">0</span>:<span class="hljs-number">0</span>, <span class="hljs-number">1</span>:<span class="hljs-number">1</span>, <span class="hljs-number">2</span>:<span class="hljs-number">2</span>, <span class="hljs-number">3</span>:<span class="hljs-number">3</span>, <span class="hljs-number">4</span>:<span class="hljs-number">4</span>, <span class="hljs-number">5</span>:<span class="hljs-number">5</span>, <span class="hljs-number">6</span>:-<span class="hljs-number">9</span>, <span class="hljs-number">7</span>:-<span class="hljs-number">1</span>&#125;<br>        self.imgs = <span class="hljs-literal">None</span><br>        self.<span class="hljs-built_in">map</span> = <span class="hljs-built_in">map</span><br></code></pre></td></tr></table></figure><p><strong>ç±»æˆå‘˜è¯´æ˜</strong>ï¼š</p><ul><li><code>model</code>ï¼šé¢„è®­ç»ƒçš„TensorFlow Kerasæ¨¡å‹</li><li><code>dict_label</code>ï¼šæ¨¡å‹è¾“å‡ºåˆ°æ¸¸æˆé€»è¾‘çš„æ˜ å°„å­—å…¸</li><li><code>window</code>ï¼šçª—å£ç®¡ç†å¯¹è±¡ï¼Œç”¨äºè·å–æ¸¸æˆæˆªå›¾</li><li><code>map</code>ï¼šåœ°å›¾ç®¡ç†å¯¹è±¡ï¼Œç»´æŠ¤æ¸¸æˆçŠ¶æ€</li><li><code>imgs</code>ï¼šç¼“å­˜å½“å‰æ¸¸æˆåŒºåŸŸå›¾åƒ</li></ul><h3 id="2-3-åˆ†ç±»é¢„æµ‹æ–¹æ³•"><a href="#2-3-åˆ†ç±»é¢„æµ‹æ–¹æ³•" class="headerlink" title="2.3 åˆ†ç±»é¢„æµ‹æ–¹æ³•"></a>2.3 åˆ†ç±»é¢„æµ‹æ–¹æ³•</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">classify</span>(<span class="hljs-params">self, im</span>):<br>    img = im_array(im)  <span class="hljs-comment"># å›¾åƒé¢„å¤„ç†</span><br>    predictions_single = self.model.predict(img)  <span class="hljs-comment"># æ¨¡å‹é¢„æµ‹</span><br>    <span class="hljs-keyword">return</span> self.dict_label[np.argmax(predictions_single)]  <span class="hljs-comment"># è·å–æœ€ç»ˆåˆ†ç±»</span><br></code></pre></td></tr></table></figure><p><strong>å·¥ä½œæµç¨‹</strong>ï¼š</p><ol><li>è¾“å…¥åŸå§‹å›¾åƒ(25Ã—25åƒç´ )</li><li>è°ƒç”¨<code>im_array</code>è¿›è¡Œé¢„å¤„ç†</li><li>ä½¿ç”¨åŠ è½½çš„æ¨¡å‹è¿›è¡Œé¢„æµ‹</li><li>å°†é¢„æµ‹ç»“æœæ˜ å°„ä¸ºæ¸¸æˆé€»è¾‘å¯è¯†åˆ«çš„æ ‡ç­¾</li></ol><h3 id="2-4-å…¨å›¾åˆ†ç±»æ–¹æ³•"><a href="#2-4-å…¨å›¾åˆ†ç±»æ–¹æ³•" class="headerlink" title="2.4 å…¨å›¾åˆ†ç±»æ–¹æ³•"></a>2.4 å…¨å›¾åˆ†ç±»æ–¹æ³•</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">classify_all</span>(<span class="hljs-params">self</span>):<br>    self.get_cropped_image()  <span class="hljs-comment"># è·å–å½“å‰æ¸¸æˆåŒºåŸŸæˆªå›¾</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(self.<span class="hljs-built_in">map</span>.width):<br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(self.<span class="hljs-built_in">map</span>.height):<br>            self.<span class="hljs-built_in">map</span>.set_grid_img(i, j, self.imgs[i][j])<br>            <span class="hljs-keyword">if</span>(self.<span class="hljs-built_in">map</span>.need_grid_classify(i, j)):<br>                ans = self.classify(self.imgs[i][j])<br>                logger.info(<span class="hljs-string">&quot;(&#123;&#125;,&#123;&#125;)å¤„é¢„æµ‹å€¼ï¼š&quot;</span>.<span class="hljs-built_in">format</span>(i,j) + <span class="hljs-built_in">str</span>(ans))<br>                self.<span class="hljs-built_in">map</span>.set_grid_flag(i, j, ans)<br></code></pre></td></tr></table></figure><p><strong>ç®—æ³•é€»è¾‘</strong>ï¼š</p><ol><li>è·å–å½“å‰æ¸¸æˆåŒºåŸŸæˆªå›¾å¹¶åˆ‡åˆ†ä¸ºç½‘æ ¼</li><li>éå†æ¯ä¸ªç½‘æ ¼å•å…ƒ</li><li>æ£€æŸ¥è¯¥å•å…ƒæ˜¯å¦éœ€è¦é‡æ–°åˆ†ç±»</li><li>è°ƒç”¨åˆ†ç±»å™¨è¿›è¡Œé¢„æµ‹å¹¶æ›´æ–°åœ°å›¾çŠ¶æ€</li><li>è®°å½•åˆ†ç±»æ—¥å¿—</li></ol><h2 id="ä¸‰ã€æ€§èƒ½ä¼˜åŒ–è€ƒè™‘"><a href="#ä¸‰ã€æ€§èƒ½ä¼˜åŒ–è€ƒè™‘" class="headerlink" title="ä¸‰ã€æ€§èƒ½ä¼˜åŒ–è€ƒè™‘"></a>ä¸‰ã€æ€§èƒ½ä¼˜åŒ–è€ƒè™‘</h2><ol><li><p><strong>GPUåŠ é€Ÿ</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å¯é€‰çš„GPUè®¾å¤‡é…ç½®ä»£ç </span><br>gpus = tf.config.experimental.list_physical_devices(device_type=<span class="hljs-string">&#x27;GPU&#x27;</span>)<br>tf.config.experimental.set_visible_devices(devices=gpus[<span class="hljs-number">2</span>:<span class="hljs-number">4</span>], device_type=<span class="hljs-string">&#x27;GPU&#x27;</span>)<br></code></pre></td></tr></table></figure></li><li><p><strong>ç¼“å­˜æœºåˆ¶</strong>ï¼šå·²è¯†åˆ«ä¸”æœªå˜åŒ–çš„æ ¼å­å¯è·³è¿‡é‡å¤è¯†åˆ«</p></li></ol><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><p>è¯¥ç³»ç»Ÿä¸ä¹‹å‰å®ç°çš„çª—å£ç®¡ç†å’Œç‚¹å‡»æ“ä½œæ¨¡å—ç›¸ç»“åˆï¼Œå¯æ„å»ºå®Œæ•´çš„æ‰«é›·AIè§£å†³æ–¹æ¡ˆã€‚ä¸‹ä¸€æ­¥å¯ç ”ç©¶æ¸¸æˆç­–ç•¥ç®—æ³•ï¼Œå¦‚åŸºäºæ¦‚ç‡çš„æ¨ç†å’Œæ¨¡å¼è¯†åˆ«ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æˆ‘çš„é¡¹ç›® </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> æ‰«é›· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»é›¶å®ç°Pythonè‡ªåŠ¨æ‰«é›·ï¼ˆäºŒï¼‰ï¼šçª—å£è¯†åˆ«ã€æˆªå›¾ä¸ç‚¹å‡»</title>
      <link href="/posts/6058.html"/>
      <url>/posts/6058.html</url>
      
        <content type="html"><![CDATA[<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ä»‹ç»äº†æ‰«é›·æ¸¸æˆçš„å¼€å‘ï¼Œæœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•é€šè¿‡Pythonå®ç°æ‰«é›·æ¸¸æˆçš„çª—å£è¯†åˆ«ã€å±å¹•æˆªå›¾å’Œé¼ æ ‡ç‚¹å‡»æ“ä½œï¼Œè¿™æ˜¯å®ç°æ‰«é›·çš„åŸºç¡€ç»„ä»¶ã€‚</p><h2 id="ç³»ç»Ÿæ¶æ„"><a href="#ç³»ç»Ÿæ¶æ„" class="headerlink" title="ç³»ç»Ÿæ¶æ„"></a>ç³»ç»Ÿæ¶æ„</h2><p>æˆ‘ä»¬çš„å®ç°åˆ†ä¸ºä¸¤ä¸ªæ ¸å¿ƒæ¨¡å—ï¼š</p><ol><li><strong>CursorClick.py</strong> - è´Ÿè´£åº•å±‚é¼ æ ‡æ“ä½œ</li><li><strong>WindowManager.py</strong> - è´Ÿè´£çª—å£ç®¡ç†å’Œå›¾åƒå¤„ç†</li></ol><h2 id="ä¸€ã€é¼ æ ‡ç‚¹å‡»æ¨¡å—å®ç°"><a href="#ä¸€ã€é¼ æ ‡ç‚¹å‡»æ¨¡å—å®ç°" class="headerlink" title="ä¸€ã€é¼ æ ‡ç‚¹å‡»æ¨¡å—å®ç°"></a>ä¸€ã€é¼ æ ‡ç‚¹å‡»æ¨¡å—å®ç°</h2><h3 id="1-1-æ ¸å¿ƒåŠŸèƒ½"><a href="#1-1-æ ¸å¿ƒåŠŸèƒ½" class="headerlink" title="1.1 æ ¸å¿ƒåŠŸèƒ½"></a>1.1 æ ¸å¿ƒåŠŸèƒ½</h3><p><code>CursorClick.py</code>æ¨¡å—å°è£…äº†Windowsç³»ç»Ÿçº§çš„é¼ æ ‡æ“ä½œï¼Œä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬ï¼š</p><ul><li>æ”¯æŒå·¦é”®å’Œå³é”®ä¸¤ç§ç‚¹å‡»æ–¹å¼</li><li>ç‚¹å‡»åè‡ªåŠ¨æ¢å¤é¼ æ ‡åŸä½ç½®</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> win32api<br><span class="hljs-keyword">import</span> win32con<br><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">from</span> mylogger <span class="hljs-keyword">import</span> logger<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">click</span>(<span class="hljs-params">px, py, <span class="hljs-built_in">type</span></span>):<br>    <span class="hljs-keyword">try</span>:<br>        Pos = win32api.GetCursorPos()  <span class="hljs-comment"># è®°å½•åŸä½ç½®</span><br>        win32api.SetCursorPos((<span class="hljs-built_in">int</span>(px), <span class="hljs-built_in">int</span>(py)))<br><br>        <span class="hljs-comment"># æ ¹æ®æŒ‰é’®ç±»å‹é€‰æ‹©ç‚¹å‡»äº‹ä»¶</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">type</span> == <span class="hljs-string">&#x27;left&#x27;</span>:<br>            win32api.mouse_event(win32con.MOUSEEVENTF_LEFTDOWN, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<br>            time.sleep(<span class="hljs-number">0.1</span>)  <span class="hljs-comment"># 100ms</span><br>            win32api.mouse_event(win32con.MOUSEEVENTF_LEFTUP, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">elif</span> <span class="hljs-built_in">type</span> == <span class="hljs-string">&#x27;right&#x27;</span>:<br>            win32api.mouse_event(win32con.MOUSEEVENTF_RIGHTDOWN, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<br>            time.sleep(<span class="hljs-number">0.1</span>)  <span class="hljs-comment"># 100ms</span><br>            win32api.mouse_event(win32con.MOUSEEVENTF_RIGHTUP, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<br><br>        win32api.SetCursorPos(Pos)  <span class="hljs-comment"># å›åˆ°åŸä½ç½®</span><br>        time.sleep(<span class="hljs-number">0.1</span>)  <span class="hljs-comment"># 100ms</span><br>        logger.info(<span class="hljs-string">f&quot;ç‚¹å‡»æˆåŠŸï¼åæ ‡: (<span class="hljs-subst">&#123;px&#125;</span>, <span class="hljs-subst">&#123;py&#125;</span>)&quot;</span>)<br>    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>        logger.error(<span class="hljs-string">f&quot;ç‚¹å‡»å¤±è´¥ï¼é”™è¯¯ä¿¡æ¯: <span class="hljs-subst">&#123;e&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><h3 id="1-2-æŠ€æœ¯ç»†èŠ‚"><a href="#1-2-æŠ€æœ¯ç»†èŠ‚" class="headerlink" title="1.2 æŠ€æœ¯ç»†èŠ‚"></a>1.2 æŠ€æœ¯ç»†èŠ‚</h3><ol><li><strong>åæ ‡ç³»ç»Ÿ</strong>ï¼šä½¿ç”¨Windows APIè·å–å’Œè®¾ç½®é¼ æ ‡ä½ç½®ï¼Œåæ ‡å•ä½ä¸ºå±å¹•åƒç´ </li><li><strong>ç‚¹å‡»å®ç°</strong>ï¼šé€šè¿‡<code>mouse_event</code>å‡½æ•°æ¨¡æ‹Ÿé¼ æ ‡æŒ‰ä¸‹å’Œé‡Šæ”¾åŠ¨ä½œ</li><li><strong>ç¨³å®šæ€§ä¿éšœ</strong>ï¼š<ul><li>æ¯æ¬¡æ“ä½œå‰åæ·»åŠ 100mså»¶è¿Ÿ</li><li>ç‚¹å‡»åæ¢å¤é¼ æ ‡åŸä½ç½®é¿å…å¹²æ‰°ç”¨æˆ·</li></ul></li><li><strong>é”™è¯¯å¤„ç†</strong>ï¼šæ•è·æ‰€æœ‰å¼‚å¸¸å¹¶é€šè¿‡æ—¥å¿—ç³»ç»Ÿè®°å½•</li></ol><h2 id="äºŒã€çª—å£ç®¡ç†æ¨¡å—å®ç°"><a href="#äºŒã€çª—å£ç®¡ç†æ¨¡å—å®ç°" class="headerlink" title="äºŒã€çª—å£ç®¡ç†æ¨¡å—å®ç°"></a>äºŒã€çª—å£ç®¡ç†æ¨¡å—å®ç°</h2><h3 id="2-1-æ ¸å¿ƒåŠŸèƒ½"><a href="#2-1-æ ¸å¿ƒåŠŸèƒ½" class="headerlink" title="2.1 æ ¸å¿ƒåŠŸèƒ½"></a>2.1 æ ¸å¿ƒåŠŸèƒ½</h3><p><code>WindowManager.py</code>æ¨¡å—è´Ÿè´£æ¸¸æˆçª—å£çš„è¯†åˆ«å’Œç®¡ç†ï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š</p><ul><li>æŸ¥æ‰¾å’Œæ¿€æ´»æ¸¸æˆçª—å£</li><li>æ£€æµ‹æ¸¸æˆçŠ¶æ€ï¼ˆèƒœåˆ©&#x2F;å¤±è´¥ï¼‰</li><li>æˆªå–æ¸¸æˆåŒºåŸŸå›¾åƒ</li><li>å°†æ¸¸æˆåŒºåŸŸåˆ‡åˆ†ä¸º16Ã—16çš„ç½‘æ ¼</li><li>åœ¨æŒ‡å®šç½‘æ ¼ä½ç½®æ‰§è¡Œç‚¹å‡»æ“ä½œ</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> win32gui<br><span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> ImageGrab<br><span class="hljs-keyword">from</span> CursorClick <span class="hljs-keyword">import</span> click<br><span class="hljs-keyword">from</span> mylogger <span class="hljs-keyword">import</span> logger<br><br>zoomRate = <span class="hljs-number">1.25</span>  <span class="hljs-comment"># åº”å¯¹å±å¹•ç¼©æ”¾é—®é¢˜</span><br>grid_origin_width = <span class="hljs-number">20</span><br>grid_origin_height = <span class="hljs-number">20</span><br>grid_width = <span class="hljs-built_in">int</span>(zoomRate * grid_origin_width)<br>grid_height = <span class="hljs-built_in">int</span>(zoomRate * grid_origin_height)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">crop_grid_img</span>(<span class="hljs-params">img, x, y</span>):  <span class="hljs-comment"># åˆ‡åˆ†é›·å—è¿”å›å›¾åƒ</span><br>    rect = (x * grid_width, y * grid_height,<br>            (x + <span class="hljs-number">1</span>) * grid_width, (y + <span class="hljs-number">1</span>) * grid_height)<br>    <span class="hljs-keyword">return</span> img.crop(rect)<br><br><span class="hljs-string">&quot;&quot;&quot;çª—å£ç®¡ç†å™¨ï¼Œè´Ÿè´£ç®¡ç†æ¸¸æˆçª—å£å’Œç‚¹å‡»&quot;&quot;&quot;</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">WindowManager</span>:<br>    <span class="hljs-comment"># åˆå§‹åŒ–ä»£ç ...</span><br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">set_window_foreground</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self.hwndMain:<br>            self.find_main_window()<br>        <span class="hljs-keyword">try</span>:<br>            win32gui.SetForegroundWindow(self.hwndMain)<br>        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>            logger.error(<span class="hljs-string">&quot;ç½®é¡¶çª—å£è¿‡ç¨‹å‘ç”Ÿé”™è¯¯&quot;</span>, e)<br>            sys.exit()<br>            <br>    <span class="hljs-comment"># å…¶ä»–æ–¹æ³•...</span><br></code></pre></td></tr></table></figure><h3 id="2-2-çª—å£ç®¡ç†å®ç°"><a href="#2-2-çª—å£ç®¡ç†å®ç°" class="headerlink" title="2.2 çª—å£ç®¡ç†å®ç°"></a>2.2 çª—å£ç®¡ç†å®ç°</h3><h4 id="2-2-1-çª—å£æŸ¥æ‰¾ä¸ç½®é¡¶"><a href="#2-2-1-çª—å£æŸ¥æ‰¾ä¸ç½®é¡¶" class="headerlink" title="2.2.1 çª—å£æŸ¥æ‰¾ä¸ç½®é¡¶"></a>2.2.1 çª—å£æŸ¥æ‰¾ä¸ç½®é¡¶</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">find_main_window</span>(<span class="hljs-params">self</span>):<br>    self.hwndMain = win32gui.FindWindow(self.class_name, self.title_name)<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self.hwndMain:<br>        logger.error(<span class="hljs-string">&quot;æœªæ‰¾åˆ°ä¸»çª—å£&quot;</span>)<br>        sys.exit()<br>    logger.info(<span class="hljs-string">&quot;æ‰¾åˆ°ä¸»çª—å£&quot;</span>)<br>    <br>    leftMain, topMain, rightMain, bottomMain = win32gui.GetWindowRect(self.hwndMain)<br>    logger.info(<span class="hljs-string">f&quot;ä¸»çª—å£åæ ‡ï¼š<span class="hljs-subst">&#123;leftMain&#125;</span> <span class="hljs-subst">&#123;rightMain&#125;</span> <span class="hljs-subst">&#123;topMain&#125;</span> <span class="hljs-subst">&#123;bottomMain&#125;</span>&quot;</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">find_game_window</span>(<span class="hljs-params">self</span>):<br>    hwndChild = win32gui.FindWindowEx(self.hwndMain, <span class="hljs-number">0</span>, <span class="hljs-string">&quot;TkChild&quot;</span>, <span class="hljs-literal">None</span>)<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> hwndChild:<br>        logger.error(<span class="hljs-string">&quot;æœªæ‰¾åˆ°å­çª—å£&quot;</span>)<br>        sys.exit()<br>    logger.info(<span class="hljs-string">&quot;æ‰¾åˆ°å­çª—å£&quot;</span>)<br><br>    self.leftGame, self.topGame, self.rightGame, self.bottomGame = win32gui.GetWindowRect(hwndChild)<br>    logger.info(<span class="hljs-string">f&quot;å­çª—å£åæ ‡ï¼š<span class="hljs-subst">&#123;self.leftGame&#125;</span> <span class="hljs-subst">&#123;self.rightGame&#125;</span> <span class="hljs-subst">&#123;self.topGame&#125;</span> <span class="hljs-subst">&#123;self.bottomGame&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><p><strong>æŠ€æœ¯è¦ç‚¹</strong>ï¼š</p><ul><li>ä½¿ç”¨<code>FindWindow</code>å’Œ<code>FindWindowEx</code>æŸ¥æ‰¾çª—å£å¥æŸ„</li><li>é€šè¿‡<code>GetWindowRect</code>è·å–çª—å£ä½ç½®å’Œå°ºå¯¸</li><li>åˆ†å±‚æŸ¥æ‰¾ï¼šå…ˆæ‰¾ä¸»çª—å£ï¼Œå†æ‰¾æ¸¸æˆåŒºåŸŸå­çª—å£</li></ul><h4 id="2-2-2-æ¸¸æˆçŠ¶æ€æ£€æµ‹"><a href="#2-2-2-æ¸¸æˆçŠ¶æ€æ£€æµ‹" class="headerlink" title="2.2.2 æ¸¸æˆçŠ¶æ€æ£€æµ‹"></a>2.2.2 æ¸¸æˆçŠ¶æ€æ£€æµ‹</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">check_main_window</span>(<span class="hljs-params">self</span>):<br>    flag = self.find_fail_window()<br>    <span class="hljs-keyword">if</span> flag:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>    flag = self.find_success_window()<br>    <span class="hljs-keyword">if</span> flag:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>    self.set_window_foreground()<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">find_fail_window</span>(<span class="hljs-params">self</span>):<br>    hwndFail = win32gui.FindWindow(<span class="hljs-string">&quot;#32770&quot;</span>, <span class="hljs-string">&quot;å¤±è´¥&quot;</span>)<br>    <span class="hljs-keyword">if</span> hwndFail:<br>        hwndButton = win32gui.FindWindowEx(hwndFail, <span class="hljs-number">0</span>, <span class="hljs-string">&quot;Button&quot;</span>, <span class="hljs-string">&quot;ç¡®å®š&quot;</span>)<br>        <span class="hljs-keyword">if</span> hwndButton:<br>            left, top, right, bottom = win32gui.GetWindowRect(hwndButton)<br>            click((left + right) / <span class="hljs-number">2</span>, (top + bottom) / <span class="hljs-number">2</span>, <span class="hljs-string">&quot;left&quot;</span>)<br>            logger.info(<span class="hljs-string">&quot;æ‰«é›·å¤±è´¥&quot;</span>)<br>            sys.exit()<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">find_success_window</span>(<span class="hljs-params">self</span>):<br>    hwndSuccess = win32gui.FindWindow(<span class="hljs-string">&quot;#32770&quot;</span>, <span class="hljs-string">&quot;æˆåŠŸ&quot;</span>)<br>    <span class="hljs-keyword">if</span> hwndSuccess:<br>        hwndButton = win32gui.FindWindowEx(hwndSuccess, <span class="hljs-number">0</span>, <span class="hljs-string">&quot;Button&quot;</span>, <span class="hljs-string">&quot;ç¡®å®š&quot;</span>)<br>        <span class="hljs-keyword">if</span> hwndButton:<br>            left, top, right, bottom = win32gui.GetWindowRect(hwndButton)<br>            click((left + right) / <span class="hljs-number">2</span>, (top + bottom) / <span class="hljs-number">2</span>, <span class="hljs-string">&quot;left&quot;</span>)<br>            logger.info(<span class="hljs-string">&quot;æ‰«é›·æˆåŠŸ&quot;</span>)<br>            sys.exit()<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br></code></pre></td></tr></table></figure><p><strong>æŠ€æœ¯è¦ç‚¹</strong>ï¼š</p><ul><li>é€šè¿‡æ£€æŸ¥å¤±è´¥å’ŒæˆåŠŸçª—å£è¯†åˆ«æ¸¸æˆçŠ¶æ€</li></ul><h3 id="2-3-å›¾åƒå¤„ç†å®ç°"><a href="#2-3-å›¾åƒå¤„ç†å®ç°" class="headerlink" title="2.3 å›¾åƒå¤„ç†å®ç°"></a>2.3 å›¾åƒå¤„ç†å®ç°</h3><h4 id="2-3-1-æ¸¸æˆåŒºåŸŸæˆªå›¾"><a href="#2-3-1-æ¸¸æˆåŒºåŸŸæˆªå›¾" class="headerlink" title="2.3.1 æ¸¸æˆåŒºåŸŸæˆªå›¾"></a>2.3.1 æ¸¸æˆåŒºåŸŸæˆªå›¾</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_img_blob</span>(<span class="hljs-params">self</span>):<br>    <span class="hljs-keyword">try</span>:<br>        self.set_window_foreground()<br>        self.find_game_window()<br>        (left, top, right, bottom) = rect = (<br>            <span class="hljs-built_in">round</span>(self.leftGame * zoomRate + <span class="hljs-number">17</span> * zoomRate), <br>            <span class="hljs-built_in">round</span>(self.topGame * zoomRate + <span class="hljs-number">46</span> * zoomRate),<br>            <span class="hljs-built_in">round</span>(self.leftGame * zoomRate + <span class="hljs-number">17</span> * zoomRate + grid_width * <span class="hljs-number">16</span>), <br>            <span class="hljs-built_in">round</span>(self.topGame * zoomRate + <span class="hljs-number">46</span> * zoomRate + grid_height * <span class="hljs-number">16</span>)<br>        )<br>        img = ImageGrab.grab()<br>        cropped_img = img.crop(rect)<br>    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>        logger.error(<span class="hljs-string">f&quot;å¤„ç†çª—å£æˆ–æˆªå›¾è¿‡ç¨‹å‘ç”Ÿé”™è¯¯ï¼š<span class="hljs-subst">&#123;e&#125;</span>&quot;</span>)<br>        <span class="hljs-keyword">return</span><br><br>    blocks_x = (right - left) // grid_width<br>    blocks_y = (bottom - top) // grid_height<br>    blocks_img = [[crop_grid_img(cropped_img, x, y) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(blocks_x)] <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(blocks_y)]<br>    <span class="hljs-keyword">return</span> blocks_img<br></code></pre></td></tr></table></figure><p><strong>æŠ€æœ¯è¦ç‚¹</strong>ï¼š</p><ul><li>ä½¿ç”¨PILåº“çš„<code>ImageGrab</code>æˆªå–å±å¹•</li><li>æ ¹æ®æ¸¸æˆçª—å£ä½ç½®è®¡ç®—æ¸¸æˆåŒºåŸŸåæ ‡</li><li>è€ƒè™‘å±å¹•ç¼©æ”¾å› ç´ (zoomRate)</li><li>å°†æ¸¸æˆåŒºåŸŸåˆ‡åˆ†ä¸º16Ã—16ç½‘æ ¼</li></ul><h4 id="2-3-2-ç½‘æ ¼ç‚¹å‡»æ“ä½œ"><a href="#2-3-2-ç½‘æ ¼ç‚¹å‡»æ“ä½œ" class="headerlink" title="2.3.2 ç½‘æ ¼ç‚¹å‡»æ“ä½œ"></a>2.3.2 ç½‘æ ¼ç‚¹å‡»æ“ä½œ</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">click_grid</span>(<span class="hljs-params">self, x, y, <span class="hljs-built_in">type</span></span>):<br>    logger.info(<span class="hljs-string">f&quot;ç‚¹å‡»æ ¼å­ï¼š<span class="hljs-subst">&#123;x&#125;</span> <span class="hljs-subst">&#123;y&#125;</span> <span class="hljs-subst">&#123;<span class="hljs-built_in">type</span>&#125;</span>&quot;</span>)<br>    self.set_window_foreground()<br>    self.find_game_window()<br>    (left, top, right, bottom) = rect = (<br>        <span class="hljs-built_in">round</span>(self.leftGame + <span class="hljs-number">17</span>), <br>        <span class="hljs-built_in">round</span>(self.topGame + <span class="hljs-number">46</span>),<br>        <span class="hljs-built_in">round</span>(self.leftGame + <span class="hljs-number">17</span> + grid_origin_width * <span class="hljs-number">16</span>), <br>        <span class="hljs-built_in">round</span>(self.topGame + <span class="hljs-number">46</span> + grid_origin_height * <span class="hljs-number">16</span>)<br>    )<br>    click(left + (y+<span class="hljs-number">0.5</span>) * grid_origin_width, top + (x+<span class="hljs-number">0.5</span>) * grid_origin_height, <span class="hljs-built_in">type</span>)<br>    self.check_main_window()<br></code></pre></td></tr></table></figure><p><strong>æŠ€æœ¯è¦ç‚¹</strong>ï¼š</p><ul><li>å°†ç½‘æ ¼åæ ‡è½¬æ¢ä¸ºå±å¹•åæ ‡</li><li>ç‚¹å‡»ç½‘æ ¼ä¸­å¿ƒç‚¹(åæ ‡+0.5)</li><li>æ“ä½œåæ£€æŸ¥æ¸¸æˆçŠ¶æ€</li></ul><h2 id="ä¸‰ã€å…³é”®æŠ€æœ¯ç‚¹"><a href="#ä¸‰ã€å…³é”®æŠ€æœ¯ç‚¹" class="headerlink" title="ä¸‰ã€å…³é”®æŠ€æœ¯ç‚¹"></a>ä¸‰ã€å…³é”®æŠ€æœ¯ç‚¹</h2><h3 id="3-1-å±å¹•ç¼©æ”¾å¤„ç†"><a href="#3-1-å±å¹•ç¼©æ”¾å¤„ç†" class="headerlink" title="3.1 å±å¹•ç¼©æ”¾å¤„ç†"></a>3.1 å±å¹•ç¼©æ”¾å¤„ç†</h3><p>ç°ä»£é«˜åˆ†è¾¨ç‡æ˜¾ç¤ºå™¨å¸¸ä½¿ç”¨ç¼©æ”¾åŠŸèƒ½ï¼Œæˆ‘ä»¬é€šè¿‡<code>zoomRate</code>å‚æ•°(1.25)æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">zoomRate = <span class="hljs-number">1.25</span>  <span class="hljs-comment"># åº”å¯¹å±å¹•ç¼©æ”¾é—®é¢˜</span><br>grid_origin_width = <span class="hljs-number">20</span><br>grid_origin_height = <span class="hljs-number">20</span><br>grid_width = <span class="hljs-built_in">int</span>(zoomRate * grid_origin_width)<br>grid_height = <span class="hljs-built_in">int</span>(zoomRate * grid_origin_height)<br></code></pre></td></tr></table></figure><h3 id="3-2-åæ ‡è®¡ç®—"><a href="#3-2-åæ ‡è®¡ç®—" class="headerlink" title="3.2 åæ ‡è®¡ç®—"></a>3.2 åæ ‡è®¡ç®—</h3><p>æ¸¸æˆåŒºåŸŸå®šä½åŸºäºç»éªŒå€¼(17,46)ï¼Œè¿™æ˜¯æ‰«é›·æ¸¸æˆçš„æ ‡å‡†å¸ƒå±€ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ¸¸æˆåŒºåŸŸå·¦ä¸Šè§’åæ ‡è®¡ç®—</span><br>leftGame * zoomRate + <span class="hljs-number">17</span> * zoomRate<br>topGame * zoomRate + <span class="hljs-number">46</span> * zoomRate<br></code></pre></td></tr></table></figure><h3 id="3-3-é”™è¯¯å¤„ç†ä¸æ—¥å¿—"><a href="#3-3-é”™è¯¯å¤„ç†ä¸æ—¥å¿—" class="headerlink" title="3.3 é”™è¯¯å¤„ç†ä¸æ—¥å¿—"></a>3.3 é”™è¯¯å¤„ç†ä¸æ—¥å¿—</h3><p>æ•´ä¸ªç³»ç»Ÿé‡‡ç”¨ç»Ÿä¸€çš„é”™è¯¯å¤„ç†ç­–ç•¥ï¼š</p><ol><li>ä½¿ç”¨try-catchæ•è·æ‰€æœ‰å¼‚å¸¸</li><li>é€šè¿‡loggerè®°å½•æ“ä½œæ—¥å¿—å’Œé”™è¯¯ä¿¡æ¯</li><li>å…³é”®é”™è¯¯ç›´æ¥é€€å‡ºç¨‹åº(sys.exit)</li></ol><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><p>æœ¬æ–‡å®ç°çš„æ‰«é›·æ¸¸æˆè‡ªåŠ¨åŒ–æ¨¡å—å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><ol><li><strong>ç¨³å®šæ€§</strong>ï¼šå®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ“ä½œå»¶è¿Ÿç¡®ä¿å¯é è¿è¡Œ</li><li><strong>çµæ´»æ€§</strong>ï¼šå¯é€‚åº”ä¸åŒçš„å±å¹•ç¼©æ”¾è®¾ç½®</li><li><strong>æ¨¡å—åŒ–</strong>ï¼šæ¸…æ™°çš„èŒè´£åˆ†ç¦»ï¼Œä¾¿äºæ‰©å±•</li></ol><p>ä¸‹ä¸€ç¯‡å°†ä»‹ç»ä½¿ç”¨TensorFlowå®ç°æ‰«é›·æ¸¸æˆä¸­é›·å—å†…å®¹çš„è¯†åˆ«</p><div class="note note-success">            <p>æœ¬æ–‡çª—å£ç®¡ç†ã€æˆªå›¾å’Œç‚¹å‡»æ“ä½œçš„å®ç°æ€è·¯ä¹Ÿå¯ä»¥åº”ç”¨äºå…¶ä»–Windowsåº”ç”¨çš„è‡ªåŠ¨åŒ–æµ‹è¯•å’Œæ“ä½œã€‚</p>          </div>]]></content>
      
      
      <categories>
          
          <category> æˆ‘çš„é¡¹ç›® </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> æ‰«é›· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»é›¶å®ç°Pythonè‡ªåŠ¨æ‰«é›·ï¼ˆä¸€ï¼‰ï¼šåŸºç¡€æ¸¸æˆæ­å»º</title>
      <link href="/posts/6057.html"/>
      <url>/posts/6057.html</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æ‰«é›·ä½œä¸ºWindowsç»å…¸çš„ç›Šæ™ºæ¸¸æˆï¼Œæ‰¿è½½äº†è®¸å¤šäººçš„ç«¥å¹´å›å¿†ã€‚æœ€è¿‘æˆ‘çªå‘å¥‡æƒ³ï¼Œå†³å®šç”¨Pythonä»é›¶å¼€å§‹å®ç°ä¸€ä¸ªæ‰«é›·æ¸¸æˆï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šå¼€å‘ä¸€ä¸ªèƒ½è‡ªåŠ¨ç©æ‰«é›·çš„AIã€‚è¿™ä¸ªç³»åˆ—å°†è®°å½•æˆ‘çš„å®Œæ•´å¼€å‘è¿‡ç¨‹ï¼Œä»Šå¤©å…ˆåˆ†äº«åŸºç¡€æ‰«é›·æ¸¸æˆçš„å®ç°ã€‚</p><iframe   style="width: 100%; aspect-ratio: 16 / 9;"   src="//player.bilibili.com/player.html?isOutside=true&aid=113668322822087&bvid=BV1bnkJYJEvY&cid=27391428665&p=1&autoplay=true&muted=true"   scrolling="no"   border="0"   frameborder="no"   framespacing="0"   allowfullscreen="true"></iframe><h2 id="æ¸¸æˆè®¾è®¡æ€è·¯"><a href="#æ¸¸æˆè®¾è®¡æ€è·¯" class="headerlink" title="æ¸¸æˆè®¾è®¡æ€è·¯"></a>æ¸¸æˆè®¾è®¡æ€è·¯</h2><p>æ‰«é›·æ¸¸æˆçš„æ ¸å¿ƒé€»è¾‘å¯ä»¥åˆ†è§£ä¸ºä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p><ol><li><strong>æ¸¸æˆåœ°å›¾ç”Ÿæˆ</strong>ï¼šéšæœºå¸ƒç½®åœ°é›·å¹¶è®¡ç®—æ¯ä¸ªæ ¼å­çš„æ•°å­—</li><li><strong>ç”¨æˆ·äº¤äº’ç•Œé¢</strong>ï¼šæ˜¾ç¤ºæ¸¸æˆç•Œé¢å¹¶å¤„ç†é¼ æ ‡ç‚¹å‡»</li><li><strong>æ¸¸æˆé€»è¾‘å¤„ç†</strong>ï¼šå¤„ç†ç‚¹å‡»äº‹ä»¶ï¼Œåˆ¤æ–­èƒœè´Ÿ</li><li><strong>é€’å½’å±•å¼€</strong>ï¼šå®ç°ç‚¹å‡»ç©ºç™½æ ¼å­æ—¶çš„è‡ªåŠ¨å±•å¼€åŠŸèƒ½</li></ol><center><img src="/assets/img/1743385569539.png" style="max-width:250px; height:auto;" /><div>å›¾1ï¼šæ¸¸æˆä¸»ç•Œé¢</div></center><h2 id="å…³é”®æŠ€æœ¯å®ç°"><a href="#å…³é”®æŠ€æœ¯å®ç°" class="headerlink" title="å…³é”®æŠ€æœ¯å®ç°"></a>å…³é”®æŠ€æœ¯å®ç°</h2><h3 id="1-æ•°æ®ç»“æ„è®¾è®¡"><a href="#1-æ•°æ®ç»“æ„è®¾è®¡" class="headerlink" title="1. æ•°æ®ç»“æ„è®¾è®¡"></a>1. æ•°æ®ç»“æ„è®¾è®¡</h3><p>æˆ‘ä½¿ç”¨äº†äº”ä¸ªäºŒç»´æ•°ç»„æ¥ç®¡ç†æ¸¸æˆçŠ¶æ€ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">control_list = [[<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">16</span>)] <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">16</span>)]  <span class="hljs-comment"># å­˜å‚¨é›·å’Œæ•°å­—åˆ†å¸ƒ</span><br>show_list = [[<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">16</span>)] <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">16</span>)]    <span class="hljs-comment"># æ§åˆ¶æ ¼å­æ˜¾ç¤ºçŠ¶æ€</span><br>button_list = [[<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">16</span>)] <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">16</span>)]  <span class="hljs-comment"># æŒ‰é’®å¯¹è±¡æ•°ç»„</span><br>label_list = [[<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">16</span>)] <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">16</span>)]   <span class="hljs-comment"># æ ‡ç­¾å¯¹è±¡æ•°ç»„</span><br>mark_list = [[<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">16</span>)] <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">16</span>)]    <span class="hljs-comment"># æ ‡è®°çŠ¶æ€æ•°ç»„</span><br></code></pre></td></tr></table></figure><p>è¿™ç§è®¾è®¡å°†æ¸¸æˆæ•°æ®ä¸æ˜¾ç¤ºå…ƒç´ åˆ†ç¦»ï¼Œä¾¿äºç®¡ç†å’Œç»´æŠ¤ã€‚</p><h3 id="2-åœ°é›·éšæœºåˆ†å¸ƒ"><a href="#2-åœ°é›·éšæœºåˆ†å¸ƒ" class="headerlink" title="2. åœ°é›·éšæœºåˆ†å¸ƒ"></a>2. åœ°é›·éšæœºåˆ†å¸ƒ</h3><p><code>randomization()</code>å‡½æ•°è´Ÿè´£éšæœºå¸ƒç½®åœ°é›·å¹¶è®¡ç®—æ¯ä¸ªæ ¼å­çš„æ•°å­—ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">randomization</span>(<span class="hljs-params">c_list</span>):<br>    num = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">while</span> num &lt; <span class="hljs-number">40</span>:  <span class="hljs-comment"># å¸ƒç½®40ä¸ªåœ°é›·</span><br>        x = random.randint(<span class="hljs-number">0</span>,<span class="hljs-number">15</span>)<br>        y = random.randint(<span class="hljs-number">0</span>,<span class="hljs-number">15</span>)<br>        <span class="hljs-keyword">if</span> c_list[x][y] == <span class="hljs-number">0</span>:<br>            num += <span class="hljs-number">1</span><br>            c_list[x][y] = -<span class="hljs-number">1</span>  <span class="hljs-comment"># -1è¡¨ç¤ºåœ°é›·</span><br>    <br>    <span class="hljs-comment"># è®¡ç®—æ¯ä¸ªéé›·æ ¼å­å‘¨å›´çš„é›·æ•°</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">16</span>):<br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">16</span>):<br>            <span class="hljs-keyword">if</span> c_list[i][j] &gt; -<span class="hljs-number">1</span>:<br>                <span class="hljs-comment"># æ£€æŸ¥8ä¸ªç›¸é‚»æ ¼å­</span><br>                ...<br></code></pre></td></tr></table></figure><h3 id="3-é€’å½’å±•å¼€ç®—æ³•"><a href="#3-é€’å½’å±•å¼€ç®—æ³•" class="headerlink" title="3. é€’å½’å±•å¼€ç®—æ³•"></a>3. é€’å½’å±•å¼€ç®—æ³•</h3><p>å½“ç©å®¶ç‚¹å‡»ç©ºç™½æ ¼å­æ—¶ï¼Œæ¸¸æˆä¼šè‡ªåŠ¨å±•å¼€æ‰€æœ‰ç›¸é‚»çš„ç©ºç™½åŒºåŸŸï¼Œç›´åˆ°é‡åˆ°æ•°å­—è¾¹ç•Œã€‚è¿™æ˜¯é€šè¿‡<code>rec()</code>é€’å½’å‡½æ•°å®ç°çš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">rec</span>(<span class="hljs-params">r,c</span>):<br>    <span class="hljs-keyword">global</span> t<br>    <span class="hljs-keyword">if</span> control_list[r][c] &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> show_list[r][c] == <span class="hljs-number">0</span>:<br>        <span class="hljs-comment"># æ˜¾ç¤ºæ•°å­—æ ¼å­</span><br>        ...<br>    <span class="hljs-keyword">elif</span> control_list[r][c] == <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> show_list[r][c] == <span class="hljs-number">0</span>:<br>        <span class="hljs-comment"># æ˜¾ç¤ºç©ºç™½æ ¼å­å¹¶é€’å½’æ£€æŸ¥ç›¸é‚»8ä¸ªæ ¼å­</span><br>        ...<br>        <span class="hljs-keyword">if</span> r &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> c &gt; <span class="hljs-number">0</span>:<br>            rec(r-<span class="hljs-number">1</span>,c-<span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">if</span> r &gt; <span class="hljs-number">0</span>:<br>            rec(r-<span class="hljs-number">1</span>,c)<br>        <span class="hljs-comment"># å…¶ä»–6ä¸ªæ–¹å‘çš„æ£€æŸ¥...</span><br></code></pre></td></tr></table></figure><h3 id="4-æ¸¸æˆç•Œé¢æ­å»º"><a href="#4-æ¸¸æˆç•Œé¢æ­å»º" class="headerlink" title="4. æ¸¸æˆç•Œé¢æ­å»º"></a>4. æ¸¸æˆç•Œé¢æ­å»º</h3><p>ä½¿ç”¨Tkinteræ„å»ºæ¸¸æˆçª—å£ï¼ŒåŒ…å«ä»¥ä¸‹å…³é”®ç»„ä»¶ï¼š</p><ul><li>16Ã—16çš„æ ¼å­çŸ©é˜µï¼ˆä½¿ç”¨Buttonå’ŒLabelå®ç°ï¼‰</li><li>é¡¶éƒ¨çŠ¶æ€æ ï¼ˆåœ°é›·è®¡æ•°å™¨ã€ç¬‘è„¸æŒ‰é’®ã€è®¡æ—¶å™¨ï¼‰</li><li>åº•éƒ¨çŠ¶æ€æç¤ºæ–‡å­—</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»ºä¸»çª—å£</span><br>root = Tk()<br>root.title(<span class="hljs-string">&quot;æ‰«é›·å°æ¸¸æˆ&quot;</span>)<br>root.geometry(<span class="hljs-string">&quot;360x410&quot;</span>)<br><br><span class="hljs-comment"># åˆ›å»ºæ¸¸æˆç”»å¸ƒ</span><br>cv1 = Canvas(root, bd=<span class="hljs-number">15</span>, bg=<span class="hljs-string">&quot;#FFFFFF&quot;</span>, relief=RIDGE, cursor=<span class="hljs-string">&quot;cross&quot;</span>, width=<span class="hljs-number">321</span>, height=<span class="hljs-number">350</span>)<br>cv1.create_line(<span class="hljs-number">15</span>,<span class="hljs-number">45</span>,<span class="hljs-number">337</span>,<span class="hljs-number">45</span>)<br>cv1.place(x=<span class="hljs-number">0</span>,y=<span class="hljs-number">0</span>)<br><br><span class="hljs-comment"># æ·»åŠ çŠ¶æ€æ ‡ç­¾</span><br>w = Label(root, text=<span class="hljs-string">&quot;ä½ æ‰€ä½œçš„é€‰æ‹©ï¼Œå†³å®šä½ çš„å‘½è¿ï¼&quot;</span>, font=(<span class="hljs-string">&quot;æ¥·ä½“&quot;</span>,<span class="hljs-number">12</span>))<br>w.place(x=<span class="hljs-number">60</span>,y=<span class="hljs-number">385</span>)<br></code></pre></td></tr></table></figure><h2 id="æ¸¸æˆç‰¹è‰²åŠŸèƒ½"><a href="#æ¸¸æˆç‰¹è‰²åŠŸèƒ½" class="headerlink" title="æ¸¸æˆç‰¹è‰²åŠŸèƒ½"></a>æ¸¸æˆç‰¹è‰²åŠŸèƒ½</h2><ol><li><strong>å³é”®æ ‡è®°</strong>ï¼šç©å®¶å¯ä»¥å³é”®ç‚¹å‡»æ ¼å­æ ‡è®°å¯ç–‘çš„åœ°é›·ä½ç½®</li><li><strong>è®¡æ—¶ç³»ç»Ÿ</strong>ï¼šè®°å½•æ¸¸æˆç”¨æ—¶</li><li><strong>åœ°é›·è®¡æ•°å™¨</strong>ï¼šæ˜¾ç¤ºå‰©ä½™æœªæ ‡è®°çš„åœ°é›·æ•°</li><li><strong>é‡æ–°å¼€å§‹</strong>ï¼šé€šè¿‡ç¬‘è„¸æŒ‰é’®ä¸€é”®é‡ç½®æ¸¸æˆ</li></ol><h2 id="é‡åˆ°çš„é—®é¢˜ä¸è§£å†³"><a href="#é‡åˆ°çš„é—®é¢˜ä¸è§£å†³" class="headerlink" title="é‡åˆ°çš„é—®é¢˜ä¸è§£å†³"></a>é‡åˆ°çš„é—®é¢˜ä¸è§£å†³</h2><p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘é‡åˆ°äº†ä¸€äº›å…¸å‹é—®é¢˜ï¼š</p><ol><li><strong>é€’å½’æ·±åº¦é™åˆ¶</strong>ï¼šæœ€åˆé€’å½’å±•å¼€ç®—æ³•ä¼šå¯¼è‡´å †æ ˆæº¢å‡ºï¼Œåæ¥é€šè¿‡ä¼˜åŒ–é€’å½’æ¡ä»¶è§£å†³</li><li><strong>æ¸¸æˆçŠ¶æ€åŒæ­¥</strong>ï¼šå¤šä¸ªæ•°ç»„ä¹‹é—´çš„çŠ¶æ€åŒæ­¥å®¹æ˜“å‡ºé”™ï¼Œé€šè¿‡å°è£…æ“ä½œå‡½æ•°é™ä½å¤æ‚åº¦</li><li><strong>ç•Œé¢é—ªçƒ</strong>ï¼šé¢‘ç¹æ›´æ–°ç•Œé¢å¯¼è‡´é—ªçƒï¼Œåˆç†ä½¿ç”¨<code>place_forget()</code>å’Œ<code>place()</code>æ–¹æ³•è§£å†³</li></ol><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>é€šè¿‡è¿™ä¸ªåŸºç¡€æ‰«é›·æ¸¸æˆçš„å®ç°ï¼Œæˆ‘å·©å›ºäº†Python GUIç¼–ç¨‹å’Œé€’å½’ç®—æ³•çš„åº”ç”¨ã€‚å®Œæ•´çš„ä»£ç å·²ä¸Šä¼ è‡³<a href="https://github.com/yourname/minesweeper">GitHubä»“åº“</a>ï¼Œæ¬¢è¿å‚è€ƒã€‚</p><p>åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†ä»‹ç»å¦‚ä½•å®ç°æ¸¸æˆç•Œé¢çš„æˆªå›¾å’Œè¯†åˆ«åŠŸèƒ½ï¼Œä¸ºè‡ªåŠ¨æ‰«é›·AIæ‰“ä¸‹åŸºç¡€ã€‚</p><div class="note note-success">            <p><strong>å°è´´å£«</strong>ï¼šæ‰«é›·æ¸¸æˆçš„æ ¸å¿ƒç®—æ³•å…¶å®å¹¶ä¸å¤æ‚ï¼Œå…³é”®åœ¨äºå¦‚ä½•ä¼˜é›…åœ°å¤„ç†ç”¨æˆ·äº¤äº’å’Œæ¸¸æˆçŠ¶æ€çš„åŒæ­¥ã€‚Tkinterè™½ç„¶ç®€å•ï¼Œä½†è¶³ä»¥å®ç°ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„æ¸¸æˆã€‚</p>          </div>]]></content>
      
      
      <categories>
          
          <category> æˆ‘çš„é¡¹ç›® </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> æ‰«é›· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ç‰›å®¢ã€‘BM48æ•°æ®æµä¸­çš„ä¸­ä½æ•°</title>
      <link href="/posts/3e6e.html"/>
      <url>/posts/3e6e.html</url>
      
        <content type="html"><![CDATA[<div><a target="_blank" href="https://www.nowcoder.com/practice/9be0172896bd43948f8a32fb954e1be1?tpId=295&tqId=23457&ru=/exam/oj&qru=/ta/format-top101/question-ranking&sourceUrl=%2Fexam%2Foj" style="position: relative; display: -webkit-box; display: -webkit-flex; display: -ms-flexbox; display: flex; box-sizing: border-box; -webkit-flex-direction: row; -ms-flex-direction: row; flex-direction: row; -webkit-align-items: center; -webkit-box-align: center; -ms-flex-align: center; align-items: center; width: 390px; min-height: 84px; border-radius: 8px; max-width: 100%; overflow: hidden; margin: 16px auto; padding: 12px 12px 9px 12px; background-color: #ddd;"><span class="LinkCard-contents"><span style="display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; max-height: 40px; line-height: 1.25; color: #121212;">æ•°æ®æµä¸­çš„ä¸­ä½æ•°-ç‰›å®¢ç½‘</span><span style="display: -webkit-box; font-size: 13px; height: 18px; line-height: 18px; color: #999; word-break: break-all; text-overflow: ellipsis; overflow: hidden; -webkit-line-clamp: 1; -webkit-box-orient: vertical;"><span style="display: inline-flex; align-items: center;"><svg class="Zi Zi--InsertLink" fill="currentColor" viewBox="0 0 24 24" width="14" height="14"><path d="M13.414 4.222a4.5 4.5 0 1 1 6.364 6.364l-3.005 3.005a.5.5 0 0 1-.707 0l-.707-.707a.5.5 0 0 1 0-.707l3.005-3.005a2.5 2.5 0 1 0-3.536-3.536l-3.005 3.005a.5.5 0 0 1-.707 0l-.707-.707a.5.5 0 0 1 0-.707l3.005-3.005zm-6.187 6.187a.5.5 0 0 1 .638-.058l.07.058.706.707a.5.5 0 0 1 .058.638l-.058.07-3.005 3.004a2.5 2.5 0 0 0 3.405 3.658l.13-.122 3.006-3.005a.5.5 0 0 1 .638-.058l.069.058.707.707a.5.5 0 0 1 .058.638l-.058.069-3.005 3.005a4.5 4.5 0 0 1-6.524-6.196l.16-.168 3.005-3.005zm8.132-3.182a.25.25 0 0 1 .353 0l1.061 1.06a.25.25 0 0 1 0 .354l-8.132 8.132a.25.25 0 0 1-.353 0l-1.061-1.06a.25.25 0 0 1 0-.354l8.132-8.132z"></path></svg></span><span>"https://www.nowcoder.com/practice/9be0172896bd43948f8a32fb954e1be1?tpId=295&tqId=23457&ru=/exam/oj&qru=/ta/format-top101/question-ranking&sourceUrl=%2Fexam%2Foj"</span></span></span></a></div><h3 id="æè¿°"><a href="#æè¿°" class="headerlink" title="æè¿°"></a>æè¿°</h3><p>å¦‚ä½•å¾—åˆ°ä¸€ä¸ªæ•°æ®æµä¸­çš„ä¸­ä½æ•°ï¼Ÿå¦‚æœä»æ•°æ®æµä¸­è¯»å‡ºå¥‡æ•°ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ‰€æœ‰æ•°å€¼æ’åºä¹‹åä½äºä¸­é—´çš„æ•°å€¼ã€‚å¦‚æœä»æ•°æ®æµä¸­è¯»å‡ºå¶æ•°ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ‰€æœ‰æ•°å€¼æ’åºä¹‹åä¸­é—´ä¸¤ä¸ªæ•°çš„å¹³å‡å€¼ã€‚æˆ‘ä»¬ä½¿ç”¨Insert()æ–¹æ³•è¯»å–æ•°æ®æµï¼Œä½¿ç”¨GetMedian()æ–¹æ³•è·å–å½“å‰è¯»å–æ•°æ®çš„ä¸­ä½æ•°ã€‚</p><p>æ•°æ®èŒƒå›´ï¼šæ•°æ®æµä¸­æ•°ä¸ªæ•°æ»¡è¶³ 1â‰¤nâ‰¤1000  ï¼Œå¤§å°æ»¡è¶³ valâ‰¤1000 </p><p>è¿›é˜¶ï¼š ç©ºé—´å¤æ‚åº¦ O(n)  ï¼Œ æ—¶é—´å¤æ‚åº¦ O(nlogn) </p><h3 id="ç¤ºä¾‹1"><a href="#ç¤ºä¾‹1" class="headerlink" title="ç¤ºä¾‹1"></a>ç¤ºä¾‹1</h3><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs dns">è¾“å…¥ï¼š<br>[<span class="hljs-number">5,2,3,4</span>,<span class="hljs-number">1,6,7,0</span>,<span class="hljs-number">8</span>]<br>è¿”å›å€¼ï¼š<br>&quot;<span class="hljs-number">5.00 3.50</span> <span class="hljs-number">3.00 3.50</span> <span class="hljs-number">3.00 3.50</span> <span class="hljs-number">4.00 3.50</span> <span class="hljs-number">4</span>.<span class="hljs-number">00</span> &quot;<br>è¯´æ˜ï¼š<br>æ•°æ®æµé‡Œé¢ä¸æ–­åå‡ºçš„æ˜¯<span class="hljs-number">5</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>...,åˆ™å¾—åˆ°çš„å¹³å‡æ•°åˆ†åˆ«ä¸º<span class="hljs-number">5</span>,(<span class="hljs-number">5</span>+<span class="hljs-number">2</span>)/<span class="hljs-number">2</span>,<span class="hljs-number">3</span>...     <br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//å°æ ¹å †ï¼Œå­˜å‚¨å¤§äºç­‰äºmiddleçš„éƒ¨åˆ†</span><br>PriorityQueue&lt;Integer&gt; min_q = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PriorityQueue</span>&lt;&gt;();<br><span class="hljs-comment">//å¤§æ ¹å †ï¼Œå­˜å‚¨å°äºmiddleçš„éƒ¨åˆ†</span><br>PriorityQueue&lt;Integer&gt; max_q = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PriorityQueue</span>&lt;&gt;(Collections.reverseOrder());<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">Insert</span><span class="hljs-params">(Integer num)</span> &#123;<br>    <span class="hljs-type">Double</span> <span class="hljs-variable">middle</span> <span class="hljs-operator">=</span> GetMedian();<br>    <span class="hljs-comment">//åˆ¤æ–­æ–°çš„æ•°æ”¾åœ¨å“ªä¸ªå †</span><br>    <span class="hljs-keyword">if</span>(num &gt;= middle)&#123;<br>        min_q.offer(num);<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        max_q.offer(num);<br>    &#125;<br>    <span class="hljs-comment">//è°ƒæ•´ä¸¤ä¸ªå †å¤§å°</span><br>    <span class="hljs-keyword">if</span>(max_q.size() &gt; min_q.size())&#123;<br>        min_q.offer(max_q.poll());<br>    &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(min_q.size() &gt; max_q.size()+<span class="hljs-number">1</span>)&#123;<br>        max_q.offer(min_q.poll());<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> Double <span class="hljs-title function_">GetMedian</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">if</span>(min_q.size() == <span class="hljs-number">0</span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0.0</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(max_q.size() == min_q.size())&#123;<br>        <span class="hljs-type">Double</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> Double.valueOf(max_q.peek());<br>        <span class="hljs-type">Double</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> Double.valueOf(min_q.peek());<br>        <span class="hljs-keyword">return</span> (a+b)/<span class="hljs-number">2.0</span>;<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-type">Double</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> Double.valueOf(min_q.peek());<br>        <span class="hljs-keyword">return</span> b;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> ç‰›å®¢ç½‘ </tag>
            
            <tag> å¤§æ ¹å † </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ç‰›å®¢ã€‘BM38åœ¨äºŒå‰æ ‘ä¸­æ‰¾åˆ°ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</title>
      <link href="/posts/36e2.html"/>
      <url>/posts/36e2.html</url>
      
        <content type="html"><![CDATA[<div><a target="_blank" href="https://www.nowcoder.com/practice/e0cc33a83afe4530bcec46eba3325116?tpId=295&tqId=1024325&ru=/exam/oj&qru=/ta/format-top101/question-ranking&sourceUrl=%2Fexam%2Foj" style="position: relative; display: -webkit-box; display: -webkit-flex; display: -ms-flexbox; display: flex; box-sizing: border-box; -webkit-flex-direction: row; -ms-flex-direction: row; flex-direction: row; -webkit-align-items: center; -webkit-box-align: center; -ms-flex-align: center; align-items: center; width: 390px; min-height: 84px; border-radius: 8px; max-width: 100%; overflow: hidden; margin: 16px auto; padding: 12px 12px 9px 12px; background-color: #ddd;"><span class="LinkCard-contents"><span style="display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; max-height: 40px; line-height: 1.25; color: #121212;">åœ¨äºŒå‰æ ‘ä¸­æ‰¾åˆ°ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ-ç‰›å®¢ç½‘</span><span style="display: -webkit-box; font-size: 13px; height: 18px; line-height: 18px; color: #999; word-break: break-all; text-overflow: ellipsis; overflow: hidden; -webkit-line-clamp: 1; -webkit-box-orient: vertical;"><span style="display: inline-flex; align-items: center;"><svg class="Zi Zi--InsertLink" fill="currentColor" viewBox="0 0 24 24" width="14" height="14"><path d="M13.414 4.222a4.5 4.5 0 1 1 6.364 6.364l-3.005 3.005a.5.5 0 0 1-.707 0l-.707-.707a.5.5 0 0 1 0-.707l3.005-3.005a2.5 2.5 0 1 0-3.536-3.536l-3.005 3.005a.5.5 0 0 1-.707 0l-.707-.707a.5.5 0 0 1 0-.707l3.005-3.005zm-6.187 6.187a.5.5 0 0 1 .638-.058l.07.058.706.707a.5.5 0 0 1 .058.638l-.058.07-3.005 3.004a2.5 2.5 0 0 0 3.405 3.658l.13-.122 3.006-3.005a.5.5 0 0 1 .638-.058l.069.058.707.707a.5.5 0 0 1 .058.638l-.058.069-3.005 3.005a4.5 4.5 0 0 1-6.524-6.196l.16-.168 3.005-3.005zm8.132-3.182a.25.25 0 0 1 .353 0l1.061 1.06a.25.25 0 0 1 0 .354l-8.132 8.132a.25.25 0 0 1-.353 0l-1.061-1.06a.25.25 0 0 1 0-.354l8.132-8.132z"></path></svg></span><span>"https://www.nowcoder.com/practice/e0cc33a83afe4530bcec46eba3325116?tpId=295&tqId=1024325&ru=/exam/oj&qru=/ta/format-top101/question-ranking&sourceUrl=%2Fexam%2Foj"</span></span></span></a></div><h3 id="æè¿°"><a href="#æè¿°" class="headerlink" title="æè¿°"></a>æè¿°</h3><p>ç»™å®šä¸€æ£µäºŒå‰æ ‘(ä¿è¯éç©º)ä»¥åŠè¿™æ£µæ ‘ä¸Šçš„ä¸¤ä¸ªèŠ‚ç‚¹å¯¹åº”çš„valå€¼ o1 å’Œ o2ï¼Œè¯·æ‰¾åˆ° o1 å’Œ o2 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹ã€‚</p><p>æ•°æ®èŒƒå›´ï¼šæ ‘ä¸ŠèŠ‚ç‚¹æ•°æ»¡è¶³ 1â‰¤<em>n</em>â‰¤105 , èŠ‚ç‚¹å€¼valæ»¡è¶³åŒºé—´ [0,n)</p><p>è¦æ±‚ï¼šæ—¶é—´å¤æ‚åº¦ O*(*n)</p><p>æ³¨ï¼šæœ¬é¢˜ä¿è¯äºŒå‰æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„valå€¼å‡ä¸ç›¸åŒã€‚</p><p>å¦‚å½“è¾“å…¥{3,5,1,6,2,0,8,#,#,7,4},5,1æ—¶ï¼ŒäºŒå‰æ ‘{3,5,1,6,2,0,8,#,#,7,4}å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://uploadfiles.nowcoder.com/images/20211014/423483716_1634206667843/D2B5CA33BD970F64A6301FA75AE2EB22" alt="img"></p><p>æ‰€ä»¥èŠ‚ç‚¹å€¼ä¸º5å’ŒèŠ‚ç‚¹å€¼ä¸º1çš„èŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹çš„èŠ‚ç‚¹å€¼ä¸º3ï¼Œæ‰€ä»¥å¯¹åº”çš„è¾“å‡ºä¸º3ã€‚</p><p>èŠ‚ç‚¹æœ¬èº«å¯ä»¥è§†ä¸ºè‡ªå·±çš„ç¥–å…ˆ</p><h3 id="ç¤ºä¾‹1"><a href="#ç¤ºä¾‹1" class="headerlink" title="ç¤ºä¾‹1"></a>ç¤ºä¾‹1</h3><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs clean">è¾“å…¥ï¼š<br>&#123;<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">1</span>,<span class="hljs-number">6</span>,<span class="hljs-number">2</span>,<span class="hljs-number">0</span>,<span class="hljs-number">8</span>,#,#,<span class="hljs-number">7</span>,<span class="hljs-number">4</span>&#125;,<span class="hljs-number">5</span>,<span class="hljs-number">1</span><br>è¿”å›å€¼ï¼š<br><span class="hljs-number">3</span>    <br></code></pre></td></tr></table></figure><h3 id="ç¤ºä¾‹2"><a href="#ç¤ºä¾‹2" class="headerlink" title="ç¤ºä¾‹2"></a>ç¤ºä¾‹2</h3><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs clean">è¾“å…¥ï¼š<br>&#123;<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">1</span>,<span class="hljs-number">6</span>,<span class="hljs-number">2</span>,<span class="hljs-number">0</span>,<span class="hljs-number">8</span>,#,#,<span class="hljs-number">7</span>,<span class="hljs-number">4</span>&#125;,<span class="hljs-number">2</span>,<span class="hljs-number">7</span><br>è¿”å›å€¼ï¼š<br><span class="hljs-number">2</span><br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">lowestCommonAncestor</span> <span class="hljs-params">(TreeNode root, <span class="hljs-type">int</span> o1, <span class="hljs-type">int</span> o2)</span> &#123;<br>        <span class="hljs-comment">// listè®°å½•æœç´¢è·¯å¾„</span><br>        ArrayList&lt;Integer&gt; list1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        ArrayList&lt;Integer&gt; list2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        find(root, o1, list1);<br>        find(root, o2, list2);<br>        <br>        <span class="hljs-type">int</span> <span class="hljs-variable">ps</span> <span class="hljs-operator">=</span> root.val;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> Math.min(list1.size(), list2.size());<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;n; i++)&#123;<br>            <span class="hljs-comment">//System.out.println(i+&quot; | &quot;+list1.get(i)+&quot; | &quot;+list2.get(i));</span><br>            <span class="hljs-comment">//è¿™é‡Œçš„ equals ä¸èƒ½ç”¨ ==</span><br>            <span class="hljs-keyword">if</span>(list1.get(i).equals(list2.get(i)))&#123;<br>                ps = list1.get(i);<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ps;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">find</span><span class="hljs-params">(TreeNode node, <span class="hljs-type">int</span> o, ArrayList&lt;Integer&gt; list)</span>&#123;<br>        list.add(node.val);<br>        <span class="hljs-keyword">if</span>(node.val == o)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(node.left != <span class="hljs-literal">null</span> &amp;&amp; find(node.left, o, list))&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(node.right != <span class="hljs-literal">null</span> &amp;&amp; find(node.right, o, list))&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125;<br><br>        list.remove(list.size()-<span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> ç‰›å®¢ç½‘ </tag>
            
            <tag> äºŒå‰æ ‘ </tag>
            
            <tag> dfs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ç‰›å®¢ã€‘BM30äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨</title>
      <link href="/posts/7a58.html"/>
      <url>/posts/7a58.html</url>
      
        <content type="html"><![CDATA[<p>ä¸­ç­‰ é€šè¿‡ç‡ï¼š31.03% æ—¶é—´é™åˆ¶ï¼š1ç§’ ç©ºé—´é™åˆ¶ï¼š256M<br>çŸ¥è¯†ç‚¹<a href="https://www.nowcoder.com/exam/oj?tag=594">åˆ†æ²»</a></p><div><a target="_blank" href="https://www.nowcoder.com/practice/947f6eb80d944a84850b0538bf0ec3a5?tpId=295&tqId=1512964&ru=%2Fpractice%2F5e2135f4d2b14eb8a5b06fab4c938635&qru=%2Fta%2Fformat-top101%2Fquestion-ranking&sourceUrl=%2Fexam%2Foj" style="position: relative; display: -webkit-box; display: -webkit-flex; display: -ms-flexbox; display: flex; box-sizing: border-box; -webkit-flex-direction: row; -ms-flex-direction: row; flex-direction: row; -webkit-align-items: center; -webkit-box-align: center; -ms-flex-align: center; align-items: center; width: 390px; min-height: 84px; border-radius: 8px; max-width: 100%; overflow: hidden; margin: 16px auto; padding: 12px 12px 9px 12px; background-color: #ddd;"><span class="LinkCard-contents"><span style="display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; max-height: 40px; line-height: 1.25; color: #121212;">äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨-ç‰›å®¢ç½‘</span><span style="display: -webkit-box; font-size: 13px; height: 18px; line-height: 18px; color: #999; word-break: break-all; text-overflow: ellipsis; overflow: hidden; -webkit-line-clamp: 1; -webkit-box-orient: vertical;"><span style="display: inline-flex; align-items: center;"><svg class="Zi Zi--InsertLink" fill="currentColor" viewBox="0 0 24 24" width="14" height="14"><path d="M13.414 4.222a4.5 4.5 0 1 1 6.364 6.364l-3.005 3.005a.5.5 0 0 1-.707 0l-.707-.707a.5.5 0 0 1 0-.707l3.005-3.005a2.5 2.5 0 1 0-3.536-3.536l-3.005 3.005a.5.5 0 0 1-.707 0l-.707-.707a.5.5 0 0 1 0-.707l3.005-3.005zm-6.187 6.187a.5.5 0 0 1 .638-.058l.07.058.706.707a.5.5 0 0 1 .058.638l-.058.07-3.005 3.004a2.5 2.5 0 0 0 3.405 3.658l.13-.122 3.006-3.005a.5.5 0 0 1 .638-.058l.069.058.707.707a.5.5 0 0 1 .058.638l-.058.069-3.005 3.005a4.5 4.5 0 0 1-6.524-6.196l.16-.168 3.005-3.005zm8.132-3.182a.25.25 0 0 1 .353 0l1.061 1.06a.25.25 0 0 1 0 .354l-8.132 8.132a.25.25 0 0 1-.353 0l-1.061-1.06a.25.25 0 0 1 0-.354l8.132-8.132z"></path></svg></span><span>"https://www.nowcoder.com/practice/947f6eb80d944a84850b0538bf0ec3a5?tpId=295&tqId=1512964&ru=%2Fpractice%2F5e2135f4d2b14eb8a5b06fab4c938635&qru=%2Fta%2Fformat-top101%2Fquestion-ranking&sourceUrl=%2Fexam%2Foj"</span></span></span></a></div><h3 id="æè¿°"><a href="#æè¿°" class="headerlink" title="æè¿°"></a>æè¿°</h3><p>è¾“å…¥ä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œå°†è¯¥äºŒå‰æœç´¢æ ‘è½¬æ¢æˆä¸€ä¸ªæ’åºçš„åŒå‘é“¾è¡¨ã€‚å¦‚ä¸‹å›¾æ‰€ç¤º</p><p><img src="https://uploadfiles.nowcoder.com/images/20210605/557336_1622886924427/E1F1270919D292C9F48F51975FD07CE2" alt="img"></p><p>æ•°æ®èŒƒå›´ï¼šè¾“å…¥äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•° 0â‰¤<em>n</em>â‰¤1000ï¼ŒäºŒå‰æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ 0â‰¤<em>val</em>â‰¤1000<br>è¦æ±‚ï¼šç©ºé—´å¤æ‚åº¦<em>O</em>(1)ï¼ˆ<strong>å³åœ¨åŸæ ‘ä¸Šæ“ä½œ</strong>ï¼‰ï¼Œæ—¶é—´å¤æ‚åº¦<em>O</em>(<em>n</em>)</p><p>æ³¨æ„:</p><p>1.è¦æ±‚ä¸èƒ½åˆ›å»ºä»»ä½•æ–°çš„ç»“ç‚¹ï¼Œåªèƒ½è°ƒæ•´æ ‘ä¸­ç»“ç‚¹æŒ‡é’ˆçš„æŒ‡å‘ã€‚å½“è½¬åŒ–å®Œæˆä»¥åï¼Œæ ‘ä¸­èŠ‚ç‚¹çš„å·¦æŒ‡é’ˆéœ€è¦æŒ‡å‘å‰é©±ï¼Œæ ‘ä¸­èŠ‚ç‚¹çš„å³æŒ‡é’ˆéœ€è¦æŒ‡å‘åç»§<br>2.è¿”å›é“¾è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ<br>3.å‡½æ•°è¿”å›çš„TreeNodeï¼Œæœ‰å·¦å³æŒ‡é’ˆï¼Œå…¶å®å¯ä»¥çœ‹æˆä¸€ä¸ªåŒå‘é“¾è¡¨çš„æ•°æ®ç»“æ„<br>4.ä½ ä¸ç”¨è¾“å‡ºåŒå‘é“¾è¡¨ï¼Œç¨‹åºä¼šæ ¹æ®ä½ çš„è¿”å›å€¼è‡ªåŠ¨æ‰“å°è¾“å‡º</p><h3 id="è¾“å…¥æè¿°ï¼š"><a href="#è¾“å…¥æè¿°ï¼š" class="headerlink" title="è¾“å…¥æè¿°ï¼š"></a>è¾“å…¥æè¿°ï¼š</h3><p>äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹</p><h3 id="è¿”å›å€¼æè¿°ï¼š"><a href="#è¿”å›å€¼æè¿°ï¼š" class="headerlink" title="è¿”å›å€¼æè¿°ï¼š"></a>è¿”å›å€¼æè¿°ï¼š</h3><p>åŒå‘é“¾è¡¨çš„å…¶ä¸­ä¸€ä¸ªå¤´èŠ‚ç‚¹ã€‚</p><h3 id="ç¤ºä¾‹1"><a href="#ç¤ºä¾‹1" class="headerlink" title="ç¤ºä¾‹1"></a>ç¤ºä¾‹1</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css">&#123;<span class="hljs-number">10</span>,<span class="hljs-number">6</span>,<span class="hljs-number">14</span>,<span class="hljs-number">4</span>,<span class="hljs-number">8</span>,<span class="hljs-number">12</span>,<span class="hljs-number">16</span>&#125;è¾“å…¥ï¼š<br>è¿”å›å€¼ï¼š<span class="hljs-selector-tag">From</span> <span class="hljs-attribute">left</span> <span class="hljs-selector-tag">to</span> <span class="hljs-attribute">right</span> are:<span class="hljs-number">4</span>,<span class="hljs-number">6</span>,<span class="hljs-number">8</span>,<span class="hljs-number">10</span>,<span class="hljs-number">12</span>,<span class="hljs-number">14</span>,<span class="hljs-number">16</span>;<span class="hljs-selector-tag">From</span> <span class="hljs-attribute">right</span> <span class="hljs-selector-tag">to</span> <span class="hljs-attribute">left</span> are:<span class="hljs-number">16</span>,<span class="hljs-number">14</span>,<span class="hljs-number">12</span>,<span class="hljs-number">10</span>,<span class="hljs-number">8</span>,<span class="hljs-number">6</span>,<span class="hljs-number">4</span>;<br>è¯´æ˜ï¼šè¾“å…¥é¢˜é¢å›¾ä¸­äºŒå‰æ ‘ï¼Œè¾“å‡ºçš„æ—¶å€™å°†åŒå‘é“¾è¡¨çš„å¤´èŠ‚ç‚¹è¿”å›å³å¯ã€‚    <br></code></pre></td></tr></table></figure><h3 id="ç¤ºä¾‹2"><a href="#ç¤ºä¾‹2" class="headerlink" title="ç¤ºä¾‹2"></a>ç¤ºä¾‹2</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs css">è¾“å…¥ï¼š&#123;<span class="hljs-number">5</span>,<span class="hljs-number">4</span>,#,<span class="hljs-number">3</span>,#,<span class="hljs-number">2</span>,#,<span class="hljs-number">1</span>&#125;<br>è¿”å›å€¼ï¼š<span class="hljs-selector-tag">From</span> <span class="hljs-attribute">left</span> <span class="hljs-selector-tag">to</span> <span class="hljs-attribute">right</span> are:<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>;<span class="hljs-selector-tag">From</span> <span class="hljs-attribute">right</span> <span class="hljs-selector-tag">to</span> <br>è¯´æ˜ï¼š<span class="hljs-attribute">left</span> are:<span class="hljs-number">5</span>,<span class="hljs-number">4</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>;<br>                    <span class="hljs-number">5</span><br>                  /<br>                <span class="hljs-number">4</span><br>              /<br>            <span class="hljs-number">3</span><br>          /<br>        <span class="hljs-number">2</span><br>      /<br>    <span class="hljs-number">1</span><br>æ ‘çš„å½¢çŠ¶å¦‚ä¸Šå›¾  <br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">TreeNode</span> <span class="hljs-variable">ROOT</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>    <br><span class="hljs-keyword">public</span> TreeNode <span class="hljs-title function_">Convert</span><span class="hljs-params">(TreeNode pRootOfTree)</span> &#123;<br>    <span class="hljs-keyword">if</span>(pRootOfTree == <span class="hljs-literal">null</span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br>    Sort(<span class="hljs-literal">null</span>, pRootOfTree);<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.ROOT;<br>&#125;<br><br><span class="hljs-keyword">public</span> TreeNode <span class="hljs-title function_">Sort</span><span class="hljs-params">(TreeNode head, TreeNode node)</span>&#123;<br>    <span class="hljs-keyword">if</span>(node.left != <span class="hljs-literal">null</span>)&#123;<br>        head = Sort(head, node.left);<br>    &#125;<br><br>    <span class="hljs-keyword">if</span>(head != <span class="hljs-literal">null</span>)&#123;<br>        head.right = node;<br>        node.left = head;<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        node.left = <span class="hljs-literal">null</span>;<br>        <span class="hljs-built_in">this</span>.ROOT = node;<br>    &#125;<br><br>    <span class="hljs-type">TreeNode</span> <span class="hljs-variable">end</span> <span class="hljs-operator">=</span> node;<br>    <span class="hljs-keyword">if</span>(node.right != <span class="hljs-literal">null</span>)&#123;<br>        end = Sort(node, node.right);<br>    &#125;<br>    <span class="hljs-keyword">return</span> end;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> ç‰›å®¢ç½‘ </tag>
            
            <tag> äºŒå‰æ ‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ç‰›å®¢ã€‘BM20æ•°ç»„ä¸­çš„é€†åºå¯¹</title>
      <link href="/posts/7360.html"/>
      <url>/posts/7360.html</url>
      
        <content type="html"><![CDATA[<h2 id="BM20-æ•°ç»„ä¸­çš„é€†åºå¯¹"><a href="#BM20-æ•°ç»„ä¸­çš„é€†åºå¯¹" class="headerlink" title="BM20 æ•°ç»„ä¸­çš„é€†åºå¯¹"></a>BM20 æ•°ç»„ä¸­çš„é€†åºå¯¹</h2><p>ä¸­ç­‰ é€šè¿‡ç‡ï¼š16.61% æ—¶é—´é™åˆ¶ï¼š3ç§’ ç©ºé—´é™åˆ¶ï¼š256M<br>çŸ¥è¯†ç‚¹<a href="https://www.nowcoder.com/exam/oj?tag=578">æ•°ç»„</a></p><div><a target="_blank" href="https://www.nowcoder.com/practice/96bd6684e04a44eb80e6a68efc0ec6c5?tpId=295&tqId=23260&ru=/exam/oj&qru=/ta/format-top101/question-ranking&sourceUrl=%2Fexam%2Foj" style="position: relative; display: -webkit-box; display: -webkit-flex; display: -ms-flexbox; display: flex; box-sizing: border-box; -webkit-flex-direction: row; -ms-flex-direction: row; flex-direction: row; -webkit-align-items: center; -webkit-box-align: center; -ms-flex-align: center; align-items: center; width: 390px; min-height: 84px; border-radius: 8px; max-width: 100%; overflow: hidden; margin: 16px auto; padding: 12px 12px 9px 12px; background-color: #ddd;"><span class="LinkCard-contents"><span style="display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; max-height: 40px; line-height: 1.25; color: #121212;">æ•°ç»„ä¸­çš„é€†åºå¯¹-ç‰›å®¢ç½‘</span><span style="display: -webkit-box; font-size: 13px; height: 18px; line-height: 18px; color: #999; word-break: break-all; text-overflow: ellipsis; overflow: hidden; -webkit-line-clamp: 1; -webkit-box-orient: vertical;"><span style="display: inline-flex; align-items: center;"><svg class="Zi Zi--InsertLink" fill="currentColor" viewBox="0 0 24 24" width="14" height="14"><path d="M13.414 4.222a4.5 4.5 0 1 1 6.364 6.364l-3.005 3.005a.5.5 0 0 1-.707 0l-.707-.707a.5.5 0 0 1 0-.707l3.005-3.005a2.5 2.5 0 1 0-3.536-3.536l-3.005 3.005a.5.5 0 0 1-.707 0l-.707-.707a.5.5 0 0 1 0-.707l3.005-3.005zm-6.187 6.187a.5.5 0 0 1 .638-.058l.07.058.706.707a.5.5 0 0 1 .058.638l-.058.07-3.005 3.004a2.5 2.5 0 0 0 3.405 3.658l.13-.122 3.006-3.005a.5.5 0 0 1 .638-.058l.069.058.707.707a.5.5 0 0 1 .058.638l-.058.069-3.005 3.005a4.5 4.5 0 0 1-6.524-6.196l.16-.168 3.005-3.005zm8.132-3.182a.25.25 0 0 1 .353 0l1.061 1.06a.25.25 0 0 1 0 .354l-8.132 8.132a.25.25 0 0 1-.353 0l-1.061-1.06a.25.25 0 0 1 0-.354l8.132-8.132z"></path></svg></span><span>"https://www.nowcoder.com/practice/96bd6684e04a44eb80e6a68efc0ec6c5?tpId=295&tqId=23260&ru=/exam/oj&qru=/ta/format-top101/question-ranking&sourceUrl=%2Fexam%2Foj"</span></span></span></a></div><h3 id="æè¿°"><a href="#æè¿°" class="headerlink" title="æè¿°"></a>æè¿°</h3><p>åœ¨æ•°ç»„ä¸­çš„ä¸¤ä¸ªæ•°å­—ï¼Œå¦‚æœå‰é¢ä¸€ä¸ªæ•°å­—å¤§äºåé¢çš„æ•°å­—ï¼Œåˆ™è¿™ä¸¤ä¸ªæ•°å­—ç»„æˆä¸€ä¸ªé€†åºå¯¹ã€‚è¾“å…¥ä¸€ä¸ªæ•°ç»„,æ±‚å‡ºè¿™ä¸ªæ•°ç»„ä¸­çš„é€†åºå¯¹çš„æ€»æ•°Pã€‚å¹¶å°†På¯¹1000000007å–æ¨¡çš„ç»“æœè¾“å‡ºã€‚ å³è¾“å‡ºP mod 1000000007</p><p>æ•°æ®èŒƒå›´ï¼š å¯¹äº 50% çš„æ•°æ®, <em>size</em>â‰¤10<sup>4</sup><br>å¯¹äº 100% çš„æ•°æ®, <em>size</em>â‰¤10<sup>5</sup><br>æ•°ç»„ä¸­æ‰€æœ‰æ•°å­—çš„å€¼æ»¡è¶³ 0â‰¤<em>val</em>â‰¤10<sup>9</sup></p><p>è¦æ±‚ï¼šç©ºé—´å¤æ‚åº¦ O(n)ï¼Œæ—¶é—´å¤æ‚åº¦ O(nlogn)</p><h3 id="è¾“å…¥æè¿°ï¼š"><a href="#è¾“å…¥æè¿°ï¼š" class="headerlink" title="è¾“å…¥æè¿°ï¼š"></a>è¾“å…¥æè¿°ï¼š</h3><p>é¢˜ç›®ä¿è¯è¾“å…¥çš„æ•°ç»„ä¸­æ²¡æœ‰çš„ç›¸åŒçš„æ•°å­—</p><h3 id="ç¤ºä¾‹1"><a href="#ç¤ºä¾‹1" class="headerlink" title="ç¤ºä¾‹1"></a>ç¤ºä¾‹1</h3><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs dns">è¾“å…¥ï¼š[<span class="hljs-number">1,2,3,4</span>,<span class="hljs-number">5,6,7,0</span>]<br>è¿”å›å€¼ï¼š<span class="hljs-number">7</span><br></code></pre></td></tr></table></figure><h3 id="ç¤ºä¾‹2"><a href="#ç¤ºä¾‹2" class="headerlink" title="ç¤ºä¾‹2"></a>ç¤ºä¾‹2</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css">è¾“å…¥ï¼š<span class="hljs-selector-attr">[1,2,3]</span><br>è¿”å›å€¼ï¼š<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="æš´åŠ›æ–¹æ³•ï¼š"><a href="#æš´åŠ›æ–¹æ³•ï¼š" class="headerlink" title="æš´åŠ›æ–¹æ³•ï¼š"></a>æš´åŠ›æ–¹æ³•ï¼š</h3><p>æŒ‰ä½ä¸€ä¸ªarr[i], ä¾æ¬¡åˆ¤æ–­{i+1 â€¦ n-1]æ˜¯å¦æ»¡è¶³æ¡ä»¶ã€‚nä¸ºæ•°ç»„çš„å¤§å°ï¼Œå¯¹äº10^5æ•°æ®ï¼ŒO(N^2)ç®—æ³•æ˜¾ç„¶è¶…æ—¶ã€‚</p><h3 id="å½’å¹¶æ’åºæ€æƒ³ï¼š"><a href="#å½’å¹¶æ’åºæ€æƒ³ï¼š" class="headerlink" title="å½’å¹¶æ’åºæ€æƒ³ï¼š"></a>å½’å¹¶æ’åºæ€æƒ³ï¼š</h3><blockquote><p>å¯ä»¥å‚è€ƒï¼š<a href="https://blog.csdn.net/justidle/article/details/104203958">æ’åºâ€”â€”å½’å¹¶æ’åºï¼ˆMerge sortï¼‰-CSDNåšå®¢</a></p></blockquote><p>å½’å¹¶æ’åºçš„è¿‡ç¨‹ï¼Œä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ä¸ªæ“ä½œï¼š</p><ul><li>é€’å½’åˆ’åˆ†æ•´ä¸ªåŒºé—´ä¸ºåŸºæœ¬ç›¸ç­‰çš„å·¦å³ä¸¤ä¸ªåŒºé—´</li><li>åˆå¹¶ä¸¤ä¸ªæœ‰åºåŒºé—´</li></ul><h4 id="ä¸»å‡½æ•°"><a href="#ä¸»å‡½æ•°" class="headerlink" title="ä¸»å‡½æ•°"></a>ä¸»å‡½æ•°</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">/* </span><br><span class="hljs-comment">     * @param nums intæ•´å‹vector </span><br><span class="hljs-comment">     * @return intæ•´å‹</span><br><span class="hljs-comment">     */</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">InversePairs</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>    <span class="hljs-comment">// åˆ›å»ºè®°å½•é€†åºæ•°çš„å˜é‡</span><br>    <span class="hljs-type">int</span> ret = <span class="hljs-number">0</span>;<br>    <span class="hljs-comment">// ç›´æ¥åœ¨æœ€å¤–å±‚å¼€è¾Ÿä¸€ä¸ªè¶³å¤Ÿå¤§çš„ä¸´æ—¶æ•°ç»„ï¼Œç„¶åä¼ å¼•ç”¨åˆ°å‡½æ•°</span><br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">tmp</span><span class="hljs-params">(nums.size())</span></span>;<br><br>    <span class="hljs-built_in">mergeSort</span>(nums, tmp, <span class="hljs-number">0</span>, nums.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>, ret);<br>    <span class="hljs-keyword">return</span> ret;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="é€’å½’åˆ’åˆ†æ•´ä¸ªåŒºé—´"><a href="#é€’å½’åˆ’åˆ†æ•´ä¸ªåŒºé—´" class="headerlink" title="é€’å½’åˆ’åˆ†æ•´ä¸ªåŒºé—´"></a>é€’å½’åˆ’åˆ†æ•´ä¸ªåŒºé—´</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c++"> <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * @param arr vector&lt;int&gt;åŸæ•°ç»„</span><br><span class="hljs-comment">     * @param tmp vector&lt;int&gt;ä¸´æ—¶æ•°ç»„ </span><br><span class="hljs-comment">     * @param l intæ•´å‹ å·¦ç«¯ç‚¹ </span><br><span class="hljs-comment">     * @param r intæ•´å‹ å³ç«¯ç‚¹</span><br><span class="hljs-comment">     * @param ret intæ•´å‹ é€†åºå¯¹è®¡æ•°</span><br><span class="hljs-comment">     */</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">mergeSort</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt; &amp;arr, vector&lt;<span class="hljs-type">int</span>&gt; &amp;tmp, <span class="hljs-type">int</span> l, <span class="hljs-type">int</span> r, <span class="hljs-type">int</span>&amp; ret)</span></span>&#123;<br>    <span class="hljs-comment">// é€’å½’ç»“æŸæ¡ä»¶</span><br>    <span class="hljs-keyword">if</span>(l &gt;= r)&#123;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// ä¸€åˆ†ä¸ºäºŒ</span><br>    <span class="hljs-type">int</span> mid = l + ((r - l) &gt;&gt; <span class="hljs-number">1</span>);<br>    <span class="hljs-comment">// å·¦åŠéƒ¨åˆ†æ•°ç»„æ’åº</span><br>    <span class="hljs-built_in">mergeSort</span>(arr, tmp, l, mid, ret);<br>    <span class="hljs-comment">// å³åŠéƒ¨åˆ†æ•°ç»„æ’åº</span><br>    <span class="hljs-built_in">mergeSort</span>(arr, tmp, mid+<span class="hljs-number">1</span>, r, ret);<br>    <span class="hljs-comment">// å°†æ’åºå¥½çš„å·¦å³æ•°ç»„åˆå¹¶æ’åº</span><br>    <span class="hljs-built_in">merge</span>(arr, tmp, l, mid, r, ret);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="åˆå¹¶ä¸¤ä¸ªæœ‰åºåŒºé—´"><a href="#åˆå¹¶ä¸¤ä¸ªæœ‰åºåŒºé—´" class="headerlink" title="åˆå¹¶ä¸¤ä¸ªæœ‰åºåŒºé—´"></a>åˆå¹¶ä¸¤ä¸ªæœ‰åºåŒºé—´</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">merge</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt; &amp;arr, vector&lt;<span class="hljs-type">int</span>&gt; &amp;tmp, <span class="hljs-type">int</span> l, <span class="hljs-type">int</span> mid, <span class="hljs-type">int</span> r, <span class="hljs-type">int</span>&amp; ret)</span></span>&#123;<br>    <span class="hljs-type">int</span> i = l, j = mid + <span class="hljs-number">1</span>, k = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-comment">// å·¦å³æ•°ç»„åŒæ—¶éå†ï¼ŒæŒ‰å¤§å°åŠ å…¥ä¸´æ—¶æ•°ç»„</span><br>    <span class="hljs-keyword">while</span>(i &lt;= mid &amp;&amp; j &lt;= r)&#123;<br>        <span class="hljs-keyword">if</span>(arr[i] &gt; arr[j])&#123;<br>            <span class="hljs-comment">//å·¦æ•°ç»„çš„å…ƒç´ æ¯”å³æ•°ç»„å¤§ï¼Œå› ä¸ºå·¦å³æ•°ç»„å„è‡ªå·²ç»æ’åº</span><br>            <span class="hljs-comment">//æ­¤æ—¶å¯çŸ¥è¿™æ®µæ•°ç»„å­˜åœ¨(mid + 1 - i)ä¸ªé€†åºå¯¹</span><br>            ret += (mid + <span class="hljs-number">1</span> - i);<br>            ret %= kmod;<br>            tmp[k++] = arr[j++];<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            tmp[k++] = arr[i++];<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// å­˜å…¥å‰©ä¸‹çš„æ•°ç»„å…ƒç´ </span><br>    <span class="hljs-keyword">while</span>(i &lt;= mid)&#123;<br>        tmp[k++] = arr[i++];<br>    &#125;<br>    <span class="hljs-keyword">while</span>(j &lt;= r)&#123;<br>        tmp[k++] = arr[j++];<br>    &#125;<br><br>    <span class="hljs-comment">//ä¸´æ—¶æ•°ç»„æ‹·è´å›åŸæ•°ç»„ï¼Œå®Œæˆæ’åº</span><br>    <span class="hljs-keyword">for</span>(k = <span class="hljs-number">0</span>, i = l; i &lt;= r; i++, k++)&#123;<br>        arr[i] = tmp[k];<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ—¶é—´å¤æ‚åº¦ï¼šO(NlogN)<br>ç©ºé—´å¤æ‚åº¦ï¼šO(N)</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> æ’åº </tag>
            
            <tag> ç‰›å®¢ç½‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç½‘æ˜“äº‘éŸ³ä¹ä¸‹è½½å…¬å¼</title>
      <link href="/posts/95e.html"/>
      <url>/posts/95e.html</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸ªäººéŸ³ä¹ç«™ç‚¹è¯»å–æ­Œå•"><a href="#ä¸ªäººéŸ³ä¹ç«™ç‚¹è¯»å–æ­Œå•" class="headerlink" title="ä¸ªäººéŸ³ä¹ç«™ç‚¹è¯»å–æ­Œå•"></a>ä¸ªäººéŸ³ä¹ç«™ç‚¹è¯»å–æ­Œå•</h3><div><a target="_blank" href=https://music.cngo.xyz/ style="position: relative; display: -webkit-box; display: -webkit-flex; display: -ms-flexbox; display: flex; box-sizing: border-box; -webkit-flex-direction: row; -ms-flex-direction: row; flex-direction: row; -webkit-align-items: center; -webkit-box-align: center; -ms-flex-align: center; align-items: center; width: 390px; min-height: 84px; border-radius: 8px; max-width: 100%; overflow: hidden; margin: 16px auto; padding: 12px 12px 9px 12px; background-color: #ddd;"><span class="LinkCard-contents"><span style="display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; max-height: 40px; line-height: 1.25; color: #121212;">Music - ç”¨éŸ³ä¹æ„ŸæŸ“äººå¿ƒ</span><span style="display: -webkit-box; font-size: 13px; height: 18px; line-height: 18px; color: #999; word-break: break-all; text-overflow: ellipsis; overflow: hidden; -webkit-line-clamp: 1; -webkit-box-orient: vertical;"><span style="display: inline-flex; align-items: center;"><svg class="Zi Zi--InsertLink" fill="currentColor" viewBox="0 0 24 24" width="14" height="14"><path d="M13.414 4.222a4.5 4.5 0 1 1 6.364 6.364l-3.005 3.005a.5.5 0 0 1-.707 0l-.707-.707a.5.5 0 0 1 0-.707l3.005-3.005a2.5 2.5 0 1 0-3.536-3.536l-3.005 3.005a.5.5 0 0 1-.707 0l-.707-.707a.5.5 0 0 1 0-.707l3.005-3.005zm-6.187 6.187a.5.5 0 0 1 .638-.058l.07.058.706.707a.5.5 0 0 1 .058.638l-.058.07-3.005 3.004a2.5 2.5 0 0 0 3.405 3.658l.13-.122 3.006-3.005a.5.5 0 0 1 .638-.058l.069.058.707.707a.5.5 0 0 1 .058.638l-.058.069-3.005 3.005a4.5 4.5 0 0 1-6.524-6.196l.16-.168 3.005-3.005zm8.132-3.182a.25.25 0 0 1 .353 0l1.061 1.06a.25.25 0 0 1 0 .354l-8.132 8.132a.25.25 0 0 1-.353 0l-1.061-1.06a.25.25 0 0 1 0-.354l8.132-8.132z"></path></svg></span><span>https://music.cngo.xyz/</span></span></span></a></div><p>è¾“å…¥ç¤ºä¾‹ï¼š</p><ul><li>ç½‘æ˜“ï¼š<a href="https://music.163.com/#/playlist?id=8152976493">https://music.163.com/#/playlist?id=8152976493</a></li><li>è…¾è®¯ï¼š<a href="https://y.qq.com/n/ryqq/playlist/7149783625">https://y.qq.com/n/ryqq/playlist/7149783625</a></li></ul><div class="layui-form" style="display: flex;">  <input id="playlistInput" type="text" name="" placeholder="è¾“å…¥æ­Œå•ç½‘å€" class="layui-input" style="margin-right: 15px;">  <button type="button" onclick="getPlaylist()" class="layui-btn layui-bg-blue">Get</button></div><script>function getPlaylist() {    var url = document.getElementById("playlistInput").value;    const qqRegex = /https:\/\/y\.qq\.com\/n\/ryqq\/playlist\/(\d+)/;     const neteaseRegex = /https:\/\/music\.163\.com\/#\/playlist\?id=(\d+)/;      let match;    if ((match = qqRegex.exec(url)) !== null) {          window.open(`https://music.cngo.xyz/?server=tencent&id=${match[1]}`);    }      else if ((match = neteaseRegex.exec(url)) !== null) {         window.open(`https://music.cngo.xyz/?server=netease&id=${match[1]}`);    }      else {         swal("Something wrong!", "è¯·è¾“å…¥æ­£ç¡®çš„æ­Œå•url", "error");        return;     } }</script><h3 id="ç½‘æ˜“äº‘ä¸‹è½½å…¬å¼"><a href="#ç½‘æ˜“äº‘ä¸‹è½½å…¬å¼" class="headerlink" title="ç½‘æ˜“äº‘ä¸‹è½½å…¬å¼"></a>ç½‘æ˜“äº‘ä¸‹è½½å…¬å¼</h3><h4 id="1-å¿ƒé›¨-æ¨é’°è¹-æ¯›å®"><a href="#1-å¿ƒé›¨-æ¨é’°è¹-æ¯›å®" class="headerlink" title="1.å¿ƒé›¨ - æ¨é’°è¹&#x2F;æ¯›å®"></a>1.å¿ƒé›¨ - æ¨é’°è¹&#x2F;æ¯›å®</h4><div style="width: auto; display: table; margin-left: auto; margin-right: auto;"><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=317151&auto=1&height=66"></iframe></div><p>ç½‘å€ï¼š<a href="http://music.163.com/#/song?id=317151">http://music.163.com/#/song?id=317151</a></p><p>çœŸå®åœ°å€ï¼š<a href="http://music.163.com/song/media/outer/url?id=317151.mp3">http://music.163.com/song/media/outer/url?id=317151.mp3</a></p><h4 id="2-æœ€è¿‘-æˆ‘æ˜¯å¼ æ€¡å•Š"><a href="#2-æœ€è¿‘-æˆ‘æ˜¯å¼ æ€¡å•Š" class="headerlink" title="2.æœ€è¿‘ - æˆ‘æ˜¯å¼ æ€¡å•Š"></a>2.æœ€è¿‘ - æˆ‘æ˜¯å¼ æ€¡å•Š</h4><div style="width: auto; display: table; margin-left: auto; margin-right: auto;"><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1360892929&auto=1&height=66"></iframe></div><p>ç½‘å€ï¼š<a href="https://music.163.com/#/song?id=1360892929">https://music.163.com/#/song?id=1360892929</a></p><p>çœŸå®åœ°å€ï¼š<a href="http://music.163.com/song/media/outer/url?id=1360892929.mp3">http://music.163.com/song/media/outer/url?id=1360892929.mp3</a></p><h4 id="ä¸€é”®ä¸‹è½½"><a href="#ä¸€é”®ä¸‹è½½" class="headerlink" title="ä¸€é”®ä¸‹è½½"></a>ä¸€é”®ä¸‹è½½</h4><style>.layui-input, .layui-textarea {    display: block;    width: 100%;    padding-left: 10px;}.layui-input, .layui-select, .layui-textarea {    /* height: 38px; */    /* line-height: 1.3; */    line-height: 38px\9;    /* border-width: 1px; */    border-style: solid;    background-color: #fff;    color: rgba(0,0,0,.85);    border-radius: 2px;    border-color: #eee;}.layui-btn {    display: inline-block;    vertical-align: middle;    height: 38px;    line-height: 38px;    border: 1px solid transparent;    padding: 0 18px;    background-color: #16baaa;    color: #fff;    white-space: nowrap;    text-align: center;    font-size: 14px;    border-radius: 2px;    cursor: pointer;    -moz-user-select: none;    -webkit-user-select: none;    -ms-user-select: none;}.layui-bg-blue {    background-color: #1e9fff!important;    color: #fff!important;</style><div class="layui-form" style="display: flex;">  <input id="urlinput" type="text" name="" placeholder="è¾“å…¥ç½‘å€æˆ–æ­Œæ›²id" class="layui-input" style="margin-right: 15px;">  <button type="button" onclick="getWyUrl()" class="layui-btn layui-bg-blue">Get</button></div><script>function getWyUrl() {    var value = document.getElementById("urlinput").value;    if(value.indexOf("music.163.com") !== -1){        value = value.split("id=")[1];    }    var reg = /^[\d]+$/    if(reg.test(value) == false){        swal("Something wrong!", "è¯·è¾“å…¥æ­£ç¡®çš„urlæˆ–æ­Œæ›²id", "error");        return;    }    var url = `http://music.163.com/song/media/outer/url?id=${value}.mp3`    window.open(url)}</script>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æ‚è°ˆ </category>
          
          <category> å…¶ä»– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘æ˜“äº‘ </tag>
            
            <tag> ä¸‹è½½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åšå®¢ç¾åŒ–ç¯‡ï¼ˆäº”ï¼‰ï¼šä¸ºåšå®¢æ·»åŠ  PJAX</title>
      <link href="/posts/d023.html"/>
      <url>/posts/d023.html</url>
      
        <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯-PJAXï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-PJAXï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ PJAXï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ PJAXï¼Ÿ</h2><p>PJAXï¼ˆPushState + AJAXï¼‰æ˜¯ä¸€ç§ç»“åˆäº†HTML5çš„pushState APIå’ŒAJAXæŠ€æœ¯çš„ç½‘é¡µåŠ è½½æ–¹æ³•ã€‚å®ƒé€šè¿‡åœ¨åå°å¼‚æ­¥åŠ è½½é¡µé¢å†…å®¹ï¼Œç„¶ååªæ›´æ–°é¡µé¢ä¸­éœ€è¦æ”¹å˜çš„éƒ¨åˆ†ï¼ŒåŒæ—¶é€šè¿‡pushStateæ›´æ–°æµè§ˆå™¨åœ°å€æ ï¼Œä»è€Œå®ç°äº†æ›´å¿«çš„é¡µé¢åˆ‡æ¢ä½“éªŒã€‚</p><p>ä¼ ç»Ÿçš„ç½‘é¡µå¯¼èˆªä¼šå¯¼è‡´æ•´ä¸ªé¡µé¢é‡æ–°åŠ è½½ï¼ŒåŒ…æ‹¬CSSã€JavaScriptå’Œé‡å¤çš„é¡µé¢ç»“æ„ï¼ˆå¦‚é¡µçœ‰ã€é¡µè„šï¼‰ã€‚è€ŒPJAXåªåŠ è½½å˜åŒ–çš„å†…å®¹éƒ¨åˆ†ï¼Œä¿æŒå…¶ä»–éƒ¨åˆ†ä¸å˜ï¼Œå¤§å¤§å‡å°‘äº†æ•°æ®ä¼ è¾“é‡å’Œæ¸²æŸ“æ—¶é—´ã€‚</p><h2 id="ä¸ºä»€ä¹ˆè¦åœ¨åšå®¢ä¸­æ·»åŠ -PJAXï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¦åœ¨åšå®¢ä¸­æ·»åŠ -PJAXï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦åœ¨åšå®¢ä¸­æ·»åŠ  PJAXï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¦åœ¨åšå®¢ä¸­æ·»åŠ  PJAXï¼Ÿ</h2><p><strong>ä¸»è¦ä¸ºäº†ä¿æŒéŸ³ä¹æ’­æ”¾å™¨æ’­æ”¾çŠ¶æ€ä¸è¢«ä¸­æ–­</strong></p><div class="note note-primary">            <p>ç”±äºåšä¸»ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦Pjaxï¼Œåœ¨ä½¿ç”¨Pjaxæ—¶ï¼Œå‘ç°é¡µé¢çš„è®¸å¤šè„šæœ¬æ— æ³•æ­£å¸¸æ‰§è¡Œï¼Œå…·ä½“é—®é¢˜åŒ…æ‹¬ï¼šé»‘æš—æ¨¡å¼åˆ‡æ¢ã€å›¾ç‰‡æ‡’åŠ è½½ã€ä¸€è¨€ã€æœç´¢ã€AI æ‘˜è¦ã€æ ‡ç­¾äº‘ã€æ—¶é’Ÿã€DPLAYERã€å…¬å¼å’Œæµç¨‹å›¾ç­‰ã€‚ç”±äºè¿™äº›é—®é¢˜ï¼Œä¸€åº¦æƒ³æ”¾å¼ƒ Pjax æ–¹æ¡ˆã€‚ä¸è¿‡ï¼Œç»è¿‡è¿›ä¸€æ­¥çš„æ¢ç´¢å’Œå°è¯•ï¼Œå‘ç°é€šè¿‡è°ƒæ•´è„šæœ¬åŠ è½½é¡ºåºã€ç»‘å®šäº‹ä»¶ç›‘å¬ç­‰æ–¹å¼ï¼Œå¯ä»¥é€æ­¥è§£å†³è¿™äº›é—®é¢˜ï¼Œæœ€ç»ˆæˆåŠŸè®© Pjax ä¸è¿™äº›åŠŸèƒ½å…¼å®¹ã€‚</p>          </div><h2 id="åŸºæœ¬å®ç°æ­¥éª¤"><a href="#åŸºæœ¬å®ç°æ­¥éª¤" class="headerlink" title="åŸºæœ¬å®ç°æ­¥éª¤"></a>åŸºæœ¬å®ç°æ­¥éª¤</h2><ol><li><h3 id="å¼•å…¥PJAXåº“ï¼š"><a href="#å¼•å…¥PJAXåº“ï¼š" class="headerlink" title="å¼•å…¥PJAXåº“ï¼š"></a><strong>å¼•å…¥PJAXåº“</strong>ï¼š</h3></li></ol><p>å‚è€ƒå®‰çŸ¥é±¼ä¸»é¢˜çš„å®ç°æ–¹å¼ï¼Œå¼•å…¥<a href="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js">Pjaxåº“</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript">hexo.<span class="hljs-property">extend</span>.<span class="hljs-property">injector</span>.<span class="hljs-title function_">register</span>(<span class="hljs-string">&#x27;body_end&#x27;</span>, <br><span class="hljs-string">`</span><br><span class="hljs-string">&lt;script src=&quot;https://cdn.cbd.int/pjax@0.2.8/pjax.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="hljs-string">&lt;script src=&quot;/assets/js/pjax.js&quot;&gt;&lt;/script&gt;</span><br><span class="hljs-string">`</span>, <br><span class="hljs-string">&#x27;default&#x27;</span>);<br></code></pre></td></tr></table></figure><ol start="2"><li><h3 id="ç¼–å†™Pjaxå¤„ç†é€»è¾‘ï¼š"><a href="#ç¼–å†™Pjaxå¤„ç†é€»è¾‘ï¼š" class="headerlink" title="ç¼–å†™Pjaxå¤„ç†é€»è¾‘ï¼š"></a><strong>ç¼–å†™Pjaxå¤„ç†é€»è¾‘</strong>ï¼š</h3></li></ol><p>å®Œæ•´ä»£ç (&#x2F;assets&#x2F;js&#x2F;pjax.js)ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs javascript">(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">let</span> enable = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&quot;enable-pjax&quot;</span>);<br>    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">eval</span>(enable) === <span class="hljs-literal">false</span>) <span class="hljs-keyword">return</span>;<br>    <br>    <span class="hljs-title class_">Fluid</span>.<span class="hljs-property">utils</span>.<span class="hljs-title function_">createScript</span>(<span class="hljs-string">&#x27;/assets/js/DPlayer.min.js&#x27;</span>)<br>    <span class="hljs-keyword">var</span> box = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;loading&#x27;</span>);<br>    <br>    <span class="hljs-keyword">var</span> pjaxSelectors = [<span class="hljs-string">&quot;head &gt; title&quot;</span>, <span class="hljs-string">&quot;#web_bg&quot;</span>, <span class="hljs-string">&quot;.header-inner&quot;</span>, <span class="hljs-string">&quot;#container&quot;</span>, <span class="hljs-string">&quot;.pjax-reload&quot;</span>]<br><br>    <span class="hljs-keyword">var</span> pjax = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Pjax</span>(&#123;<br>        <span class="hljs-attr">elements</span>: <span class="hljs-string">&#x27;a:not([target=&quot;_blank&quot;])&#x27;</span>,<br>        <span class="hljs-attr">selectors</span>: pjaxSelectors,<br>        <span class="hljs-attr">cacheBust</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-attr">analytics</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-attr">scrollRestoration</span>: <span class="hljs-literal">false</span><br>    &#125;)<br><br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;pjax:send&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        box.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">&#x27;flex&#x27;</span><br>    &#125;)<br><br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;pjax:complete&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-title class_">Fluid</span>.<span class="hljs-property">events</span>.<span class="hljs-title function_">registerScrollTopArrowEvent</span>();<br>        <span class="hljs-title class_">Fluid</span>.<span class="hljs-property">events</span>.<span class="hljs-title function_">registerImageLoadedEvent</span>();<br>        <span class="hljs-keyword">if</span>($(<span class="hljs-string">&quot;.scroll-down-bar&quot;</span>).<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>)&#123;<br>            <span class="hljs-title class_">Fluid</span>.<span class="hljs-property">events</span>.<span class="hljs-title function_">registerScrollDownArrowEvent</span>();<br>        &#125;<br>        box.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">&#x27;none&#x27;</span>;<br>        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&#x27;script[data-pjax]&#x27;</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> &#123;<br>            <span class="hljs-keyword">const</span> newScript = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;script&#x27;</span>)<br>            <span class="hljs-keyword">const</span> content = item.<span class="hljs-property">text</span> || item.<span class="hljs-property">textContent</span> || item.<span class="hljs-property">innerHTML</span> || <span class="hljs-string">&quot;&quot;</span><br>            <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(item.<span class="hljs-property">attributes</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">attr</span> =&gt;</span> newScript.<span class="hljs-title function_">setAttribute</span>(attr.<span class="hljs-property">name</span>, attr.<span class="hljs-property">value</span>))<br>            newScript.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createTextNode</span>(content))<br>            item.<span class="hljs-property">parentNode</span>.<span class="hljs-title function_">replaceChild</span>(newScript, item)<br>        &#125;)<br>    &#125;)<br><br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;pjax:error&#x27;</span>, <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> &#123;<br>        <span class="hljs-keyword">if</span> (e.<span class="hljs-property">request</span>.<span class="hljs-property">status</span> === <span class="hljs-number">404</span>) &#123;<br>            pjax.<span class="hljs-title function_">loadUrl</span>(<span class="hljs-string">&#x27;/404.html&#x27;</span>)<br>        &#125;<br>    &#125;)<br><br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;pjax:success&#x27;</span>, <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> &#123;<br>        <span class="hljs-keyword">if</span>($(<span class="hljs-string">&quot;.mermaid&quot;</span>).<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>)&#123;<br>            <span class="hljs-keyword">let</span> i = <span class="hljs-built_in">setInterval</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>                <span class="hljs-keyword">if</span>(<span class="hljs-string">&quot;mermaid&quot;</span> <span class="hljs-keyword">in</span> <span class="hljs-variable language_">window</span>)&#123;<br>                    mermaid.<span class="hljs-title function_">init</span>()<br>                    <span class="hljs-built_in">clearInterval</span>(i)<br>                &#125;<br>            &#125;, <span class="hljs-number">1000</span>)<br>        &#125;        <br>    &#125;)<br>&#125;)();<br></code></pre></td></tr></table></figure><h4 id="1-åˆå§‹åŒ–æ£€æŸ¥"><a href="#1-åˆå§‹åŒ–æ£€æŸ¥" class="headerlink" title="1. åˆå§‹åŒ–æ£€æŸ¥"></a>1. åˆå§‹åŒ–æ£€æŸ¥</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> enable = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&quot;enable-pjax&quot;</span>);<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">eval</span>(enable) === <span class="hljs-literal">false</span>) <span class="hljs-keyword">return</span>;<br></code></pre></td></tr></table></figure><ul><li>ä»æœ¬åœ°å­˜å‚¨ä¸­è¯»å– <code>enable-pjax</code> è®¾ç½®</li><li>å¦‚æœè¯¥å€¼ä¸º <code>false</code>ï¼Œåˆ™ç›´æ¥é€€å‡ºï¼Œä¸å¯ç”¨ PJAX</li><li>ä½¿ç”¨ <code>eval()</code> å°†å­˜å‚¨çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¸ƒå°”å€¼ï¼ˆæ³¨æ„ï¼šå®é™…é¡¹ç›®ä¸­åº”é¿å…ç›´æ¥ä½¿ç”¨ <code>eval</code>ï¼Œå¯ä»¥ç”¨ <code>JSON.parse</code> æ›¿ä»£ï¼‰</li></ul><h4 id="2-åŠ è½½ä¾èµ–"><a href="#2-åŠ è½½ä¾èµ–" class="headerlink" title="2. åŠ è½½ä¾èµ–"></a>2. åŠ è½½ä¾èµ–</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Fluid</span>.<span class="hljs-property">utils</span>.<span class="hljs-title function_">createScript</span>(<span class="hljs-string">&#x27;/assets/js/DPlayer.min.js&#x27;</span>)<br></code></pre></td></tr></table></figure><ul><li>åŠ¨æ€åŠ è½½ DPlayer è„šæœ¬ï¼ˆä¸€ä¸ªè§†é¢‘æ’­æ”¾å™¨åº“ï¼‰</li><li>å¤„ç†åŒ…å«è§†é¢‘å†…å®¹çš„é¡µé¢</li></ul><h4 id="3-PJAX-é…ç½®"><a href="#3-PJAX-é…ç½®" class="headerlink" title="3. PJAX é…ç½®"></a>3. PJAX é…ç½®</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> box = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;loading&#x27;</span>);<br><span class="hljs-keyword">var</span> pjaxSelectors = [<span class="hljs-string">&quot;head &gt; title&quot;</span>, <span class="hljs-string">&quot;#web_bg&quot;</span>, <span class="hljs-string">&quot;.header-inner&quot;</span>, <span class="hljs-string">&quot;#container&quot;</span>, <span class="hljs-string">&quot;.pjax-reload&quot;</span>]<br><br><span class="hljs-keyword">var</span> pjax = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Pjax</span>(&#123;<br>    <span class="hljs-attr">elements</span>: <span class="hljs-string">&#x27;a:not([target=&quot;_blank&quot;])&#x27;</span>,<br>    <span class="hljs-attr">selectors</span>: pjaxSelectors,<br>    <span class="hljs-attr">cacheBust</span>: <span class="hljs-literal">false</span>,<br>    <span class="hljs-attr">analytics</span>: <span class="hljs-literal">false</span>,<br>    <span class="hljs-attr">scrollRestoration</span>: <span class="hljs-literal">false</span><br>&#125;)<br></code></pre></td></tr></table></figure><ul><li><code>loading</code> å…ƒç´ æ˜¯é¡µé¢åŠ è½½åŠ¨ç”»å®¹å™¨</li><li><code>pjaxSelectors</code> å®šä¹‰äº†å“ªäº›éƒ¨åˆ†çš„å†…å®¹ä¼šè¢« PJAX æ›¿æ¢ï¼š<ul><li>é¡µé¢æ ‡é¢˜ (<code>head &gt; title</code>)</li><li>èƒŒæ™¯å…ƒç´  (<code>#web_bg</code>)</li><li>å¤´éƒ¨å†…å®¹ (<code>.header-inner</code>)</li><li>ä¸»å®¹å™¨ (<code>#container</code>)</li><li>éœ€è¦é‡æ–°åŠ è½½çš„ PJAX å…ƒç´  (<code>.pjax-reload</code>)</li></ul></li><li>PJAX åˆå§‹åŒ–é…ç½®ï¼š<ul><li><code>elements</code>: å“ªäº›é“¾æ¥è§¦å‘ PJAXï¼ˆæ’é™¤ target&#x3D;â€_blankâ€ çš„é“¾æ¥ï¼‰</li><li><code>selectors</code>: è¦æ›¿æ¢çš„å†…å®¹é€‰æ‹©å™¨</li><li><code>cacheBust</code>: ä¸æ·»åŠ ç¼“å­˜ç ´åå‚æ•°</li><li><code>analytics</code>: ä¸ä½¿ç”¨é»˜è®¤çš„åˆ†æè·Ÿè¸ª</li><li><code>scrollRestoration</code>: ç¦ç”¨æµè§ˆå™¨è‡ªåŠ¨æ»šåŠ¨æ¢å¤</li></ul></li></ul><h4 id="4-PJAX-äº‹ä»¶å¤„ç†"><a href="#4-PJAX-äº‹ä»¶å¤„ç†" class="headerlink" title="4. PJAX äº‹ä»¶å¤„ç†"></a>4. PJAX äº‹ä»¶å¤„ç†</h4><h5 id="å‘é€è¯·æ±‚æ—¶-pjax-send"><a href="#å‘é€è¯·æ±‚æ—¶-pjax-send" class="headerlink" title="å‘é€è¯·æ±‚æ—¶ (pjax:send)"></a>å‘é€è¯·æ±‚æ—¶ (<code>pjax:send</code>)</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;pjax:send&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    box.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">&#x27;flex&#x27;</span><br>&#125;)<br></code></pre></td></tr></table></figure><ul><li>æ˜¾ç¤ºåŠ è½½åŠ¨ç”»</li></ul><h5 id="è¯·æ±‚å®Œæˆæ—¶-pjax-complete"><a href="#è¯·æ±‚å®Œæˆæ—¶-pjax-complete" class="headerlink" title="è¯·æ±‚å®Œæˆæ—¶ (pjax:complete)"></a>è¯·æ±‚å®Œæˆæ—¶ (<code>pjax:complete</code>)</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;pjax:complete&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title class_">Fluid</span>.<span class="hljs-property">events</span>.<span class="hljs-title function_">registerScrollTopArrowEvent</span>();<br>    <span class="hljs-title class_">Fluid</span>.<span class="hljs-property">events</span>.<span class="hljs-title function_">registerImageLoadedEvent</span>();<br>    <span class="hljs-keyword">if</span>($(<span class="hljs-string">&quot;.scroll-down-bar&quot;</span>).<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>)&#123;<br>        <span class="hljs-title class_">Fluid</span>.<span class="hljs-property">events</span>.<span class="hljs-title function_">registerScrollDownArrowEvent</span>();<br>    &#125;<br>    box.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">&#x27;none&#x27;</span>;<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&#x27;script[data-pjax]&#x27;</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> &#123;<br>        <span class="hljs-keyword">const</span> newScript = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;script&#x27;</span>)<br>        <span class="hljs-keyword">const</span> content = item.<span class="hljs-property">text</span> || item.<span class="hljs-property">textContent</span> || item.<span class="hljs-property">innerHTML</span> || <span class="hljs-string">&quot;&quot;</span><br>        <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(item.<span class="hljs-property">attributes</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">attr</span> =&gt;</span> newScript.<span class="hljs-title function_">setAttribute</span>(attr.<span class="hljs-property">name</span>, attr.<span class="hljs-property">value</span>))<br>        newScript.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createTextNode</span>(content))<br>        item.<span class="hljs-property">parentNode</span>.<span class="hljs-title function_">replaceChild</span>(newScript, item)<br>    &#125;)<br>&#125;)<br></code></pre></td></tr></table></figure><ul><li>é‡æ–°æ³¨å†Œæ»šåŠ¨åˆ°é¡¶éƒ¨æŒ‰é’®äº‹ä»¶</li><li>é‡æ–°æ³¨å†Œå›¾ç‰‡åŠ è½½äº‹ä»¶</li><li>å¦‚æœæœ‰å‘ä¸‹æ»šåŠ¨æŒ‰é’®ï¼Œæ³¨å†Œç›¸åº”äº‹ä»¶</li><li>éšè—åŠ è½½åŠ¨ç”»</li><li>å¤„ç†å¸¦æœ‰ <code>data-pjax</code> å±æ€§çš„è„šæœ¬ï¼š<ul><li>åˆ›å»ºæ–°è„šæœ¬å…ƒç´ </li><li>å¤åˆ¶åŸè„šæœ¬çš„å†…å®¹å’Œæ‰€æœ‰å±æ€§</li><li>æ›¿æ¢åŸè„šæœ¬ï¼ˆç¡®ä¿è„šæœ¬åœ¨æ–°å†…å®¹ä¸­æ‰§è¡Œï¼‰</li></ul></li></ul><h5 id="å‘ç”Ÿé”™è¯¯æ—¶-pjax-error"><a href="#å‘ç”Ÿé”™è¯¯æ—¶-pjax-error" class="headerlink" title="å‘ç”Ÿé”™è¯¯æ—¶ (pjax:error)"></a>å‘ç”Ÿé”™è¯¯æ—¶ (<code>pjax:error</code>)</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;pjax:error&#x27;</span>, <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (e.<span class="hljs-property">request</span>.<span class="hljs-property">status</span> === <span class="hljs-number">404</span>) &#123;<br>        pjax.<span class="hljs-title function_">loadUrl</span>(<span class="hljs-string">&#x27;/404.html&#x27;</span>)<br>    &#125;<br>&#125;)<br></code></pre></td></tr></table></figure><ul><li>å¦‚æœè¯·æ±‚è¿”å› 404 é”™è¯¯ï¼ŒåŠ è½½ 404 é¡µé¢</li></ul><h5 id="è¯·æ±‚æˆåŠŸæ—¶-pjax-success"><a href="#è¯·æ±‚æˆåŠŸæ—¶-pjax-success" class="headerlink" title="è¯·æ±‚æˆåŠŸæ—¶ (pjax:success)"></a>è¯·æ±‚æˆåŠŸæ—¶ (<code>pjax:success</code>)</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;pjax:success&#x27;</span>, <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span>($(<span class="hljs-string">&quot;.mermaid&quot;</span>).<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>)&#123;<br>        <span class="hljs-keyword">let</span> i = <span class="hljs-built_in">setInterval</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>            <span class="hljs-keyword">if</span>(<span class="hljs-string">&quot;mermaid&quot;</span> <span class="hljs-keyword">in</span> <span class="hljs-variable language_">window</span>)&#123;<br>                mermaid.<span class="hljs-title function_">init</span>()<br>                <span class="hljs-built_in">clearInterval</span>(i)<br>            &#125;<br>        &#125;, <span class="hljs-number">1000</span>)<br>    &#125;        <br>&#125;)<br></code></pre></td></tr></table></figure><ul><li>å¦‚æœé¡µé¢åŒ…å« Mermaid å›¾è¡¨ï¼ˆ<code>.mermaid</code> å…ƒç´ ï¼‰ï¼š<ul><li>æ¯éš” 1 ç§’æ£€æŸ¥ä¸€æ¬¡ mermaid æ˜¯å¦å·²åŠ è½½</li><li>ä¸€æ—¦æ£€æµ‹åˆ° mermaidï¼Œåˆå§‹åŒ–å›¾è¡¨å¹¶æ¸…é™¤å®šæ—¶å™¨</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç›¸å…³æ•™ç¨‹ </category>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Fluid </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è§£å†³Google reCAPTCHAéªŒè¯æ— æ³•åŠ è½½çš„é—®é¢˜</title>
      <link href="/posts/965.html"/>
      <url>/posts/965.html</url>
      
        <content type="html"><![CDATA[<h2 id="é—®é¢˜èƒŒæ™¯"><a href="#é—®é¢˜èƒŒæ™¯" class="headerlink" title="é—®é¢˜èƒŒæ™¯"></a>é—®é¢˜èƒŒæ™¯</h2><p>ç”±äºå›½å†…ç½‘ç»œé™åˆ¶ï¼Œè®¿é—®Google reCAPTCHAäººæœºéªŒè¯æœåŠ¡æ—¶ä¼šå‡ºç°åŠ è½½å¤±è´¥çš„æƒ…å†µï¼Œå½±å“ç½‘ç«™æ³¨å†Œã€ç™»å½•ç­‰åŠŸèƒ½çš„æ­£å¸¸ä½¿ç”¨ã€‚</p><h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><h3 id="ä½¿ç”¨Header-Editoræ’ä»¶é‡å®šå‘"><a href="#ä½¿ç”¨Header-Editoræ’ä»¶é‡å®šå‘" class="headerlink" title="ä½¿ç”¨Header Editoræ’ä»¶é‡å®šå‘"></a>ä½¿ç”¨Header Editoræ’ä»¶é‡å®šå‘</h3><h4 id="å®‰è£…æ­¥éª¤"><a href="#å®‰è£…æ­¥éª¤" class="headerlink" title="å®‰è£…æ­¥éª¤"></a>å®‰è£…æ­¥éª¤</h4><ol><li><p><strong>è·å–æ’ä»¶</strong>ï¼š</p><ul><li>Firefoxç”¨æˆ·ï¼š<a href="http://addons.mozilla.org/firefox/addon/header-editor/">ä»Mozillaå•†åº—å®‰è£…</a></li><li>Chromeç”¨æˆ·ï¼š<a href="http://chrome.google.com/webstore/detail/header-editor/eningockdidmgiojffjmkdblpjocbhgh">ä»Chromeå•†åº—å®‰è£…</a></li></ul></li><li><p><strong>é…ç½®è§„åˆ™</strong>ï¼š</p><ul><li><p>æ‰“å¼€æ’ä»¶åè¿›å…¥â€ç®¡ç†â€&gt;â€å¯¼å…¥å’Œå¯¼å‡ºâ€</p></li><li><p>è¾“å…¥ä»¥ä¸‹è§„åˆ™åœ°å€å¹¶ä¸‹è½½ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">https:<span class="hljs-regexp">//</span>azurezeng.github.io<span class="hljs-regexp">/static/</span>HE-GoogleRedirect.json<br></code></pre></td></tr></table></figure></li><li><p>è¯¥è§„åˆ™åŒ…å«å¯¹Google APIsã€reCaptchaå’ŒContent Securityçš„é‡å®šå‘é…ç½®</p></li></ul></li><li><p><strong>ä¿å­˜ç”Ÿæ•ˆ</strong>ï¼š</p><ul><li>å¯¼å…¥è§„åˆ™åä¿å­˜è®¾ç½®</li><li>åˆ·æ–°éœ€è¦ä½¿ç”¨reCAPTCHAçš„é¡µé¢å³å¯æ­£å¸¸æ˜¾ç¤ºéªŒè¯ç </li></ul></li></ol><h4 id="åŸç†è¯´æ˜"><a href="#åŸç†è¯´æ˜" class="headerlink" title="åŸç†è¯´æ˜"></a>åŸç†è¯´æ˜</h4><p>æ­¤æ–¹æ¡ˆé€šè¿‡å°†Google reCAPTCHAçš„è¯·æ±‚åœ°å€ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">https:<span class="hljs-regexp">//</span>www.google.com<span class="hljs-regexp">/recaptcha/</span>api.js<br></code></pre></td></tr></table></figure><p>é‡å®šå‘åˆ°å¯è®¿é—®çš„æ›¿ä»£åœ°å€ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">https:<span class="hljs-regexp">//</span>recaptcha.net<span class="hljs-regexp">/recaptcha/</span>api.js<br></code></pre></td></tr></table></figure><h2 id="å…¼å®¹æ€§"><a href="#å…¼å®¹æ€§" class="headerlink" title="å…¼å®¹æ€§"></a>å…¼å®¹æ€§</h2><ul><li>æ”¯æŒChromeæ¡Œé¢ç‰ˆ</li><li>æ”¯æŒFirefoxæ¡Œé¢ç‰ˆå’Œç§»åŠ¨ç‰ˆ</li></ul><blockquote><p>æç¤ºï¼šæ­¤æ–¹æ³•é€šè¿‡ç¤¾åŒºç»´æŠ¤çš„è§„åˆ™å®ç°ï¼Œè‹¥å¤±æ•ˆå¯å°è¯•æ›´æ–°è§„åˆ™æˆ–å¯»æ‰¾å…¶ä»–æ›¿ä»£æ–¹æ¡ˆã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æ‚è°ˆ </category>
          
          <category> Google </category>
          
      </categories>
      
      
        <tags>
            
            <tag> reCAPTCHA </tag>
            
            <tag> Google </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨GitHub Actionsè‡ªåŠ¨ç¼–è¯‘éƒ¨ç½²hexoåšå®¢</title>
      <link href="/posts/428a.html"/>
      <url>/posts/428a.html</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><strong>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨GitHub Actionsè‡ªåŠ¨ç¼–è¯‘éƒ¨ç½²hexoåšå®¢ï¼Ÿ</strong></p><p> <a href="/posts/aa1a.html">æœ¬åšå®¢æ˜¯å¦‚ä½•æ­å»ºçš„</a></p><table><thead><tr><th align="left">æœ¬åœ°éƒ¨ç½²</th><th align="left">GitHub Actions</th></tr></thead><tbody><tr><td align="left">éœ€æ‰‹åŠ¨æ‰§è¡Œ <code>hexo clean &amp;&amp; hexo g -d</code></td><td align="left">ä»£ç æ¨é€åè‡ªåŠ¨è§¦å‘ç¼–è¯‘éƒ¨ç½²</td></tr><tr><td align="left">æœ¬åœ°éœ€å®‰è£… Node.js&#x2F;Hexo ç¯å¢ƒ</td><td align="left">äº‘ç«¯è‡ªåŠ¨é…ç½®çº¯å‡€æ„å»ºç¯å¢ƒ</td></tr><tr><td align="left">ç¼–è¯‘ä¾èµ–æœ¬åœ°ç”µè„‘æ€§èƒ½</td><td align="left">åˆ©ç”¨ GitHub æœåŠ¡å™¨èµ„æºï¼Œé€Ÿåº¦æ›´å¿«</td></tr><tr><td align="left">å¤šè®¾å¤‡å·¥ä½œéœ€åŒæ­¥ç¯å¢ƒ</td><td align="left">ä»»ä½•è®¾å¤‡åªéœ€ <code>git push</code> å³å¯æ›´æ–°åšå®¢</td></tr></tbody></table><h2 id="å…·ä½“å®ç°æ–¹æ¡ˆ"><a href="#å…·ä½“å®ç°æ–¹æ¡ˆ" class="headerlink" title="å…·ä½“å®ç°æ–¹æ¡ˆ"></a>å…·ä½“å®ç°æ–¹æ¡ˆ</h2><ol><li><p><strong>ä¸¤ä¸ªç‹¬ç«‹ä»“åº“</strong>ï¼š</p><ul><li><p><code>hexo-source</code>ï¼ˆç§æœ‰ï¼‰ï¼šå­˜æ”¾ Hexo æºç ï¼ˆMarkdown æ–‡ç« ã€ä¸»é¢˜ã€é…ç½®æ–‡ä»¶ç­‰ï¼‰</p></li><li><p><code>username.github.io</code>ï¼ˆå…¬å¼€ï¼‰ï¼šå­˜æ”¾ç¼–è¯‘åçš„é™æ€æ–‡ä»¶ï¼ˆè‡ªåŠ¨é€šè¿‡ GitHub Pages æ‰˜ç®¡ï¼‰</p><div class="note note-info">            <p>GitHub è§„å®šå…è´¹ç”¨æˆ·çš„ Pages æœåŠ¡å¿…é¡»ä½¿ç”¨å…¬å¼€ä»“åº“ï¼ˆç§æœ‰ä»“åº“éœ€ Pro è®¢é˜…ï¼‰ï¼Œè¯¥æ–¹æ¡ˆå¯ä»¥æ—¢ä¿æŠ¤æºç éšç§ï¼Œåˆç¬¦åˆ Pages çš„å…¬å¼€è¦æ±‚</p>          </div></li></ul></li><li><p><strong>è‡ªåŠ¨åŒ–æµç¨‹</strong>ï¼š</p><ul><li>å½“å‘ <code>hexo-source</code> æ¨é€ä»£ç æ—¶ï¼Œè‡ªåŠ¨è§¦å‘ GitHub Actions å®Œæˆä»¥ä¸‹æ“ä½œï¼š<ol><li>å®‰è£… Node.js ç¯å¢ƒ</li><li>ç¼–è¯‘ Hexo ç”Ÿæˆé™æ€æ–‡ä»¶</li><li>å°†ç”Ÿæˆçš„ <code>public/</code> å†…å®¹æ¨é€åˆ° <code>username.github.io</code> ä»“åº“</li></ol></li></ul></li></ol><h2 id="è¯¦ç»†é…ç½®æ­¥éª¤"><a href="#è¯¦ç»†é…ç½®æ­¥éª¤" class="headerlink" title="è¯¦ç»†é…ç½®æ­¥éª¤"></a>è¯¦ç»†é…ç½®æ­¥éª¤</h2><h3 id="1-åˆ›å»ºSSHå¯†é’¥å¯¹"><a href="#1-åˆ›å»ºSSHå¯†é’¥å¯¹" class="headerlink" title="1. åˆ›å»ºSSHå¯†é’¥å¯¹"></a>1. åˆ›å»ºSSHå¯†é’¥å¯¹</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ssh-keygen -t rsa -b 4096 -f ~/.ssh/hexo_deploy_key<br></code></pre></td></tr></table></figure><h3 id="2-é…ç½®å¯†é’¥"><a href="#2-é…ç½®å¯†é’¥" class="headerlink" title="2. é…ç½®å¯†é’¥"></a>2. é…ç½®å¯†é’¥</h3><ol><li>å°†å…¬é’¥(<code>hexo_deploy_key.pub</code>)æ·»åŠ åˆ°<strong>é™æ€ç½‘é¡µä»“åº“</strong>çš„Deploy Keys<ul><li>å‹¾é€‰â€Allow write accessâ€</li></ul></li><li>å°†ç§é’¥(<code>hexo_deploy_key</code>)æ·»åŠ åˆ°<strong>æºä»£ç ä»“åº“</strong>çš„Secrets<ul><li>å‘½åä¸º<code>HEXO_DEPLOY_PRIVATE_KEY</code></li></ul></li></ol><h3 id="3-é…ç½®Hexo"><a href="#3-é…ç½®Hexo" class="headerlink" title="3. é…ç½®Hexo"></a>3. é…ç½®Hexo</h3><p>åœ¨<code>_config.yml</code>ä¸­è®¾ç½®éƒ¨ç½²ç›®æ ‡git<strong>é™æ€ç½‘é¡µä»“åº“</strong>ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">deploy:</span><br>  <span class="hljs-attr">type:</span> <span class="hljs-string">git</span><br>  <span class="hljs-attr">repo:</span> <span class="hljs-string">git@github.com:yourname/yourname.github.io.git</span><br>  <span class="hljs-attr">branch:</span> <span class="hljs-string">main</span><br></code></pre></td></tr></table></figure><h3 id="4-åˆ›å»ºGitHub-Actionså·¥ä½œæµ"><a href="#4-åˆ›å»ºGitHub-Actionså·¥ä½œæµ" class="headerlink" title="4.åˆ›å»ºGitHub Actionså·¥ä½œæµ"></a>4.åˆ›å»ºGitHub Actionså·¥ä½œæµ</h3><p>åœ¨åšå®¢æ–‡ä»¶ç›®å½•æ–°å»º<code>/.github/workflows/deploy.yml</code></p><p>å†…å®¹ç¤ºä¾‹</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">hexo</span> <span class="hljs-string">site</span> <span class="hljs-string">to</span> <span class="hljs-string">Pages</span> <span class="hljs-comment"># è„šæœ¬ workflow åç§°</span><br><br><span class="hljs-attr">on:</span><br>  <span class="hljs-attr">push:</span><br>    <span class="hljs-attr">branches:</span> [<span class="hljs-string">main</span>] <span class="hljs-comment"># å½“ç›‘æµ‹ mainåˆ†æ”¯ çš„ push</span><br>    <span class="hljs-attr">paths:</span> <span class="hljs-comment"># ç›‘æµ‹æ‰€æœ‰ source ç›®å½•ä¸‹çš„æ–‡ä»¶å˜åŠ¨ï¼Œæ‰€æœ‰ yml,json åç¼€æ–‡ä»¶çš„å˜åŠ¨ã€‚</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;*.json&#x27;</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;**.yml&#x27;</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;**/source/**&#x27;</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;**/scripts/**&#x27;</span><br><br><span class="hljs-comment"># Sets permissions of the GITHUB_TOKEN to allow deployment to GitHub Pages</span><br><span class="hljs-attr">permissions:</span><br>  <span class="hljs-attr">contents:</span> <span class="hljs-string">read</span><br>  <span class="hljs-attr">pages:</span> <span class="hljs-string">write</span><br>  <span class="hljs-attr">id-token:</span> <span class="hljs-string">write</span><br><br><span class="hljs-comment"># Default to bash</span><br><span class="hljs-attr">defaults:</span><br>  <span class="hljs-attr">run:</span><br>    <span class="hljs-attr">shell:</span> <span class="hljs-string">bash</span><br><br><span class="hljs-attr">jobs:</span><br>  <span class="hljs-attr">build:</span> <span class="hljs-comment"># ä»»åŠ¡åç§°</span><br>    <span class="hljs-attr">timeout-minutes:</span> <span class="hljs-number">30</span> <span class="hljs-comment"># è®¾ç½® 30 åˆ†é’Ÿè¶…æ—¶</span><br>    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span> <span class="hljs-comment"># æŒ‡å®šæœ€æ–° ubuntu ç³»ç»Ÿ</span><br>    <span class="hljs-attr">steps:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v4</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">token:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.GITHUB_TOKEN</span> <span class="hljs-string">&#125;&#125;</span><br>          <span class="hljs-comment"># If your repository depends on submodule, please see: https://github.com/actions/checkout</span><br>          <span class="hljs-attr">submodules:</span> <span class="hljs-string">recursive</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Use</span> <span class="hljs-string">Node.js</span> <span class="hljs-number">20</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-node@v4</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-comment"># Examples: 20, 18.19, &gt;=16.20.2, lts/Iron, lts/Hydrogen, *, latest, current, node</span><br>          <span class="hljs-comment"># Ref: https://github.com/actions/setup-node#supported-version-syntax</span><br>          <span class="hljs-attr">node-version:</span> <span class="hljs-string">&quot;20&quot;</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Cache</span> <span class="hljs-string">NPM</span> <span class="hljs-string">dependencies</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/cache@v4</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">path:</span> <span class="hljs-string">node_modules</span><br>          <span class="hljs-attr">key:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">runner.OS</span> <span class="hljs-string">&#125;&#125;-npm-cache</span><br>          <span class="hljs-attr">restore-keys:</span> <span class="hljs-string">|</span><br><span class="hljs-string">            $&#123;&#123; runner.OS &#125;&#125;-npm-cache</span><br><span class="hljs-string"></span>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">Dependencies</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">install</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">Hexo-cli</span> <span class="hljs-comment"># å®‰è£… Hexo</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          npm install -g hexo-cli --save</span><br><span class="hljs-string">          echo &quot;install hexo successful&quot;</span><br><span class="hljs-string"></span>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">Blog</span> <span class="hljs-comment"># ç¼–è¯‘åˆ›å»ºé™æ€åšå®¢æ–‡ä»¶</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          hexo clean</span><br><span class="hljs-string">          hexo generate</span><br><span class="hljs-string">          echo &quot;build blog successful&quot;</span><br><span class="hljs-string"></span>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Set</span> <span class="hljs-string">ssh</span> <span class="hljs-string">Permission</span><br>        <span class="hljs-attr">env:</span><br>          <span class="hljs-attr">ACTION_DEPLOY_KEY:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.HEXO_DEPLOY_KEY</span> <span class="hljs-string">&#125;&#125;</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          rm -rf /home/runner/.ssh</span><br><span class="hljs-string">          mkdir -p /home/runner/.ssh/</span><br><span class="hljs-string">          echo &quot;$ACTION_DEPLOY_KEY&quot; &gt; /home/runner/.ssh/id_rsa</span><br><span class="hljs-string">          chmod 700 /home/runner/.ssh</span><br><span class="hljs-string">          chmod 600 /home/runner/.ssh/id_rsa</span><br><span class="hljs-string">          ssh-keyscan github.com &gt;&gt; /home/runner/.ssh/known_hosts</span><br><span class="hljs-string"></span>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">to</span> <span class="hljs-string">Github</span> <span class="hljs-comment"># è®¾ç½® git ä¿¡æ¯å¹¶æ¨é€é™æ€åšå®¢æ–‡ä»¶</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          git config --global user.email &quot;deploy@qq.com&quot;</span><br><span class="hljs-string">          git config --global user.name &quot;deploy&quot;</span><br><span class="hljs-string">          hexo deploy</span><br><span class="hljs-string"></span>      <span class="hljs-bullet">-</span> <span class="hljs-attr">run:</span> <span class="hljs-string">echo</span> <span class="hljs-string">&quot;Deploy Successful!&quot;</span><br></code></pre></td></tr></table></figure><div class="note note-primary">            <p><code>echo &quot;$ACTION_DEPLOY_KEY&quot; &gt; /home/runner/.ssh/id_rsa</code>å®ç°ä»secretä¸­è¯»å–sshç§é’¥ï¼Œä»è€Œè·å–æ¨é€åˆ°<strong>é™æ€ç½‘é¡µä»“åº“</strong>çš„æƒé™</p>          </div><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><ol><li><a href="https://www.cnblogs.com/ssgeek/p/15009012.html">åˆ©ç”¨Github Actionå®ç°Githubåˆ°Giteeçš„æŒç»­åŒæ­¥ - SSgeek</a> </li><li><a href="https://www.cnblogs.com/Fungit/p/github-acionts-automatically-compile-deploy.html">ä½¿ç”¨GitHub Actionsè‡ªåŠ¨ç¼–è¯‘éƒ¨ç½²hexoåšå®¢ - Fungit</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> ç›¸å…³æ•™ç¨‹ </category>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SSH </tag>
            
            <tag> Hexo </tag>
            
            <tag> Github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åšå®¢ç¾åŒ–ç¯‡ï¼ˆå››ï¼‰ï¼šæ–‡ç« é¡µé¢è°ƒæ•´</title>
      <link href="/posts/d022.html"/>
      <url>/posts/d022.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>Hexo ä¸»é¢˜:<a href="https://easyhexo.com/4-High-order-hexo-gamer/4-2-theme-develop/">ç¼–å†™è‡ªå·±çš„ Hexo ä¸»é¢˜ | Easy Hexo ğŸ‘¨â€ğŸ’»</a></p><p>ejsï¼š<a href="https://ejs.bootcss.com/">EJS â€“ åµŒå…¥å¼ JavaScript æ¨¡æ¿å¼•æ“ | EJS ä¸­æ–‡æ–‡æ¡£ (bootcss.com)</a></p></blockquote><h3 id="ä¿®æ”¹å·¦ä¾§æ å†…å®¹ï¼Œæ–°å¢å®¹å™¨side-container"><a href="#ä¿®æ”¹å·¦ä¾§æ å†…å®¹ï¼Œæ–°å¢å®¹å™¨side-container" class="headerlink" title="ä¿®æ”¹å·¦ä¾§æ å†…å®¹ï¼Œæ–°å¢å®¹å™¨side_container"></a>ä¿®æ”¹å·¦ä¾§æ å†…å®¹ï¼Œæ–°å¢å®¹å™¨side_container</h3><p>å·¦è¾¹æ å¯¹åº”ä¸»é¢˜ejsæ–‡ä»¶ï¼Œä¿®æ”¹å¦‚ä¸‹</p><p><code>aside</code>æ˜¯<code>positon</code>å±æ€§ä¸º<code>sticky</code>çš„ç‰¹æ®Šéƒ¨ä»¶</p><p><code>blog\themes\fluid\layout\_partials\post\sidebar-left.ejs</code>:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs ejs">&lt;!-- æ·»åŠ å…¬å‘Šæ æ—¶é’Ÿ --&gt;<br>&lt;div id=&quot;clockdiv&quot; class=&quot;side_container&quot; style=&quot;margin-right: -1rem; margin-top: 2rem; text-align: center; left: 5rem&quot;&gt;<br>  &lt;canvas id=&quot;dom&quot; width=&quot;200&quot; height=&quot;200&quot;&gt;æ—¶é’Ÿcanvas&lt;/canvas&gt;<br>&lt;/div&gt;<br>&lt;script type=&quot;text/javascript&quot; src=&quot;/js/clock.js&quot;&gt;&lt;/script&gt;<br><br>&lt;aside class=&quot;sidebar&quot; style=&quot;margin-right: -1rem; margin-top: 15px; left: 5rem&quot;&gt;<br><br>  &lt;div class=&quot;side_container&quot; &gt;<br>    &lt;%- partial(&#x27;_partials/post/toc&#x27;) %&gt;<br>  &lt;/div&gt;<br><br>  &lt;div class=&quot;side_container category-bar&quot; style=&quot;margin-top: 2rem;&quot; &gt;<br>    &lt;%- partial(&#x27;_partials/post/category-bar&#x27;) %&gt;<br>  &lt;/div&gt;<br>&lt;/aside&gt;<br></code></pre></td></tr></table></figure><h3 id="ä¿®æ”¹side-containerå®¹å™¨cssæ ·å¼"><a href="#ä¿®æ”¹side-containerå®¹å™¨cssæ ·å¼" class="headerlink" title="ä¿®æ”¹side_containerå®¹å™¨cssæ ·å¼"></a>ä¿®æ”¹side_containerå®¹å™¨cssæ ·å¼</h3><p><code>blog\themes\fluid\source\css\_pages\_base\_widget\toc.styl</code></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-class">.sidebar</span><br>  <span class="hljs-attribute">position</span> -webkit-sticky<br>  <span class="hljs-attribute">position</span> sticky<br>  <span class="hljs-attribute">top</span> <span class="hljs-number">2rem</span><br>  <span class="hljs-attribute">padding</span> <span class="hljs-number">3rem</span> <span class="hljs-number">0</span><br>  <span class="hljs-attribute">z-index</span> <span class="hljs-number">3</span><br><br><span class="hljs-selector-class">.side_container</span><br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">1rem</span><br>  <span class="hljs-attribute">background-color</span> <span class="hljs-built_in">var</span>(--board-bg-color)<br>  <span class="hljs-attribute">transition</span> background-color .<span class="hljs-number">2s</span> ease-in-out<br>  <span class="hljs-attribute">border-radius</span> <span class="hljs-number">0.5rem</span><br>  -webkit-<span class="hljs-attribute">box-shadow</span> <span class="hljs-number">0</span> <span class="hljs-number">12px</span> <span class="hljs-number">15px</span> <span class="hljs-number">0</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.24</span>), <span class="hljs-number">0</span> <span class="hljs-number">17px</span> <span class="hljs-number">50px</span> <span class="hljs-number">0</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.19</span>)<br>  <span class="hljs-attribute">box-shadow</span> <span class="hljs-number">0</span> <span class="hljs-number">12px</span> <span class="hljs-number">15px</span> <span class="hljs-number">0</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.24</span>), <span class="hljs-number">0</span> <span class="hljs-number">17px</span> <span class="hljs-number">50px</span> <span class="hljs-number">0</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.19</span>)<br></code></pre></td></tr></table></figure><h3 id="è°ƒæ•´å·¦æ å’Œæ–‡ç« æ ä½ç½®"><a href="#è°ƒæ•´å·¦æ å’Œæ–‡ç« æ ä½ç½®" class="headerlink" title="è°ƒæ•´å·¦æ å’Œæ–‡ç« æ ä½ç½®"></a>è°ƒæ•´å·¦æ å’Œæ–‡ç« æ ä½ç½®</h3><div class="note note-danger">            <p>ä¸‹é¢è¿™ç§ä¿®æ”¹æ–¹æ³•å·²å¼ƒç”¨ï¼Œå­˜åœ¨ç¼©æ”¾å˜å½¢é—®é¢˜</p>          </div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/* æ–‡ç« æ ä¿®æ”¹ */</span><br><span class="hljs-selector-class">.col-lg-8</span><span class="hljs-selector-class">.nopadding-x-md</span> &gt; <span class="hljs-selector-class">.container</span><span class="hljs-selector-class">.nopadding-x-md</span> &gt; <span class="hljs-selector-id">#board</span> &#123;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">103%</span>;<br>    <span class="hljs-attribute">right</span>: -<span class="hljs-number">18%</span>; <br>&#125;<br><span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">767px</span>) &#123;<br>    <span class="hljs-selector-class">.col-lg-8</span><span class="hljs-selector-class">.nopadding-x-md</span> &gt; <span class="hljs-selector-class">.container</span><span class="hljs-selector-class">.nopadding-x-md</span> &gt; <span class="hljs-selector-id">#board</span> &#123;<br>        <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<br>        <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>; <br>    &#125;<br>&#125;<br><span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">424px</span>) &#123;<br>    <span class="hljs-selector-class">.col-lg-8</span><span class="hljs-selector-class">.nopadding-x-md</span> &gt; <span class="hljs-selector-class">.container</span><span class="hljs-selector-class">.nopadding-x-md</span> &gt; <span class="hljs-selector-id">#board</span> &#123;<br>        <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<br>        <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>; <br>    &#125;<br>&#125;<br><span class="hljs-comment">/* ä¾§è¾¹æ ä¿®æ”¹ */</span><br><span class="hljs-selector-class">.side-col</span><span class="hljs-selector-class">.d-none</span><span class="hljs-selector-class">.d-lg-block</span><span class="hljs-selector-class">.col-lg-2</span> &#123;<br>    <span class="hljs-attribute">left</span>: <span class="hljs-number">12%</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="å…¶ä»–è°ƒæ•´"><a href="#å…¶ä»–è°ƒæ•´" class="headerlink" title="å…¶ä»–è°ƒæ•´"></a>å…¶ä»–è°ƒæ•´</h3><ul><li><p>waifu.css è°ƒæ•´çœ‹æ¿å¨˜å¤§å°ï¼Œå¯¹è¯æ¡†å¤§å°</p></li><li><p>szgotop.css è°ƒæ•´æ‚¬æŒ‚çš„çŒ«ä½ç½®</p></li></ul><h3 id="æ–°çš„ä¿®æ”¹æ–¹æ³•"><a href="#æ–°çš„ä¿®æ”¹æ–¹æ³•" class="headerlink" title="æ–°çš„ä¿®æ”¹æ–¹æ³•"></a>æ–°çš„ä¿®æ”¹æ–¹æ³•</h3><p>ä¿®æ”¹ <code>blog\themes\fluid\layout\_partials\post\sidebar-left.ejs</code>ï¼Œæ–°å¢ä¸€æ å ä½ï¼Œå³æ åˆ é™¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs ejs">&lt;div class=&quot;row nomargin-x&quot;&gt;<br>    //æ–°å¢ä¸€æ å å·¦ä½<br>    &lt;div class=&quot;side-col d-none d-lg-block col-lg-1&quot;&gt;<br>    &lt;/div&gt;<br>    <br>    //å·¦æ <br>    &lt;div class=&quot;side-col d-none d-lg-block col-lg-2&quot;&gt;<br>      &lt;%- inject_point(&#x27;postLeft&#x27;) %&gt;<br>    &lt;/div&gt;<br><br>    //æ–‡ç« æ <br>    &lt;div class=&quot;col-lg-8 nopadding-x-md&quot;&gt;<br>     <br>    &lt;/div&gt;<br><br>    //å³æ <br>    &lt;div class=&quot;side-col d-none d-lg-block col-lg-2&quot;&gt;<br>      &lt;%- inject_point(&#x27;postRight&#x27;) %&gt;<br>    &lt;/div&gt;<br></code></pre></td></tr></table></figure><p>å¢åŠ cssæ ·å¼ï¼Œå‡å°æ–‡å­—é¡µè¾¹è·ï¼Œå¢åŠ @media (min-width: 992px)</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/* å‡å°æ–‡å­—é¡µè¾¹è· */</span><br><span class="hljs-selector-class">.post-content</span>&#123;<br>    <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">8%</span>;<br>    <span class="hljs-attribute">padding-right</span>: <span class="hljs-number">8%</span>;<br>&#125;<br><br><span class="hljs-comment">/* ä¾§è¾¹æ å’Œæ–‡ç« æ ä¿®æ”¹ */</span><br><span class="hljs-comment">/* åŸ992 */</span><br><span class="hljs-keyword">@media</span> (<span class="hljs-attribute">min-width</span>: <span class="hljs-number">992px</span>)&#123; <br>    <span class="hljs-selector-class">.col-lg-1</span>&#123;<br>        -ms-<span class="hljs-attribute">flex</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">10%</span>; <br>        <span class="hljs-attribute">flex</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">10%</span>; <br>        <span class="hljs-attribute">max-width</span>: <span class="hljs-number">10%</span>;<br>    &#125;<br>    <span class="hljs-selector-class">.col-lg-2</span> &#123;<br>        -ms-<span class="hljs-attribute">flex</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">16.666667%</span>;<br>        <span class="hljs-attribute">flex</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">16.666667%</span>;<br>        <span class="hljs-attribute">max-width</span>: <span class="hljs-number">16.666667%</span>;<br>    &#125;<br>    <span class="hljs-selector-class">.col-lg-8</span>&#123;<br>        -ms-<span class="hljs-attribute">flex</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">70%</span>;<br>        <span class="hljs-attribute">flex</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">70%</span>;<br>        <span class="hljs-attribute">max-width</span>: <span class="hljs-number">70%</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æ–°å¢æœ€è¿‘æ–‡ç« å’Œç›¸å…³æ–‡ç« "><a href="#æ–°å¢æœ€è¿‘æ–‡ç« å’Œç›¸å…³æ–‡ç« " class="headerlink" title="æ–°å¢æœ€è¿‘æ–‡ç« å’Œç›¸å…³æ–‡ç« "></a>æ–°å¢æœ€è¿‘æ–‡ç« å’Œç›¸å…³æ–‡ç« </h3><p>å€Ÿé‰´ <code>archive-list.ejs</code> å’Œ <code>category-list.ejs</code></p><p>ä¿®æ”¹ <code>blog\themes\fluid\layout\_partials\post\sidebar-left.ejs</code>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs ejs">&lt;!-- æ·»åŠ å…¬å‘Šæ æ—¶é’Ÿ --&gt;<br>  &lt;div id=&quot;clockdiv&quot; class=&quot;side_container&quot; style=&quot;margin-right: -1rem; margin-top: 2rem; text-align: center; left: 5rem&quot;&gt;<br>    &lt;canvas id=&quot;dom&quot; width=&quot;150&quot; height=&quot;150&quot;&gt;æ—¶é’Ÿcanvas&lt;/canvas&gt;<br>  &lt;/div&gt;<br>  &lt;script type=&quot;text/javascript&quot; src=&quot;/js/clock.js&quot;&gt;&lt;/script&gt;<br><br>  &lt;aside class=&quot;sidebar&quot; style=&quot;margin-right: -1rem; margin-top: 15px; left: 5rem&quot;&gt;<br>    &lt;div class=&quot;side_container&quot; &gt;<br>      &lt;%- partial(&#x27;_partials/post/toc&#x27;) %&gt;<br>    &lt;/div&gt;<br><br>    &lt;div class=&quot;side_container category-bar&quot; style=&quot;margin-top: 2rem;&quot; &gt;<br>      &lt;p&gt;<br>        &lt;i class=&quot;iconfont icon-list&quot;&gt;&lt;/i&gt;<br>        &lt;a style=&quot;font-weight: 700; font-size: 1.25em; text-indent: 2em; text-align: justify!important;&quot;&gt;ç›¸å…³æ–‡ç«  &lt;/a&gt;<br>      &lt;/p&gt;      <br>      &lt;%- partial(&#x27;_partials/custom/relative-post&#x27;) %&gt;<br>    &lt;/div&gt;  <br><br>    &lt;div class=&quot;side_container category-bar&quot; style=&quot;margin-top: 2rem;&quot; &gt;<br>      &lt;p&gt;<br>        &lt;i class=&quot;iconfont icon-list&quot;&gt;&lt;/i&gt;<br>        &lt;a style=&quot;font-weight: 700; font-size: 1.25em; text-indent: 2em; text-align: justify!important;&quot;&gt;è¿‘æœŸæ–‡ç«  &lt;/a&gt;<br>      &lt;/p&gt;<br>      &lt;div class=&quot;list-group&quot;&gt;<br>        &lt;% site.posts.sort(&#x27;-date&#x27;).slice(0,5).each(function (post) &#123; %&gt;<br>          &lt;a href=&quot;&lt;%= url_for(post.path) %&gt;&quot; class=&quot;list-group-item list-group-item-action&quot;&gt;<br>            &lt;time style=&quot;flex: 0 0 3.5rem;&quot;&gt;&lt;%= date(post.date, &quot;MM-DD&quot;) %&gt;&lt;/time&gt;<br>            &lt;div class=&quot;list-group-item-title&quot;&gt;&lt;%= post.title %&gt;&lt;/div&gt;<br>          &lt;/a&gt;<br>        &lt;% &#125;) %&gt;<br>      &lt;/div&gt;<br>    &lt;/div&gt;<br>  &lt;/aside&gt;<br></code></pre></td></tr></table></figure><p>æ–°å¢ <code>blog\themes\fluid\layout\_partials\custom\relative-post.ejs</code>ï¼Œè·å–åŒå­åˆ†ç±»</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs ejs">&lt;%<br>var parent = page.categories.filter(c =&gt; c)<br>if(parent[&quot;length&quot;] &gt; 1)&#123;<br>    parent = page.categories.filter(c =&gt; c.parent)<br>&#125;<br><br>var filterIds = page.categories.map(c =&gt; c._id)<br>filterIds.push(page._id)<br>%&gt;<br><br>&lt;%- partial(&#x27;_partials/custom/relative-post-list&#x27;, &#123;<br>    curCats  : parent,<br>    params: &#123;<br>      type     : &#x27;post&#x27;,<br>      filterIds: filterIds,<br>      postLimit: theme.post.category_bar.post_limit,<br>      postOrderBy: theme.post.category_bar.post_order_by || config.index_generator.order_by<br>    &#125;<br>&#125;) %&gt;<br></code></pre></td></tr></table></figure><p>æ–°å¢ <code>blog\themes\fluid\layout\_partials\custom\relative-post-list.ejs</code>ï¼Œè·å–åŒå­åˆ†ç±»æ–‡ç« </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs ejs">&lt;% function render_categories(curCats, params = &#123;&#125;, depth = 0) &#123; %&gt;<br>    &lt;% return curCats.each((cat) =&gt; &#123; %&gt;<br>        &lt;% var subCats = site.categories.find(&#123; parent: cat._id &#125;).sort(params.orderBy || &#x27;name&#x27;).filter(cat =&gt; cat.length) %&gt;<br>        &lt;% var collapsed = subCats.length === 0 || depth &gt;= theme.category.collapse_depth %&gt;<br>        &lt;% if ((params.filterIds || []).includes(cat._id)) collapsed = false %&gt;<br>        <br>        &lt;div class=&quot;category-collapse collapse &lt;%= collapsed ? &#x27;&#x27; : &#x27;show&#x27; %&gt;&quot; id=&quot;collapse-&lt;%= md5(cat.name) %&gt;&quot;<br>                role=&quot;tabpanel&quot; aria-labelledby=&quot;heading-&lt;%= md5(cat.name) %&gt;&quot;&gt;<br>            &lt;% var posts = cat.posts.sort(params.postOrderBy || &#x27;-date&#x27;) %&gt;<br>            &lt;%- render_posts(posts, cat, params) %&gt;<br>        &lt;/div&gt;<br>    &lt;% &#125;) %&gt;<br>&lt;% &#125; %&gt;<br>  <br>&lt;% function render_posts(posts, cat, params) &#123; %&gt;<br>&lt;div class=&quot;category-post-list&quot;&gt;<br>    &lt;% var limit = 5 /*params.postLimit*/ %&gt;<br>    &lt;% for (var idx = 0; idx &lt; posts.length; idx++) &#123; %&gt;<br>        &lt;% var post = posts.data[idx] %&gt;<br>        &lt;% if (idx &amp;&amp; limit &amp;&amp; idx &gt;= limit) &#123; %&gt;<br>            &lt;a href=&quot;&lt;%= url_for(cat.path) %&gt;&quot; class=&quot;list-group-item list-group-item-action&quot;&gt;<br>            &lt;span class=&quot;category-post&quot;&gt;&lt;%- __(&#x27;category.more&#x27;) %&gt;&lt;/span&gt;<br>            &lt;/a&gt;<br>            &lt;% break %&gt;<br>        &lt;% &#125; else &#123; %&gt;<br>            &lt;a href=&quot;&lt;%= url_for(post.path) %&gt;&quot; title=&quot;&lt;%= post.title %&gt;&quot;<br>                class=&quot;list-group-item list-group-item-action<br>                &lt;%= (params.filterIds || []).includes(post._id) ? &#x27;active&#x27; : &#x27;&#x27;  %&gt;&quot;&gt;<br>            &lt;span class=&quot;category-post&quot; style=&quot;white-space: nowrap; overflow: hidden; text-overflow: ellipsis;&quot;&gt;&lt;%= post.title %&gt;&lt;/span&gt;<br>            &lt;/a&gt;<br>        &lt;% &#125; %&gt;<br>    &lt;% &#125; %&gt;<br>&lt;/div&gt;<br>&lt;% &#125; %&gt;<br>  <br>&lt;div class=&quot;category-list&quot;&gt;<br>&lt;%- render_categories(curCats, params) %&gt;<br>&lt;/div&gt;<br><br>&lt;% function shuffleArray(array) &#123;<br>    for (let i = array.length - 1; i &gt; 0; i--) &#123;<br>      const j = Math.floor(Math.random() * (i + 1));<br>      [array[i], array[j]] = [array[j], array[i]];<br>    &#125;<br>    return array;<br>  &#125; %&gt;<br></code></pre></td></tr></table></figure><p>ä¾§æ å·¦å³ç¿»é¡µï¼Œå‚è€ƒ<a href="https://bambrow.com/20200726-hexo-blog-toggles/">Hexo é™æ€åšå®¢æ·»åŠ å¯æŠ˜å å†…å®¹ | Bambrowâ€™s Blog</a></p><h3 id="åŠ¨æ€æ ‡ç­¾æ "><a href="#åŠ¨æ€æ ‡ç­¾æ " class="headerlink" title="åŠ¨æ€æ ‡ç­¾æ "></a>åŠ¨æ€æ ‡ç­¾æ </h3><p>hexo cloud tag</p><p>æ ‡ç­¾äº‘</p><p><a href="https://github.com/D0n9X1n/hexo-tag-cloud">https://github.com/D0n9X1n/hexo-tag-cloud</a></p>]]></content>
      
      
      <categories>
          
          <category> ç›¸å…³æ•™ç¨‹ </category>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Fluid </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åšå®¢ç¾åŒ–ç¯‡ï¼ˆä¸‰ï¼‰ï¼šåˆçº§ä¸»é¢˜é­”æ”¹</title>
      <link href="/posts/5a79.html"/>
      <url>/posts/5a79.html</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€é¡µé¢åŠ è½½åŠ¨ç”»"><a href="#ä¸€ã€é¡µé¢åŠ è½½åŠ¨ç”»" class="headerlink" title="ä¸€ã€é¡µé¢åŠ è½½åŠ¨ç”»"></a>ä¸€ã€é¡µé¢åŠ è½½åŠ¨ç”»</h2><blockquote><p><a href="https://blog.kevinchu.top/2023/07/17/hexo-theme-fluid-modify/">ğŸ”—Hexoåšå®¢Fluidä¸»é¢˜é­”æ”¹è®°å½• - KEVINâ€™S BLOG (kevinchu.top)</a></p></blockquote><h3 id="1-åŸºç¡€é…ç½®æ­¥éª¤"><a href="#1-åŸºç¡€é…ç½®æ­¥éª¤" class="headerlink" title="1. åŸºç¡€é…ç½®æ­¥éª¤"></a>1. åŸºç¡€é…ç½®æ­¥éª¤</h3><ol><li>åˆ›å»º<code>loading.ejs</code>æ–‡ä»¶äº<code>themes\fluid\layout\_partials\</code></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><code class="hljs ejs">&lt;%<br>    play_time=theme.loading.play_time || 500<br>%&gt;<br><br>&lt;style type=&quot;text/css&quot;&gt;<br>    @keyframes spin3D &#123;<br>        from &#123;<br>            transform: rotate3d(0.5, 0.5, 0.5, 360deg);<br>        &#125;<br><br>        to &#123;<br>            transform: rotate3d(0deg);<br>        &#125;<br>    &#125;<br><br>    #loading &#123;<br>        height: 100%;<br>        background-color: #172d4781;<br>        backdrop-filter: saturate(100%) blur(10px);<br>        display: flex;<br>        justify-content: center;<br>        align-items: center;<br>        position: fixed;<br>        top: 0;<br>        left: 0;<br>        right: 0;<br>        overflow: hidden;<br>        z-index: 99999999;<br>    &#125;<br><br>    .spinner-box &#123;<br>        width: 300px;<br>        height: 300px;<br>        display: flex;<br>        justify-content: center;<br>        align-items: center;<br>        background-color: transparent;<br>    &#125;<br><br>    .leo &#123;<br>        position: absolute;<br>        display: flex;<br>        justify-content: center;<br>        align-items: center;<br>        border-radius: 50%;<br>    &#125;<br><br>    .blue-orbit &#123;<br>        width: 175px;<br>        height: 175px;<br>        border: 2px solid #1a91fa;<br>        animation: spin3D 3s linear .2s infinite;<br>    &#125;<br><br>    .green-orbit &#123;<br>        width: 135px;<br>        height: 135px;<br>        border: 2px solid #00ffdd;<br>        animation: spin3D 2s linear 0s infinite;<br>    &#125;<br><br>    .red-orbit &#123;<br>        width: 100px;<br>        height: 100px;<br>        border: 2px solid #d75151;<br>        animation: spin3D 1s linear 0s infinite;<br>    &#125;<br><br>    .white-orbit-a &#123;<br>        width: 70px;<br>        height: 70px;<br>        border: 1px solid #faf5f5;<br>        animation: spin3D 3s linear 0s infinite;<br>    &#125;<br><br>    .white-orbit-b &#123;<br>        width: 70px;<br>        height: 70px;<br>        border: 1px solid #faf5f5;<br>        animation: spin3D 1.5s linear 0s infinite;<br>    &#125;<br><br>    .nucleus &#123;<br>        width: 1px;<br>        height: 1px;<br>        border: 1px solid #ffffff;<br>        animation: spin3D 1s linear 0s infinite;<br>    &#125;<br>&lt;/style&gt;<br><br>&lt;div id=&quot;loading&quot;&gt;<br>    &lt;div class=&quot;spinner-box&quot;&gt;<br>        &lt;div class=&quot;blue-orbit leo&quot;&gt;&lt;/div&gt;<br>        &lt;div class=&quot;green-orbit leo&quot;&gt;&lt;/div&gt;<br>        &lt;div class=&quot;red-orbit leo&quot;&gt;&lt;/div&gt;<br>        &lt;div class=&quot;white-orbit-a leo&quot;&gt;&lt;/div&gt;<br>        &lt;div class=&quot;white-orbit-b leo&quot;&gt;&lt;/div&gt;<br>        &lt;div class=&quot;nucleus leo&quot;&gt;&lt;/div&gt;<br>    &lt;/div&gt;<br>&lt;/div&gt;<br><br>&lt;script&gt;<br>    (function () &#123;<br>        const loaded = function () &#123;<br>            window.onload = function () &#123;<br>                const loader = document.getElementById(&quot;loading&quot;);<br>                loader.className = &quot;fadeout&quot;;<br>                setTimeout(function () &#123;<br>                    loader.style.display = &quot;none&quot;;<br>                &#125;, <br>                &lt;%- play_time %&gt;<br>                );<br>            &#125;<br>        &#125;;<br>        loaded();<br>    &#125;)();<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><ol start="2"><li>åœ¨<code>layout.ejs</code>çš„<code>&lt;body&gt;</code>æ ‡ç­¾å†…é¦–è¡Œæ’å…¥ï¼š</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ejs">&lt;% if (theme.loading.enable) &#123; %&gt;<br>  &lt;%- partial(&#x27;_partials/loading.ejs&#x27;) %&gt;<br>&lt;% &#125; %&gt;<br></code></pre></td></tr></table></figure><h3 id="2-åŠ¨ç”»æ§åˆ¶è„šæœ¬"><a href="#2-åŠ¨ç”»æ§åˆ¶è„šæœ¬" class="headerlink" title="2. åŠ¨ç”»æ§åˆ¶è„šæœ¬"></a>2. åŠ¨ç”»æ§åˆ¶è„šæœ¬</h3><p>å¢åŠ è¶…è¿‡1sç§»é™¤åŠŸèƒ½ï¼Œéœ€æ”¾äºè¾ƒå‰ä½ç½®åŠ è½½ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//ç§»é™¤åŠ è½½åŠ¨ç”»</span><br><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;loading&#x27;</span>).<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">&#x27;none&#x27;</span>;<br>&#125;, <span class="hljs-number">1000</span>);<br></code></pre></td></tr></table></figure><h3 id="3-ä¸»é¢˜é…ç½®é¡¹"><a href="#3-ä¸»é¢˜é…ç½®é¡¹" class="headerlink" title="3. ä¸»é¢˜é…ç½®é¡¹"></a>3. ä¸»é¢˜é…ç½®é¡¹</h3><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.fluid.yml</code>ï¼Œæ·»åŠ loadingåŠ¨ç”»çš„é…ç½®é¡¹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># åŠ è½½åŠ¨ç”»</span><br><span class="hljs-attr">loading:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-comment"># åŠ¨ç”»æ—¶é•¿ï¼Œä»åŠ¨ç”»å¼€å§‹æ’­æ”¾è®¡ç®—ï¼Œä¸åŒ…å«é¡µé¢åŠ è½½æ—¶é—´ï¼Œå•ä½ms</span><br>  <span class="hljs-attr">play_time:</span> <span class="hljs-number">500</span><br></code></pre></td></tr></table></figure><h2 id="äºŒã€å…¨å±èƒŒæ™¯æ–¹æ¡ˆ"><a href="#äºŒã€å…¨å±èƒŒæ™¯æ–¹æ¡ˆ" class="headerlink" title="äºŒã€å…¨å±èƒŒæ™¯æ–¹æ¡ˆ"></a>äºŒã€å…¨å±èƒŒæ™¯æ–¹æ¡ˆ</h2><h3 id="1-å…¨å±èƒŒæ™¯å›ºå®šæ–¹æ¡ˆ"><a href="#1-å…¨å±èƒŒæ™¯å›ºå®šæ–¹æ¡ˆ" class="headerlink" title="1. å…¨å±èƒŒæ™¯å›ºå®šæ–¹æ¡ˆ"></a>1. å…¨å±èƒŒæ™¯å›ºå®šæ–¹æ¡ˆ</h3><p>å…¨å±èƒŒæ™¯ï¼š<a href="https://qingshaner.com/Hexo%20Fluid%E4%B8%BB%E9%A2%98%E8%83%8C%E6%99%AF%E5%9B%BA%E5%AE%9A(ES6%E6%94%B9%E5%86%99%E7%89%88)%E4%B8%8E%E6%AF%9B%E7%8E%BB%E7%92%83%E5%BA%95%E9%A1%B5/">æ˜¥è‰æ˜å¹´ç»¿ğŸ’”ç‹å­™å½’ä¸å½’ (qingshaner.com)</a></p><ol><li>åˆ›å»º<code>injector.js</code>ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> &#123; <span class="hljs-attr">root</span>: siteRoot = <span class="hljs-string">&quot;/&quot;</span> &#125; = hexo.<span class="hljs-property">config</span>;<br><span class="hljs-comment">//æ’å…¥èƒŒæ™¯å›¾ç‰‡å®¹å™¨</span><br>hexo.<span class="hljs-property">extend</span>.<span class="hljs-property">injector</span>.<span class="hljs-title function_">register</span>(<span class="hljs-string">&quot;body_begin&quot;</span>, <span class="hljs-string">`&lt;div id=&quot;web_bg&quot;&gt;&lt;/div&gt;`</span>);<br><span class="hljs-comment">//æ’å…¥èƒŒæ™¯å›¾ç‰‡jsï¼Œåœ¨åŠ è½½å®Œæˆä¿®æ”¹å…¨å±ï¼Œåç»­å·²ç»æ”¹æˆcssæ ·å¼</span><br>hexo.<span class="hljs-property">extend</span>.<span class="hljs-property">injector</span>.<span class="hljs-title function_">register</span>(<span class="hljs-string">&quot;body_end&quot;</span>,<span class="hljs-string">`&lt;script src=&quot;<span class="hljs-subst">$&#123;siteRoot&#125;</span>js/backgroundize.js&quot;&gt;&lt;/script&gt;`</span>);<br></code></pre></td></tr></table></figure><ol start="2"><li>èƒŒæ™¯æ§åˆ¶è„šæœ¬<code>backgroundize.js</code>ï¼š</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">document</span><br>  .<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;#web_bg&#x27;</span>)<br>  .<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;style&#x27;</span>, <span class="hljs-string">`background-image: <span class="hljs-subst">$&#123;<span class="hljs-variable language_">document</span>.querySelector(<span class="hljs-string">&#x27;.banner&#x27;</span>).style.background.split(<span class="hljs-string">&#x27; &#x27;</span>)[<span class="hljs-number">0</span>]&#125;</span>;position: fixed;width: 100%;height: 100%;z-index: -1;background-size: cover;`</span>);<br><br><span class="hljs-comment">//éšè—åŸæ¥çš„banner</span><br><span class="hljs-variable language_">document</span><br>  .<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#banner&quot;</span>)<br>  .<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;style&#x27;</span>, <span class="hljs-string">&#x27;background-image: url()&#x27;</span>)<br><br><span class="hljs-variable language_">document</span><br>  .<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#banner .mask&quot;</span>)<br>  .<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;style&#x27;</span>, <span class="hljs-string">&#x27;background-color:rgba(0,0,0,0)&#x27;</span>)<br></code></pre></td></tr></table></figure><h3 id="2-æ¯›ç»ç’ƒæ•ˆæœ"><a href="#2-æ¯›ç»ç’ƒæ•ˆæœ" class="headerlink" title="2. æ¯›ç»ç’ƒæ•ˆæœ"></a>2. æ¯›ç»ç’ƒæ•ˆæœ</h3><ol><li>é€æ˜èƒŒæ™¯</li></ol><p><code>_config.fluid.yml</code>ä¿®æ”¹èƒŒæ™¯è‰²ä¸ºé€æ˜</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># ä¸»é¢æ¿èƒŒæ™¯è‰²</span><br><span class="hljs-comment"># Color of main board</span><br><span class="hljs-attr">board_color:</span> <span class="hljs-string">&quot;#ffffff80&quot;</span><br><span class="hljs-attr">board_color_dark:</span> <span class="hljs-string">&quot;#00000080&quot;</span><br></code></pre></td></tr></table></figure><p>2.æ¯›ç»ç’ƒæ»¤é•œ</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css">css`æ–‡ä»¶å¤¹æ–°å»º`cloudedGlass<span class="hljs-selector-class">.css</span><br><span class="hljs-selector-id">#board</span> &#123;<br>  -webkit-backdrop-<span class="hljs-attribute">filter</span>: <span class="hljs-built_in">blur</span>(<span class="hljs-number">5px</span>);<br>  backdrop-<span class="hljs-attribute">filter</span>: <span class="hljs-built_in">blur</span>(<span class="hljs-number">5px</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>3.å¼•å…¥css<br><code>_config.fluid.yml</code>å¼•å…¥</p><figure class="highlight nestedtext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs nestedtext"><span class="hljs-comment"># æŒ‡å®šè‡ªå®šä¹‰ .css æ–‡ä»¶è·¯å¾„ï¼Œç”¨æ³•å’Œ custom_js ç›¸åŒ</span><br><span class="hljs-comment"># The usage is the same as custom_js</span><br><span class="hljs-attribute">custom_css</span><span class="hljs-punctuation">: </span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">/css/cloudedGlass.css</span><br></code></pre></td></tr></table></figure><p><strong>å‚è€ƒé“¾æ¥:</strong></p><p><a href="https://aigisss.com/blog/posts/1563abd8.html">ã€ŠèƒŒæ™¯å›ºå®š (AIGISSS)ã€‹</a></p><p><a href="https://blog.fufu.ink/2023/04/walinedecoration.html">https://blog.fufu.ink/2023/04/walinedecoration.html</a>)</p><h2 id="å¯¼èˆªæ æ ‡é¢˜éœ“è™¹ç¯ç‰¹æ•ˆ"><a href="#å¯¼èˆªæ æ ‡é¢˜éœ“è™¹ç¯ç‰¹æ•ˆ" class="headerlink" title="å¯¼èˆªæ æ ‡é¢˜éœ“è™¹ç¯ç‰¹æ•ˆ"></a>å¯¼èˆªæ æ ‡é¢˜éœ“è™¹ç¯ç‰¹æ•ˆ</h2><p>ä¿®æ”¹<code>themes\fluid\source\css\_pages\_base\_widget\header.styl</code>ï¼Œåœ¨é‡Œé¢è¿½åŠ æ ·å¼(æ³¨æ„ç¼©è¿›)ï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-class">.navbar-title</span><br>  <span class="hljs-attribute">outline</span> none<br>  <span class="hljs-attr">--c</span> lightseagreen<br>  <span class="hljs-attribute">text-shadow</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-built_in">var</span>(--c),<span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">20px</span> <span class="hljs-built_in">var</span>(--c),<span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">40px</span> <span class="hljs-built_in">var</span>(--c),<span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">80px</span> <span class="hljs-built_in">var</span>(--c),<span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">160px</span> <span class="hljs-built_in">var</span>(--c)<br>  <span class="hljs-attribute">animation</span> animate <span class="hljs-number">5s</span> linear infinite<br><br><span class="hljs-keyword">@keyframes</span> animate&#123;<br>  to&#123;<br>      <span class="hljs-attribute">filter</span>: <span class="hljs-built_in">hue-rotate</span>(<span class="hljs-number">360deg</span>)<br>  &#125;<br>&#125;  <br></code></pre></td></tr></table></figure><p>ç„¶åä¿®æ”¹<code>themes\fluid\layout\_partials\header\navigation.ejs</code>ï¼Œ<br>æ‰¾åˆ°å¯¹åº”å¯¼èˆªæ æ ‡é¢˜çš„æ ‡ç­¾å†…å®¹ï¼š<br><code>&lt;strong&gt;&lt;%= theme.navbar.blog_title || config.title %&gt;&lt;/strong&gt;</code><br>ç»™å…¶æ·»åŠ ä¸Šclasså±æ€§ï¼Œä¿®æ”¹ä¸ºï¼š<br><code>&lt;strong class=&quot;navbar-title&quot;&gt;&lt;%= theme.navbar.blog_title || config.title %&gt;&lt;/strong&gt;</code></p>]]></content>
      
      
      <categories>
          
          <category> ç›¸å…³æ•™ç¨‹ </category>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Fluid </tag>
            
            <tag> ä¸»é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åšå®¢ç¾åŒ–ç¯‡ï¼ˆäºŒï¼‰ï¼šå®ç”¨åŠŸèƒ½ç»„ä»¶</title>
      <link href="/posts/5a78.html"/>
      <url>/posts/5a78.html</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€èŒèŒå“’çœ‹æ¿å¨˜"><a href="#ä¸€ã€èŒèŒå“’çœ‹æ¿å¨˜" class="headerlink" title="ä¸€ã€èŒèŒå“’çœ‹æ¿å¨˜"></a>ä¸€ã€èŒèŒå“’çœ‹æ¿å¨˜</h2><h3 id="1-å®‰è£…æ­¥éª¤"><a href="#1-å®‰è£…æ­¥éª¤" class="headerlink" title="1. å®‰è£…æ­¥éª¤"></a>1. å®‰è£…æ­¥éª¤</h3><ol><li><p>ä¸‹è½½<a href="https://github.com/stevenjoezhang/live2d-widget">stevenjoezhang&#x2F;live2d-widget</a></p></li><li><p>è§£å‹åˆ°<code>/source/live2d-widget</code>ç›®å½•</p></li><li><p>ä¿®æ”¹<code>autoload.js</code>ï¼š</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">const live2d_path <span class="hljs-operator">=</span> <span class="hljs-string">&quot;/live2d-widget/&quot;</span><span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure></li></ol><h3 id="2-APIé…ç½®ä¼˜åŒ–"><a href="#2-APIé…ç½®ä¼˜åŒ–" class="headerlink" title="2. APIé…ç½®ä¼˜åŒ–"></a>2. APIé…ç½®ä¼˜åŒ–</h3><p><code>autoload.js</code>ä¸‹çš„ç¬¬34è¡Œæ˜¯å¡«å†™äº†live2dæ¨¡å‹çš„APIï¼Œå¦‚æœä½ åœ¨å›½å†…å¯èƒ½<code>jsdelivr.net</code>CDNä¸ä»…ä¸èƒ½åŠ é€Ÿï¼Œè¿˜ä¼šå‡é€Ÿï¼Œæˆ‘ä»¬æŠŠä»–æ³¨é‡Šæ‰ï¼Œç„¶åä½¿ç”¨fghrshçš„APIæ¥å£ï¼š<a href="https://www.fghrsh.net/post/170.html"><code>live2d.fghrsh.net</code></a>ã€‚æˆ–è€…ä½ æ‹¥æœ‰è‡ªå·±çš„æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥è‡ªå·±æ­å»º<a href="https://github.com/fghrsh/live2d_api">live2d APIé¡¹ç›®</a>ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-title function_ invoke__">initWidget</span>(&#123;<br>  <span class="hljs-attr">waifuPath</span>: live2d_path + <span class="hljs-string">&quot;waifu-tips.json&quot;</span>,<br>  <span class="hljs-attr">apiPath</span>: <span class="hljs-string">&quot;https://live2d.fghrsh.net/api/&quot;</span>,<br>  // <span class="hljs-attr">cdnPath</span>: <span class="hljs-string">&quot;https://cdn.jsdelivr.net/gh/fghrsh/live2d_api/&quot;</span><br>&#125;);<br></code></pre></td></tr></table></figure><h3 id="3-ä¸»é¢˜å¼•å…¥æ–¹å¼"><a href="#3-ä¸»é¢˜å¼•å…¥æ–¹å¼" class="headerlink" title="3. ä¸»é¢˜å¼•å…¥æ–¹å¼"></a>3. ä¸»é¢˜å¼•å…¥æ–¹å¼</h3><p>åœ¨å¸ƒå±€æ–‡ä»¶ä¸­æ·»åŠ ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/live2d-widget/autoload.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å¼•å…¥jQueryå’Œfont-awesomeã€‚ä½ çš„ä¸»é¢˜å¦‚æœé»˜è®¤å¼•å…¥äº†ï¼Œé‚£è¯·ä¸è¦é‡å¤å¼•å…¥ã€‚2020å¹´1æœˆ1æ—¥èµ·ï¼Œè¯¥é¡¹ç›®ä¸å†ä¾èµ–äº jQueryã€‚</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&lt;script <span class="hljs-attribute">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js&quot;</span>&gt;&lt;/script&gt;<br>&lt;link <span class="hljs-attribute">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attribute">href</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css&quot;</span>&gt;<br></code></pre></td></tr></table></figure><div class="note note-info">            <p>æƒ³ä¿®æ”¹çœ‹æ¿å¨˜å¤§å°ã€ä½ç½®ã€æ ¼å¼ã€æ–‡æœ¬å†…å®¹ç­‰ï¼Œå¯æŸ¥çœ‹å¹¶ä¿®æ”¹ waifu-tips.js ã€ waifu-tips.json å’Œ waifu.cssã€‚</p>          </div><h3 id="4-å‚è€ƒæ•™ç¨‹"><a href="#4-å‚è€ƒæ•™ç¨‹" class="headerlink" title="4. å‚è€ƒæ•™ç¨‹"></a>4. å‚è€ƒæ•™ç¨‹</h3><p>é…ç½®åšå®¢ï¼š<a href="https://www.cnblogs.com/cxfs/p/16620809.html">ç»™ä½ çš„hexoæ·»åŠ live2Dçœ‹æ¿å¨˜ - é—å¤±çš„ç¾å¥½ç¬ - åšå®¢å›­ (cnblogs.com)</a></p><p>åŠ å¼ºç‰ˆé¡¹ç›®åœ°å€ï¼š<a href="https://github.com/stevenjoezhang/live2d-widget">stevenjoezhang&#x2F;live2d-widget: æŠŠèŒèŒå“’çš„çœ‹æ¿å¨˜æŠ±å›å®¶ (ãƒâ‰§âˆ‡â‰¦)ãƒ | Live2D widget for web platform (github.com)</a></p><p>çœ‹æ¿å¨˜æ‹–æ‹½åŠŸèƒ½ï¼š <a href="https://github.com/pymastera/live2d-widget/pull/2/files">https://github.com/pymastera/live2d-widget/pull/2/files</a></p><p>çº¯æœ¬åœ°ç‰ˆï¼š<a href="https://blog.csdn.net/qq_57421630/article/details/127162328">ã€live2Dçœ‹æ¿å¨˜ã€‘ä¸ºä½ çš„ç½‘ç«™æ·»åŠ èŒèŒçš„äºŒæ¬¡å…ƒæ¿å¨˜ï¼Œè¿™éƒ½æ‹¿ä¸ä¸‹ä½ ï¼Ÿ-CSDNåšå®¢</a></p><h2 id="äºŒã€éŸ³ä¹æ’­æ”¾å™¨"><a href="#äºŒã€éŸ³ä¹æ’­æ”¾å™¨" class="headerlink" title="äºŒã€éŸ³ä¹æ’­æ”¾å™¨"></a>äºŒã€éŸ³ä¹æ’­æ”¾å™¨</h2><h3 id="1-æ¨èæ–¹æ¡ˆ"><a href="#1-æ¨èæ–¹æ¡ˆ" class="headerlink" title="1. æ¨èæ–¹æ¡ˆ"></a>1. æ¨èæ–¹æ¡ˆ</h3><ul><li><strong>MetingJS</strong>ï¼š<a href="https://github.com/xizeyoupan/MetingJS"><a href="https://github.com/xizeyoupan/MetingJS">xizeyoupan&#x2F;MetingJS: :cake: A powerful plugin connect APlayer and Meting (github.com)</a></a></li><li><strong>éƒ¨ç½²API</strong>ï¼š<a href="https://github.com/imsyy/Meting-API/">imsyy&#x2F;Meting-API: ğŸ³ Meting API çš„å®¹å™¨åŒ–ä¸éƒ¨ç½² (github.com)</a>](<a href="https://github.com/imsyy/Meting-API/">https://github.com/imsyy/Meting-API/</a>)</li><li><strong>ç¾åŒ–è°ƒæ•´</strong>ï¼š<a href="https://blog.saop.cc/p/8dc9/">Butterflyä¸»é¢˜Aplayeræ’­æ”¾å™¨çš„ç¾åŒ–ä¸è°ƒæ•´ | å®šã®æ ˆ (saop.cc)</a></li></ul><h3 id="2-æ˜æœˆæµ©ç©ºæ’­æ”¾å™¨"><a href="#2-æ˜æœˆæµ©ç©ºæ’­æ”¾å™¨" class="headerlink" title="2. æ˜æœˆæµ©ç©ºæ’­æ”¾å™¨"></a>2. æ˜æœˆæµ©ç©ºæ’­æ”¾å™¨</h3><p><a href="https://myhkw.cn/">ğŸµæ˜æœˆæµ©ç©ºç½‘-æ°¸ä¹…å…è´¹çš„HTML5ç½‘ç«™éŸ³ä¹æ’­æ”¾å™¨ (myhkw.cn)</a></p><h3 id="3-è‡ªåŠ¨æ’­æ”¾å¤±æ•ˆé—®é¢˜è§£å†³"><a href="#3-è‡ªåŠ¨æ’­æ”¾å¤±æ•ˆé—®é¢˜è§£å†³" class="headerlink" title="3. è‡ªåŠ¨æ’­æ”¾å¤±æ•ˆé—®é¢˜è§£å†³"></a>3. è‡ªåŠ¨æ’­æ”¾å¤±æ•ˆé—®é¢˜è§£å†³</h3><p>åŸå› ï¼šhexo-neatæ’ä»¶å°† autoplay&#x3D;true å‹ç¼©æˆäº† autoplay</p><p>è®¾ç½®collapseBooleanAttributes &#x3D; false</p><h2 id="ä¸‰ã€å®ç”¨å°åŠŸèƒ½ç»„ä»¶"><a href="#ä¸‰ã€å®ç”¨å°åŠŸèƒ½ç»„ä»¶" class="headerlink" title="ä¸‰ã€å®ç”¨å°åŠŸèƒ½ç»„ä»¶"></a>ä¸‰ã€å®ç”¨å°åŠŸèƒ½ç»„ä»¶</h2><h3 id="1-ä¸€è¨€"><a href="#1-ä¸€è¨€" class="headerlink" title="1. ä¸€è¨€"></a>1. ä¸€è¨€</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://v1.hitokoto.cn/?encode=js&amp;select=%23hitokoto&quot;</span> <span class="hljs-attr">defer</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;hitokoto&quot;</span>&gt;</span>:D è·å–ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="2-æ‚¬æŒ‚çš„å–µ"><a href="#2-æ‚¬æŒ‚çš„å–µ" class="headerlink" title="2. æ‚¬æŒ‚çš„å–µ"></a>2. æ‚¬æŒ‚çš„å–µ</h3><p>å‚è€ƒåšå®¢å›­ï¼š<a href="https://blog.csdn.net/fshool/article/details/104688363">åšå®¢å›­ä½¿ç”¨æ‚¬æŒ‚çŒ«(ä¸ŠåŠçŒ«)ç½®é¡¶æ’ä»¶-CSDNåšå®¢</a>ï¼Œå¯å®ç°å¿«é€Ÿè¿”å›é¡¶éƒ¨çš„åŠŸèƒ½</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- æ‚¬æŒ‚çš„å–µ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/js/szgotop.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/css/szgotop.css&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;back-to-top cd-top faa-float animated cd-is-visible&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;top: -900px;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="3-ç²’å­æ—¶é’Ÿ"><a href="#3-ç²’å­æ—¶é’Ÿ" class="headerlink" title="3. ç²’å­æ—¶é’Ÿ"></a>3. ç²’å­æ—¶é’Ÿ</h3><p><a href="https://www.cnblogs.com/xiaohuochai/p/6368039.html">canvasç²’å­æ—¶é’Ÿ - å°ç«æŸ´çš„è“è‰²ç†æƒ³ - åšå®¢å›­ (cnblogs.com)</a></p><h3 id="4-å¤©æ°”æ¨¡å—"><a href="#4-å¤©æ°”æ¨¡å—" class="headerlink" title="4. å¤©æ°”æ¨¡å—"></a>4. å¤©æ°”æ¨¡å—</h3><p>ä½¿ç”¨<a href="https://www.seniverse.com/">å¿ƒçŸ¥å¤©æ°”</a>æä¾›çš„å…è´¹API</p><h2 id="å››ã€é£æ ¼ä»£ç å—"><a href="#å››ã€é£æ ¼ä»£ç å—" class="headerlink" title="å››ã€é£æ ¼ä»£ç å—"></a>å››ã€é£æ ¼ä»£ç å—</h2><h3 id="è¡Œå†…ä»£ç é¢œè‰²"><a href="#è¡Œå†…ä»£ç é¢œè‰²" class="headerlink" title="è¡Œå†…ä»£ç é¢œè‰²"></a>è¡Œå†…ä»£ç é¢œè‰²</h3><p>é»˜è®¤çš„è¡Œå†…ä»£ç é¢œè‰²å’Œæ­£æ–‡é¢œè‰²æ˜¯ç»§æ‰¿å…³ç³»ï¼Œä¸”è¡Œå†…ä»£ç èƒŒæ™¯è‰²ä¹Ÿä¸æ˜æ˜¾ï¼Œå› æ­¤è§†è§‰ä¸Šéš¾ä»¥åŒºåˆ†ã€‚ä½†æ˜¯é…ç½®æ–‡ä»¶ä¸­åˆæ²¡æœ‰å¯¹åº”é€‰é¡¹å¯ä»¥ä¿®æ”¹ï¼ŒæŸ¥é˜… GitHub çš„ Issue å‘ç°ï¼Œæœ‰äººæ›¾æä¾›è¿‡ä¸€ä¸ªè§£å†³æ–¹æ¡ˆã€‚</p><p>æ‰“å¼€è·¯å¾„ <code>hewei2001/themes/fluid/source/css/_pages/_base</code> ä¸‹çš„ <code>base.styl</code> æ–‡ä»¶ï¼Œæ‰¾åˆ° <code>code</code> é…ç½®é¡¹ï¼Œä¿®æ”¹é¢œè‰²ä¸º <code>#E05B35</code>ã€‚</p><h3 id="Macé£æ ¼ä»£ç å—"><a href="#Macé£æ ¼ä»£ç å—" class="headerlink" title="Macé£æ ¼ä»£ç å—"></a>Macé£æ ¼ä»£ç å—</h3><p>åœ¨ä¸»é¢˜æ–‡ä»¶<code>\source\css</code>ç›®å½•ä¸‹æ–°å»ºæ ·å¼æ–‡ä»¶ï¼Œå¦‚<code>macpanel.styl</code>ï¼Œå†…å®¹å‚è€ƒï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-class">.highlight</span><br>    <span class="hljs-attribute">background</span>: <span class="hljs-number">#21252b</span><br>    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span><br>    <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-number">30px</span> <span class="hljs-number">0</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, .<span class="hljs-number">4</span>)<br>    <span class="hljs-attribute">padding-top</span>: <span class="hljs-number">30px</span><br><br>    <span class="hljs-selector-pseudo">&amp;::before</span><br>      <span class="hljs-attribute">background</span>: <span class="hljs-number">#fc625d</span><br>      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span><br>      <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">20px</span> <span class="hljs-number">0</span> <span class="hljs-number">#fdbc40</span>, <span class="hljs-number">40px</span> <span class="hljs-number">0</span> <span class="hljs-number">#35cd4b</span><br>      <span class="hljs-attribute">content</span>: <span class="hljs-string">&#x27; &#x27;</span><br>      <span class="hljs-attribute">height</span>: <span class="hljs-number">12px</span><br>      <span class="hljs-attribute">left</span>: <span class="hljs-number">12px</span><br>      <span class="hljs-attribute">margin-top</span>: -<span class="hljs-number">20px</span><br>      <span class="hljs-attribute">position</span>: absolute<br>      <span class="hljs-attribute">width</span>: <span class="hljs-number">12px</span><br></code></pre></td></tr></table></figure><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.fluid.yml</code>ï¼Œæ‰¾åˆ°<code>custom_css</code>é…ç½®é¡¹ï¼Œå¼•å…¥åˆšåˆšæ–°å»ºçš„æ ·å¼æ–‡ä»¶ï¼ˆæ­¤å¤„å¼•å…¥<code>.styl</code>æ–‡ä»¶æ— éœ€åŠ åç¼€ï¼‰ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">custom_css:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">/css/macpanel</span><br></code></pre></td></tr></table></figure><p>ç»§ç»­ä¿®æ”¹<code>_config.fluid.yml</code>ï¼Œæ‰¾åˆ°<code>code.highlightjs</code>é…ç½®é¡¹ï¼Œå°†ä»£ç é«˜äº®é£æ ¼ä¿®æ”¹æš—è‰²é£æ ¼ï¼ˆdarkç³»åˆ—ï¼‰ï¼Œå¦‚ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">highlightjs:</span><br>  <span class="hljs-comment"># åœ¨é“¾æ¥ä¸­æŒ‘é€‰ style å¡«å…¥</span><br>  <span class="hljs-comment"># Select a style in the link</span><br>  <span class="hljs-comment"># See: https://highlightjs.org/static/demo/</span><br>  <span class="hljs-attr">style:</span> <span class="hljs-string">&quot;github dark dimmed&quot;</span><br>  <span class="hljs-attr">style_dark:</span> <span class="hljs-string">&quot;dark&quot;</span><br></code></pre></td></tr></table></figure><blockquote><p>æ³¨ï¼šå¦‚æœé€‰ç”¨å…¶ä»–ä»£ç é«˜äº®é£æ ¼ï¼Œæœ‰å¯èƒ½ä¼šé€ æˆä»£ç èƒŒæ™¯æ˜¯åç™½è‰²çš„ï¼Œä¸é»‘è‰²çš„Macæ ä¸æ­ã€‚</p></blockquote><h2 id="äº”ã€AIæ‘˜è¦"><a href="#äº”ã€AIæ‘˜è¦" class="headerlink" title="äº”ã€AIæ‘˜è¦"></a>äº”ã€AIæ‘˜è¦</h2><p>å‚è€ƒæ•™ç¨‹</p><p><a href="https://mabbs.github.io/2024/07/03/ai-summary.html">ä½¿ç”¨Cloudflare Workersåˆ¶ä½œåšå®¢AIæ‘˜è¦ | Mayxçš„åšå®¢ (mabbs.github.io)</a></p><p><a href="https://github.com/FloatSheep/Qwen-Post-Summary">https://github.com/FloatSheep/Qwen-Post-Summary</a></p><p>æ–‡ç« é¡µé¢ä¸­æ·»åŠ </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;note note-primary&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>AIæ‘˜è¦ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;ai-output&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: justify&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="å…­ã€è¯„è®ºç³»ç»Ÿ"><a href="#å…­ã€è¯„è®ºç³»ç»Ÿ" class="headerlink" title="å…­ã€è¯„è®ºç³»ç»Ÿ"></a>å…­ã€è¯„è®ºç³»ç»Ÿ</h2><p>å‚è€ƒFluidä¸»é¢˜æ•™ç¨‹é…ç½®</p><h3 id="Walineè¯„è®ºç³»ç»Ÿç¾åŒ–"><a href="#Walineè¯„è®ºç³»ç»Ÿç¾åŒ–" class="headerlink" title="Walineè¯„è®ºç³»ç»Ÿç¾åŒ–"></a>Walineè¯„è®ºç³»ç»Ÿç¾åŒ–</h3><ul><li>è´´å›¾åŠŸèƒ½å®ç°</li><li>è‡ªå®šä¹‰æ ·å¼å‚è€ƒï¼š<br><a href="https://blog.fufu.ink/2023/04/walinedecoration.html">Walineç¾åŒ–æ•™ç¨‹</a></li></ul><blockquote><p>æç¤ºï¼šæ‰€æœ‰è‡ªå®šä¹‰æ ·å¼å»ºè®®é€šè¿‡ä¸»é¢˜çš„<code>_config.yml</code>ä¸­çš„<code>custom_css</code>é…ç½®é¡¹å¼•å…¥ï¼Œé¿å…ç›´æ¥ä¿®æ”¹ä¸»é¢˜æºæ–‡ä»¶ã€‚<a href="https://blog.fufu.ink/2023/04/walinedecoration.html">https://blog.fufu.ink/2023/04/walinedecoration.html</a>)</p></blockquote><h3 id="walineè¯„è®ºå’Œleancloudè®¡æ•°é—®é¢˜"><a href="#walineè¯„è®ºå’Œleancloudè®¡æ•°é—®é¢˜" class="headerlink" title="walineè¯„è®ºå’Œleancloudè®¡æ•°é—®é¢˜"></a>walineè¯„è®ºå’Œleancloudè®¡æ•°é—®é¢˜</h3><p>åŸå› ï¼šä¸åŒé™æ€é¡µé¢æ‰˜ç®¡å¹³å°å¯¹htmlåç¼€å¤„ç†ä¸ç»Ÿä¸€ï¼Œå¯¼è‡´åŒä¸€é¡µé¢walineçš„Pathå‚æ•°ä¸ä¸€è‡´</p><p>ä¿®æ”¹waline.ejsä¸­<code>waline.init()</code>ä¸­çš„Pathä¸ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getPath</span>(<span class="hljs-params">path</span>)&#123;<br>    <span class="hljs-keyword">if</span>(path.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">&quot;/index.html&quot;</span>))&#123;<br>        <span class="hljs-keyword">return</span> path.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>,-<span class="hljs-number">10</span>);<br>    &#125;<br>    <span class="hljs-keyword">if</span>(path.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">&quot;.html&quot;</span>))&#123;<br>        <span class="hljs-keyword">return</span> path.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>,-<span class="hljs-number">5</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> path;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ä¸ƒã€é¡µè„šä¿¡æ¯"><a href="#ä¸ƒã€é¡µè„šä¿¡æ¯" class="headerlink" title="ä¸ƒã€é¡µè„šä¿¡æ¯"></a>ä¸ƒã€é¡µè„šä¿¡æ¯</h2><h3 id="1-ç½‘ç«™è¿è¡Œæ—¶é—´"><a href="#1-ç½‘ç«™è¿è¡Œæ—¶é—´" class="headerlink" title="1. ç½‘ç«™è¿è¡Œæ—¶é—´"></a>1. ç½‘ç«™è¿è¡Œæ—¶é—´</h3><p>åœ¨é¡µè„šæ·»åŠ ç½‘ç«™è¿è¡Œæ—¶é—´ç»Ÿè®¡</p><h3 id="2-èŒå›½å¤‡æ¡ˆ"><a href="#2-èŒå›½å¤‡æ¡ˆ" class="headerlink" title="2. èŒå›½å¤‡æ¡ˆ"></a>2. èŒå›½å¤‡æ¡ˆ</h3><p><a href="https://moe.one/thread-433.htm">èŒICPå¤‡æ¡ˆæŒ‡å—</a><br>å›¾æ ‡åŒ…ä¸‹è½½ï¼š<a href="https://icp.gov.moe/moe-icon.zip">moe-icon.zip</a><a href="https://icp.gov.moe/?keyword=20240658">https://icp.gov.moe/?keyword=20240658</a>)</p>]]></content>
      
      
      <categories>
          
          <category> ç›¸å…³æ•™ç¨‹ </category>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Fluid </tag>
            
            <tag> ä¸»é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åšå®¢ç¾åŒ–ç¯‡ï¼ˆä¸€ï¼‰ï¼šç®€å•JSä¸CSSå¼•å…¥</title>
      <link href="/posts/5a77.html"/>
      <url>/posts/5a77.html</url>
      
        <content type="html"><![CDATA[<h2 id="Hexoå¼•å…¥è‡ªå®šä¹‰HTMLï¼ŒJSï¼ŒCSS"><a href="#Hexoå¼•å…¥è‡ªå®šä¹‰HTMLï¼ŒJSï¼ŒCSS" class="headerlink" title="Hexoå¼•å…¥è‡ªå®šä¹‰HTMLï¼ŒJSï¼ŒCSS"></a>Hexoå¼•å…¥è‡ªå®šä¹‰HTMLï¼ŒJSï¼ŒCSS</h2><h3 id="ä½¿ç”¨Injectoræ³¨å…¥å™¨ï¼ˆæ¨èï¼‰"><a href="#ä½¿ç”¨Injectoræ³¨å…¥å™¨ï¼ˆæ¨èï¼‰" class="headerlink" title="ä½¿ç”¨Injectoræ³¨å…¥å™¨ï¼ˆæ¨èï¼‰"></a>ä½¿ç”¨Injectoræ³¨å…¥å™¨ï¼ˆæ¨èï¼‰</h3><p>åœ¨åšå®¢æ ¹ç›®å½•<code>scripts</code>æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä»»æ„åç§°çš„jsæ–‡ä»¶ï¼š</p><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xquery">hexo.extend.injector.register(<span class="hljs-string">&#x27;body_end&#x27;</span>, <br>`<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/js/custom.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>`, <br><span class="hljs-string">&#x27;default&#x27;</span>);<br></code></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>body_end</code>ï¼šæ³¨å…¥ä½ç½®ï¼ˆå¯æ›¿æ¢ä¸º<code>head_end</code>ç­‰ï¼‰</li><li>&#96;&#96;ï¼šæ³¨å…¥å†…å®¹</li><li><code>default</code>ï¼šä½œç”¨èŒƒå›´ï¼ˆå…¨å±€ï¼‰</li></ul><p><a href="https://hexo.io/zh-cn/api/injector">å®˜æ–¹Injectoræ–‡æ¡£å‚è€ƒ</a></p><h3 id="ä½¿ç”¨css-jså¼•å…¥çš„æ–¹æ³•"><a href="#ä½¿ç”¨css-jså¼•å…¥çš„æ–¹æ³•" class="headerlink" title="ä½¿ç”¨css&#x2F;jså¼•å…¥çš„æ–¹æ³•"></a>ä½¿ç”¨css&#x2F;jså¼•å…¥çš„æ–¹æ³•</h3><p>åœ¨<code>/source/assets/js/</code>æ–‡ä»¶å¤¹ä¸‹æ–°å»ºjsæ–‡ä»¶ï¼Œå†™å…¥ç›¸åº”ä»£ç å†…å®¹ã€‚é…ç½®å¥½ä»£ç æ–‡ä»¶åæ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶_config.ymlæ‰¾åˆ°â€custom_jsâ€å’Œâ€custom_cssâ€ä¸‹é¢è¿›è¡Œå¼•å…¥ã€‚</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs awk">custom_js:<br>  - <span class="hljs-regexp">/assets/</span>js/custom.js<br>  - https:<span class="hljs-regexp">//</span>cdn.jsdelivr.net<span class="hljs-regexp">/npm/</span>aplayer<span class="hljs-regexp">/dist/</span>APlayer.min.js  <span class="hljs-comment">#å¼•å…¥å¤–éƒ¨js</span><br>custom_css:<br>  - <span class="hljs-regexp">/assets/</span>css/custom.css<br></code></pre></td></tr></table></figure><h2 id="å¸¸ç”¨ç‰¹æ•ˆèµ„æº"><a href="#å¸¸ç”¨ç‰¹æ•ˆèµ„æº" class="headerlink" title="å¸¸ç”¨ç‰¹æ•ˆèµ„æº"></a>å¸¸ç”¨ç‰¹æ•ˆèµ„æº</h2><h3 id="JSç‰¹æ•ˆ"><a href="#JSç‰¹æ•ˆ" class="headerlink" title="JSç‰¹æ•ˆ"></a>JSç‰¹æ•ˆ</h3><div class="note note-info">            <p>å»ºè®®æ·»åŠ deferå±æ€§ï¼Œdeferå¯ä»¥å®ç°å»¶è¿Ÿæ‰§è¡Œè„šæœ¬ï¼Œä¸‹è½½åˆ™ä¸ä¼šè¢«é˜»å¡ã€‚å¯é˜²æ­¢<strong>é˜»å¡HTM çš„DOMæ„å»º</strong></p><p><code>&lt;script defer src=&quot;app.js&quot;&gt;&lt;/script&gt;</code></p>          </div><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs awk">æ¨±èŠ±ç‰¹æ•ˆï¼šhttps:<span class="hljs-regexp">//</span>cdn.jsdelivr.net<span class="hljs-regexp">/gh/</span>Ukenn2112<span class="hljs-regexp">/UkennWeb@3.0/i</span>ndex/web.js<br>é¼ æ ‡ç§»åŠ¨å°æ˜Ÿæ˜Ÿç‰¹æ•ˆï¼šhttps:<span class="hljs-regexp">//</span>static.kevinchu.top<span class="hljs-regexp">/blog/</span>assets<span class="hljs-regexp">/js/</span>stars.js<br>ç¤¼èŠ±æ‰“å­—ç‰¹æ•ˆï¼šhttps:<span class="hljs-regexp">//</span>static.kevinchu.top<span class="hljs-regexp">/blog/</span>assets<span class="hljs-regexp">/js/</span>typing-effect.js<br>å°é›ªèŠ±é£˜è½æ•ˆæœï¼šhttps:<span class="hljs-regexp">//</span>cdn.jsdelivr.net<span class="hljs-regexp">/gh/</span>EmoryHuang<span class="hljs-regexp">/BlogBeautify@1.1/</span>snowflake.min.js<br>é¼ æ ‡ç‚¹å‡»å‡ºå­—ï¼ˆdeferï¼‰ï¼šhttps:<span class="hljs-regexp">//</span>cdn.jsdelivr.net<span class="hljs-regexp">/gh/</span>EmoryHuang<span class="hljs-regexp">/BlogBeautify@1.1/</span>containsWord.min.js<br>é¼ æ ‡ç‚¹å‡»çˆ±å¿ƒï¼ˆdeferï¼‰ï¼šhttps:<span class="hljs-regexp">//</span>cdn.jsdelivr.net<span class="hljs-regexp">/gh/</span>EmoryHuang<span class="hljs-regexp">/BlogBeautify@1.1/</span>love.min.js <br></code></pre></td></tr></table></figure><p>æ›´å¤šç‰¹æ•ˆå‚è€ƒï¼š<a href="https://chen320.github.io/2022/07/14/Hexo-Fluid%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96/">Hexo-Fluidåšå®¢ä¸»é¢˜ç¾åŒ– - Chenâ€™s Blog (chen320.github.io)</a></p><p>é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆï¼ˆçƒŸèŠ±ç‰¹æ•ˆï¼‰ï¼š<a href="https://blog.csdn.net/qq_43562785/article/details/109511585">çº¯Javascriptå®ç°é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆï¼ˆçƒŸèŠ±ç‰¹æ•ˆï¼‰_jsé¼ æ ‡ç‚¹å‡»æ•ˆæœ-CSDNåšå®¢</a></p><h4 id="æµè§ˆå™¨æ ‡é¢˜æ¶æ"><a href="#æµè§ˆå™¨æ ‡é¢˜æ¶æ" class="headerlink" title="æµè§ˆå™¨æ ‡é¢˜æ¶æ"></a>æµè§ˆå™¨æ ‡é¢˜æ¶æ</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> <span class="hljs-title class_">OriginTitle</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span>;<br><span class="hljs-keyword">var</span> titleTime;<br><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;visibilitychange&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-property">hidden</span>) &#123;<br>        $(<span class="hljs-string">&#x27;[rel=&quot;icon&quot;]&#x27;</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;href&#x27;</span>, <span class="hljs-string">&quot;/img/favicon.png&quot;</span>);<br>        <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = <span class="hljs-string">&#x27;â•­(Â°AÂ°`)â•® é¡µé¢å´©æºƒå•¦ ~&#x27;</span>;<br>        <span class="hljs-built_in">clearTimeout</span>(titleTime);<br>    &#125;<br>    <span class="hljs-keyword">else</span> &#123;<br>        $(<span class="hljs-string">&#x27;[rel=&quot;icon&quot;]&#x27;</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;href&#x27;</span>, <span class="hljs-string">&quot;/img/favicon.png&quot;</span>);<br>        <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = <span class="hljs-string">&#x27;(à¸…&gt;Ï‰&lt;*à¸…) å™«åˆå¥½å•¦ ~&#x27;</span> + <span class="hljs-title class_">OriginTitle</span>;<br>        titleTime = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = <span class="hljs-title class_">OriginTitle</span>;<br>        &#125;, <span class="hljs-number">2000</span>);<br>    &#125;<br>&#125;);<br></code></pre></td></tr></table></figure><h3 id="CSSæ¸²æŸ“"><a href="#CSSæ¸²æŸ“" class="headerlink" title="CSSæ¸²æŸ“"></a>CSSæ¸²æŸ“</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs awk">é¼ æ ‡ï¼šhttps:<span class="hljs-regexp">//</span>cdn.jsdelivr.net<span class="hljs-regexp">/gh/</span>EmoryHuang<span class="hljs-regexp">/BlogBeautify@1.1/</span>shubiao.css<br>æ»šåŠ¨æ¡é¢œè‰²ï¼šhttps:<span class="hljs-regexp">//</span>cdn.jsdelivr.net<span class="hljs-regexp">/gh/</span>EmoryHuang<span class="hljs-regexp">/BlogBeautify@1.1/</span>scroll.css<br>å¤´éƒ¨æ‰“å­—æœºé¢œè‰²æ•ˆæœæ¸å˜ï¼šhttps:<span class="hljs-regexp">//</span>cdn.jsdelivr.net<span class="hljs-regexp">/gh/</span>EmoryHuang<span class="hljs-regexp">/BlogBeautify@1.1/g</span>radient.css<br><span class="hljs-regexp">//</span> å¢åŠ ä¸‹é¢çš„css,é’ˆå¯¹æ–‡ç« æ ‡é¢˜<br><span class="hljs-comment">#subtitle &#123;</span><br>     background-size: auto !important;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="æ ‡é¢˜é¢œè‰²-é¦–è¡Œç¼©è¿›-ä»£ç æ¡†è¡¨æ ¼æ¡†æŠ˜å "><a href="#æ ‡é¢˜é¢œè‰²-é¦–è¡Œç¼©è¿›-ä»£ç æ¡†è¡¨æ ¼æ¡†æŠ˜å " class="headerlink" title="æ ‡é¢˜é¢œè‰²,é¦–è¡Œç¼©è¿›,ä»£ç æ¡†è¡¨æ ¼æ¡†æŠ˜å :"></a>æ ‡é¢˜é¢œè‰²,é¦–è¡Œç¼©è¿›,ä»£ç æ¡†è¡¨æ ¼æ¡†æŠ˜å :</h4><p><a href="https://gilgamesh-lzq.github.io/blog/6560820db005/">hexoåšå®¢fluidä¸»é¢˜ç¾åŒ– - Gilgameshâ€™s Blog (gilgamesh-lzq.github.io)</a></p><h4 id="è®¾ç½®è¡¨æ ¼æœ€å¤§é«˜åº¦"><a href="#è®¾ç½®è¡¨æ ¼æœ€å¤§é«˜åº¦" class="headerlink" title="è®¾ç½®è¡¨æ ¼æœ€å¤§é«˜åº¦"></a>è®¾ç½®è¡¨æ ¼æœ€å¤§é«˜åº¦</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/* ä»£ç å’Œè¡¨æ ¼è®¾ç½®æœ€å¤§é«˜åº¦ï¼Œé«˜åº¦æˆ–å®½åº¦è¶…å‡ºéƒ½ä¸ä¼šæ˜¾ç¤ºåœ¨é¡µé¢ä¸­ï¼Œå¯ä»¥é€šè¿‡æ»šåŠ¨æ¡æŸ¥çœ‹ */</span><br><span class="hljs-selector-tag">figure</span> <span class="hljs-selector-tag">table</span> &#123;<br>    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">word-break</span>: initial;<br>    <span class="hljs-attribute">overflow-x</span>: auto;<br>    <span class="hljs-attribute">max-height</span>: <span class="hljs-number">30em</span>;<br>    <span class="hljs-attribute">overflow-y</span>: auto <span class="hljs-meta">!important</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="é»‘æš—æ¨¡å¼ä½œç”¨åŸŸï¼ˆé€‚é…é»‘æš—æ¨¡å¼ï¼‰"><a href="#é»‘æš—æ¨¡å¼ä½œç”¨åŸŸï¼ˆé€‚é…é»‘æš—æ¨¡å¼ï¼‰" class="headerlink" title="é»‘æš—æ¨¡å¼ä½œç”¨åŸŸï¼ˆé€‚é…é»‘æš—æ¨¡å¼ï¼‰:"></a>é»‘æš—æ¨¡å¼ä½œç”¨åŸŸï¼ˆé€‚é…é»‘æš—æ¨¡å¼ï¼‰:</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/* é»‘æš—æ¨¡å¼ä½œç”¨åŸŸ */</span><br><span class="hljs-selector-attr">[data-user-color-scheme=<span class="hljs-string">&#x27;dark&#x27;</span>]</span> <span class="hljs-selector-tag">body</span>&#123;<br>    <span class="hljs-attribute">background-image</span>: none;<br>&#125;<br><span class="hljs-selector-attr">[data-user-color-scheme=<span class="hljs-string">&#x27;dark&#x27;</span>]</span> <span class="hljs-selector-id">#board</span>&#123;<br>    <span class="hljs-attribute">background-image</span>: none;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="è‡ªå®šä¹‰åšå®¢å­—ä½“"><a href="#è‡ªå®šä¹‰åšå®¢å­—ä½“" class="headerlink" title="è‡ªå®šä¹‰åšå®¢å­—ä½“"></a>è‡ªå®šä¹‰åšå®¢å­—ä½“</h2><p>Webå­—ä½“åœ¨çº¿ç”Ÿæˆï¼š<a href="https://transfonter.org/">Online @font-face generator â€” Transfonter</a></p><p> <a href="https://blog.csdn.net/sinat_36728518/article/details/135382779">CSSå…è´¹åœ¨çº¿å­—ä½“æ ¼å¼è½¬æ¢å™¨ CSS @font-face ç”Ÿæˆå™¨_font-faceç”Ÿæˆå™¨-CSDNåšå®¢</a></p><p>ä¸¤ä¸ªå®ç°äº†è‡ªå®šä¹‰å­—ä½“çš„åšå®¢ï¼š</p><p> <a href="https://largesse.netlify.app/posts/3c2a5351">Hexo Fluidä¸»é¢˜ æ·»åŠ è‡ªå®šä¹‰å­—ä½“ - Largesseâ€™s blog</a></p><p><a href="https://www.erenship.com/posts/40222.html">Hexoâ€™s Fluid ä¸»é¢˜ç§äººå®šåˆ¶ï¼ˆæŒç»­æ›´æ–°ï¼‰ - Eren ã® å®‡å®™èˆ¹ (erenship.com)</a></p><h2 id="å‹ç¼©é™æ€èµ„æº"><a href="#å‹ç¼©é™æ€èµ„æº" class="headerlink" title="å‹ç¼©é™æ€èµ„æº"></a>å‹ç¼©é™æ€èµ„æº</h2><div class="note note-warning">            <p>åšå®¢ä¸­æœ‰å¤§é‡ HTMLã€CSSã€JS æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ä¸ºäº†é˜…è¯»æ–¹ä¾¿ä¼šåŠ å…¥è®¸å¤šå›è½¦å’Œç©ºè¡Œï¼Œä½†åœ¨é¡µé¢è§£ææ—¶å…¶å®ä¼šæµªè´¹éƒ¨åˆ†æ—¶é—´ï¼Œæ­¤å¤–å¦‚æœæœ‰è®¸å¤šæ’å›¾ï¼Œä¹Ÿä¼šæ‹–æ…¢ç½‘é¡µåŠ è½½ï¼Œå¹¶å æ® GitHub ä»“åº“çš„å­˜å‚¨ç©ºé—´ã€‚</p>          </div><p>ç›®å‰æœ‰å…³æ’ä»¶æœ‰ <code>gulp</code>ã€<code>hexo-neat</code>ã€<code>hexo-all-minifier</code>ã€‚æ¨èé‡‡ç”¨é›†æˆåº¦æ¯”è¾ƒé«˜çš„ <code>hexo-all-minifier</code> æ¥å®ç°ï¼Œç”±äºåœ¨å®‰è£…ä¾èµ–åŒ…è¿‡ç¨‹æŠ¥é”™ï¼Œæœ¬ç«™æœ€ç»ˆé‡‡ç”¨äº† <code>hexo-neat</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ npm install hexo-all-minifier --save  <span class="hljs-comment"># å‡ºç° npm ERR! code ELIFECYCLE é”™è¯¯</span><br>$ npm install hexo-neat --save          <span class="hljs-comment"># æ¢æˆè¿™ä¸ªåæˆåŠŸå®‰è£…</span><br></code></pre></td></tr></table></figure><p>åœ¨é…ç½®æ–‡ä»¶ <code>_config.yml</code> ä¸­å¢åŠ å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># hexo-neat</span><br><span class="hljs-comment">## Docs: https://github.com/rozbo/hexo-neat</span><br><span class="hljs-attr">neat_enable:</span> <span class="hljs-literal">true</span><br><span class="hljs-comment"># å‹ç¼© html</span><br><span class="hljs-attr">neat_html:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">exclude:</span><br><span class="hljs-comment"># å‹ç¼© css  </span><br><span class="hljs-attr">neat_css:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">exclude:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;**/*.min.css&#x27;</span><br><span class="hljs-comment"># å‹ç¼© js</span><br><span class="hljs-attr">neat_js:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">mangle:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">output:</span><br>  <span class="hljs-attr">compress:</span><br>  <span class="hljs-attr">exclude:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;**/*.min.js&#x27;</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;**/jquery.fancybox.pack.js&#x27;</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;**/index.js&#x27;</span> <br></code></pre></td></tr></table></figure><h2 id="Fluidä¸»é¢˜ç¾åŒ–å‚è€ƒ"><a href="#Fluidä¸»é¢˜ç¾åŒ–å‚è€ƒ" class="headerlink" title="Fluidä¸»é¢˜ç¾åŒ–å‚è€ƒ"></a>Fluidä¸»é¢˜ç¾åŒ–å‚è€ƒ</h2><ul><li><p><a href="https://blog.kevinchu.top/2023/07/17/hexo-theme-fluid-modify/">ğŸ”—Hexoåšå®¢Fluidä¸»é¢˜é­”æ”¹è®°å½• - KEVINâ€™S BLOG (kevinchu.top)</a></p></li><li><p><a href="https://www.erenship.com/posts/40222.html">ğŸ”—Hexoâ€™s Fluid ä¸»é¢˜ç§äººå®šåˆ¶ï¼ˆæŒç»­æ›´æ–°ï¼‰ - Eren ã® å®‡å®™èˆ¹ (erenship.com)</a></p></li><li><p><a href="https://emoryhuang.cn/blog/1729600336.html">ğŸ”—Hexo + Fluid ç¾åŒ– | EmoryHuangâ€™s Blog</a></p></li><li><p><a href="https://www.jianshu.com/p/ba692a97a602">ğŸ”—è®©ä½ çš„ Hexo åšå®¢æ›´ç¾è§‚çš„ N ç§é…ç½®ï¼ˆåŸºäº Fluid ä¸»é¢˜æ‰©å±•ï¼‰ - ç®€ä¹¦ (jianshu.com)</a></p></li><li><p><a href="https://kiyanyang.github.io/posts/f92be1eb/">ğŸ”—Hexo-Fluid åšå®¢ç¾åŒ–å’Œä¿®æ”¹ | Kiyanâ€™s Blog (kiyanyang.github.io)</a></p></li><li><p><a href="https://gilgamesh-lzq.github.io/blog/6560820db005/">ğŸ”—hexoåšå®¢fluidä¸»é¢˜ç¾åŒ– - Gilgameshâ€™s Blog (gilgamesh-lzq.github.io)</a></p></li><li><p>ğŸ”—<a href="https://chen320.github.io/2022/07/14/Hexo-Fluid%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96/">Hexo-Fluidåšå®¢ä¸»é¢˜ç¾åŒ– - Chenâ€™s Blog (chen320.github.io)</a></p></li><li><p>ğŸ”—<a href="https://www.cnblogs.com/zhangshuhao1116/p/14913401.html">åšå®¢å›­ç¾åŒ–ï¼šæ·»åŠ å…¬å‘Šæ æ—¶é’Ÿæ§ä»¶ - Shu_HowZ - åšå®¢å›­ (cnblogs.com)</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç›¸å…³æ•™ç¨‹ </category>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Fluid </tag>
            
            <tag> ä¸»é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…è´¹å¼€æºCDNæœåŠ¡æŒ‡å—</title>
      <link href="/posts/1db4.html"/>
      <url>/posts/1db4.html</url>
      
        <content type="html"><![CDATA[<h2 id="jsDelivr-å¼€æºé¡¹ç›®CDNé¦–é€‰"><a href="#jsDelivr-å¼€æºé¡¹ç›®CDNé¦–é€‰" class="headerlink" title="jsDelivr - å¼€æºé¡¹ç›®CDNé¦–é€‰"></a>jsDelivr - å¼€æºé¡¹ç›®CDNé¦–é€‰</h2><p><strong>å®˜ç½‘</strong>: <a href="https://www.jsdelivr.com/">jsDelivr</a><br><strong>ç‰¹ç‚¹</strong>:</p><ul><li>æ”¯æŒNPMã€GitHubã€WordPressèµ„æº</li><li>å•æ–‡ä»¶ä½“ç§¯é™åˆ¶&lt;50MB</li><li>å…¨çƒCDNåŠ é€Ÿ</li></ul><p><strong>GitHubèµ„æºå¼•ç”¨æ ¼å¼</strong>:</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">https:<span class="hljs-regexp">//</span>cdn.jsdelivr.net<span class="hljs-regexp">/gh/u</span>ser<span class="hljs-regexp">/repo@version/</span>file<br></code></pre></td></tr></table></figure><p><strong>å®ç”¨æŠ€å·§</strong>:</p><ol><li>è‡ªåŠ¨å‹ç¼©: åœ¨JS&#x2F;CSSæ–‡ä»¶ååŠ <code>.min</code></li><li>ç›®å½•æŸ¥çœ‹: URLæœ«å°¾åŠ <code>/</code></li><li>ç‰ˆæœ¬æ§åˆ¶: æ”¯æŒè¯­ä¹‰åŒ–ç‰ˆæœ¬èŒƒå›´</li></ol><p><strong>ç¤ºä¾‹</strong>:</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">https:<span class="hljs-regexp">//</span>cdn.jsdelivr.net<span class="hljs-regexp">/gh/</span>jquery<span class="hljs-regexp">/jquery@3.2.1/</span>dist/jquery.min.js<br>https:<span class="hljs-regexp">//</span>cdn.jsdelivr.net<span class="hljs-regexp">/gh/g</span>rowvv<span class="hljs-regexp">/img@master/im</span>ages/<span class="hljs-number">20200118222911</span>.jpeg<br></code></pre></td></tr></table></figure><blockquote><p>ä»¥å›¾ç‰‡ä¸ºä¾‹ï¼š</p><p>åŸgithubé“¾æ¥ï¼š<a href="https://raw.githubusercontent.com/growvv/img/master/images/20200118222911.jpeg">https://raw.githubusercontent.com/growvv/img/master/images/20200118222911.jpeg</a></p><p>CDNåçš„é“¾æ¥ï¼š<a href="https://cdn.jsdelivr.net/gh/growvv/img@master/images/20200118222911.jpeg">https://cdn.jsdelivr.net/gh/growvv/img@master/images/20200118222911.jpeg</a></p></blockquote><h2 id="unpkg-npmç”Ÿæ€ä¸“ç”¨CDN"><a href="#unpkg-npmç”Ÿæ€ä¸“ç”¨CDN" class="headerlink" title="unpkg - npmç”Ÿæ€ä¸“ç”¨CDN"></a>unpkg - npmç”Ÿæ€ä¸“ç”¨CDN</h2><p><strong>ç‰¹ç‚¹</strong>:</p><ul><li>ä¸“ä¸ºnpmåŒ…è®¾è®¡</li><li>Cloudflareå…¨çƒèŠ‚ç‚¹(äºšæ´²ç”¨æˆ·è®¿é—®é¦™æ¸¯èŠ‚ç‚¹)</li></ul><p><strong>ç¤ºä¾‹</strong>:</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">https</span>://unpkg.com/jquery@<span class="hljs-number">2</span>.<span class="hljs-number">1</span>.<span class="hljs-number">4</span>/dist/jquery.min.js<br></code></pre></td></tr></table></figure><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p>é™¤äº†<code>jsdelivr</code>ï¼Œ æ¨èå‡ ä¸ªå…è´¹çš„ä¸”ä¸é™æµé‡çš„CDNï¼Œè¿˜æœ‰ <code>staticaly</code> <code>githack</code> éƒ½æ˜¯å…¨çƒé€šç”¨çš„ï¼Œ</p><h2 id="Statically-å¤šå¹³å°æ”¯æŒ"><a href="#Statically-å¤šå¹³å°æ”¯æŒ" class="headerlink" title="Statically - å¤šå¹³å°æ”¯æŒ"></a>Statically - å¤šå¹³å°æ”¯æŒ</h2><p><strong>å®˜ç½‘</strong>: <a href="https://statically.io/">Statically</a><br><strong>æ”¯æŒå¹³å°</strong>:</p><ul><li>GitHub&#x2F;GitLab&#x2F;Bitbucket</li><li>WordPressæ’ä»¶&#x2F;ä¸»é¢˜</li><li>å›¾ç‰‡ä»£ç†</li></ul><p><strong>å¼•ç”¨æ ¼å¼</strong>:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs elixir"><span class="hljs-comment"># GitHub CDN</span><br><span class="hljs-symbol">https:</span>//cdn.staticaly.com/gh/<span class="hljs-symbol">:user/</span><span class="hljs-symbol">:repo/</span><span class="hljs-symbol">:tag/</span><span class="hljs-symbol">:file</span><br><span class="hljs-symbol">https:</span>//cdn.staticaly.com/gh/growvv/growvv.github.io/master/<span class="hljs-title class_">README</span>.md<br><br><span class="hljs-comment"># GitLab CDN</span><br><span class="hljs-symbol">https:</span>//cdn.staticaly.com/gl/<span class="hljs-symbol">:user/</span><span class="hljs-symbol">:repo/</span><span class="hljs-symbol">:tag/</span><span class="hljs-symbol">:file</span><br><br><span class="hljs-comment"># Bitbucket CDN</span><br><span class="hljs-symbol">https:</span>//cdn.staticaly.com/bb/<span class="hljs-symbol">:user/</span><span class="hljs-symbol">:repo/</span><span class="hljs-symbol">:tag/</span><span class="hljs-symbol">:file</span><br><br><span class="hljs-comment"># WordPress CDN</span><br><span class="hljs-symbol">https:</span>//cdn.staticaly.com/wp/c/<span class="hljs-symbol">:version/wp-includes/</span><span class="hljs-symbol">:file</span>  <br><span class="hljs-symbol">https:</span>//cdn.staticaly.com/wp/p/<span class="hljs-symbol">:plugin_name/</span><span class="hljs-symbol">:version/</span><span class="hljs-symbol">:file</span>  <br><span class="hljs-symbol">https:</span>//cdn.staticaly.com/wp/t/<span class="hljs-symbol">:theme_name/</span><span class="hljs-symbol">:version/</span><span class="hljs-symbol">:file</span><br><br><span class="hljs-comment"># Imgpx CDN</span><br><span class="hljs-symbol">https:</span>//cdn.staticaly.com/img/<span class="hljs-symbol">:image_url</span><br><br><span class="hljs-comment"># Favicons CDN</span><br><span class="hljs-symbol">https:</span>//cdn.staticaly.com/favicons/<span class="hljs-symbol">:favicon_url</span><br></code></pre></td></tr></table></figure><h2 id="GitHack-åŸå§‹æ–‡ä»¶ç›´è¿"><a href="#GitHack-åŸå§‹æ–‡ä»¶ç›´è¿" class="headerlink" title="GitHack - åŸå§‹æ–‡ä»¶ç›´è¿"></a>GitHack - åŸå§‹æ–‡ä»¶ç›´è¿</h2><p><strong>å®˜ç½‘</strong>: <a href="https://raw.githack.com/">GitHack</a><br><strong>ç‰¹ç‚¹</strong>:</p><ul><li>ç›´æ¥æä¾›åŸå§‹æ–‡ä»¶</li><li>æ”¯æŒGitHub&#x2F;Bitbucket&#x2F;GitLab</li></ul><p><strong>ç¤ºä¾‹</strong>:</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs text"># Github CDN<br>//ä¸»åˆ†æ”¯<br>https://rawcdn.githack.com/liub1934/LB-Blog/master/wp-content/themes/Memory/emoji/xiaodianshi/baiyan.png<br><br>//ç‰ˆæœ¬åˆ†æ”¯<br>https://rawcdn.githack.com/liub1934/LB-Blog/8806f440d3f9a7cc3e6125d7d75564e40262c6a8/wp-content/themes/Memory/emoji/xiaodianshi/baiyan.png<br></code></pre></td></tr></table></figure><blockquote><p><strong>æç¤º</strong>: ç”Ÿäº§ç¯å¢ƒå»ºè®®æŒ‡å®šå…·ä½“ç‰ˆæœ¬å·ï¼Œé¿å…ä½¿ç”¨latestè·å–æœ€æ–°ç‰ˆæœ¬å¯èƒ½å¯¼è‡´çš„å…¼å®¹æ€§é—®é¢˜ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æ‚è°ˆ </category>
          
          <category> å…¶ä»– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CDN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Chromeæ‰©å±•å¼€å‘å®æˆ˜ï¼šCSDNå…å…³æ³¨é˜…è¯»&amp;ç ´è§£å¤åˆ¶æ’ä»¶</title>
      <link href="/posts/716.html"/>
      <url>/posts/716.html</url>
      
        <content type="html"><![CDATA[<h2 id="é¡¹ç›®ç®€ä»‹"><a href="#é¡¹ç›®ç®€ä»‹" class="headerlink" title="é¡¹ç›®ç®€ä»‹"></a>é¡¹ç›®ç®€ä»‹</h2><p>è¿™æ˜¯ä¸€ä¸ªé’ˆå¯¹CSDNåšå®¢å¹³å°çš„Chromeæ‰©å±•ï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š</p><ul><li>è§£é™¤â€å…³æ³¨åšä¸»æ‰èƒ½é˜…è¯»å…¨æ–‡â€çš„é™åˆ¶</li><li>ç ´è§£æ–‡ç« å¤åˆ¶é™åˆ¶</li><li>è‡ªåŠ¨æ¸…é™¤å„ç±»å¼¹çª—å¹¿å‘Š</li><li>ä¼˜åŒ–é˜…è¯»ç•Œé¢</li></ul><h2 id="æ ¸å¿ƒæ–‡ä»¶ç»“æ„"><a href="#æ ¸å¿ƒæ–‡ä»¶ç»“æ„" class="headerlink" title="æ ¸å¿ƒæ–‡ä»¶ç»“æ„"></a>æ ¸å¿ƒæ–‡ä»¶ç»“æ„</h2><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs scss">â””â”€ CSDNå–æ¶ˆå…³æ³¨é™åˆ¶<br>   â”œâ”€ manifest<span class="hljs-selector-class">.json</span>       <span class="hljs-comment">// æ‰©å±•é…ç½®æ–‡ä»¶</span><br>   â”œâ”€ <span class="hljs-attribute">background</span><span class="hljs-selector-class">.js</span>       <span class="hljs-comment">// åå°æœåŠ¡è„šæœ¬</span><br>   â”œâ”€ <span class="hljs-attribute">content</span>-script<span class="hljs-selector-class">.js</span>   <span class="hljs-comment">// é¡µé¢æ³¨å…¥è„šæœ¬</span><br>   â”œâ”€ popup<span class="hljs-selector-class">.html</span>          <span class="hljs-comment">// å¼¹å‡ºçª—å£ç•Œé¢</span><br>   â”œâ”€ popup<span class="hljs-selector-class">.js</span>           <span class="hljs-comment">// å¼¹å‡ºçª—å£é€»è¾‘</span><br>   â”œâ”€ style<span class="hljs-selector-class">.css</span>           <span class="hljs-comment">// æ ·å¼æ–‡ä»¶</span><br>   â””â”€ images              <span class="hljs-comment">// å›¾æ ‡èµ„æº</span><br></code></pre></td></tr></table></figure><h2 id="å…³é”®æŠ€æœ¯å®ç°"><a href="#å…³é”®æŠ€æœ¯å®ç°" class="headerlink" title="å…³é”®æŠ€æœ¯å®ç°"></a>å…³é”®æŠ€æœ¯å®ç°</h2><h3 id="1-æ¸…å•é…ç½®-manifest-json"><a href="#1-æ¸…å•é…ç½®-manifest-json" class="headerlink" title="1. æ¸…å•é…ç½® (manifest.json)"></a>1. æ¸…å•é…ç½® (manifest.json)</h3><p><code>manifest.json</code> æ˜¯ Chrome æµè§ˆå™¨æ‰©å±•çš„æ ¸å¿ƒæ–‡ä»¶ï¼ŒåŒ…å«äº†æ‰©å±•çš„å…ƒæ•°æ®ã€ç‰ˆæœ¬ä¿¡æ¯ã€æ‰€éœ€æƒé™ã€èƒŒæ™¯è„šæœ¬ã€å†…å®¹è„šæœ¬ç­‰ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br><span class="hljs-comment">// æ’ä»¶çš„åç§°</span><br>    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;CNDSæ— éœ€å…³æ³¨&quot;</span><span class="hljs-punctuation">,</span><br>    <br>    <span class="hljs-comment">// æ’ä»¶æè¿°</span><br>    <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;è§£é”å…³æ³¨åæŸ¥çœ‹é™åˆ¶&quot;</span><span class="hljs-punctuation">,</span><br>        <br>    <span class="hljs-comment">// æ’ä»¶çš„ç‰ˆæœ¬</span><br>    <span class="hljs-attr">&quot;version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;0.1.1&quot;</span><span class="hljs-punctuation">,</span><br>        <br>    <span class="hljs-comment">// æ¸…å•æ–‡ä»¶çš„ç‰ˆæœ¬ï¼Œä¸€èˆ¬ä¸º3ï¼Œ2å·²ç»å¼ƒç”¨</span><br>    <span class="hljs-attr">&quot;manifest_version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span><br><br>    <span class="hljs-comment">// å›¾æ ‡ï¼Œä¸€èˆ¬å·æ‡’å…¨éƒ¨ç”¨ä¸€ä¸ªå°ºå¯¸çš„ä¹Ÿæ²¡é—®é¢˜</span><br>    <span class="hljs-attr">&quot;icons&quot;</span><span class="hljs-punctuation">:</span> <br>    <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;16&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/images/icon.png&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;48&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/images/icon.png&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;128&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/images/icon.png&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <br>    <span class="hljs-comment">// ä¼šä¸€ç›´å¸¸é©»çš„åå°JSæˆ–åå°é¡µé¢</span><br>    <span class="hljs-attr">&quot;background&quot;</span><span class="hljs-punctuation">:</span><br>    <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;service_worker&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;./background.js&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>        <br><span class="hljs-comment">// æµè§ˆå™¨å³ä¸Šè§’å›¾æ ‡è®¾ç½®</span><br>    <span class="hljs-attr">&quot;action&quot;</span><span class="hljs-punctuation">:</span><br>    <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;default_popup&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;popup.html&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;default_icon &quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/images/icon.png&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;default_title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;CNDSæ— éœ€å…³æ³¨&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>        <br>    <span class="hljs-comment">// æƒé™ç”³è¯·</span><br>    <span class="hljs-attr">&quot;permissions&quot;</span><span class="hljs-punctuation">:</span><br>    <span class="hljs-punctuation">[</span><br>        <span class="hljs-string">&quot;storage&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-string">&quot;tabs&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-string">&quot;scripting&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-string">&quot;notifications&quot;</span><br>    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>        <br><span class="hljs-comment">//å¯ä»¥è®¿é—®çš„ç½‘ç«™</span><br>    <span class="hljs-attr">&quot;host_permissions&quot;</span><span class="hljs-punctuation">:</span><br>    <span class="hljs-punctuation">[</span><br>        <span class="hljs-string">&quot;&lt;all_urls&gt;&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-string">&quot;https://blog.csdn.net/&quot;</span><br>    <span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>å®Œæ•´çš„é…ç½®æ–‡æ¡£è¯·æˆ³<a href="https://developer.chrome.com/extensions/manifest">è¿™é‡Œ</a>ã€‚</p><h3 id="2-åå°æœåŠ¡-background-js"><a href="#2-åå°æœåŠ¡-background-js" class="headerlink" title="2. åå°æœåŠ¡ (background.js)"></a>2. åå°æœåŠ¡ (background.js)</h3><p><code>background.js</code> æ˜¯æ‰©å±•çš„åå°è„šæœ¬ï¼Œå®ƒåœ¨æ‰©å±•çš„ç”Ÿå‘½å‘¨æœŸå†…æŒç»­è¿è¡Œï¼Œä¸å—é¡µé¢åŠ è½½å’Œå¸è½½çš„å½±å“ã€‚å®ƒé€šå¸¸ç”¨äºå¤„ç†éé¡µé¢ç‰¹å®šçš„é€»è¾‘ï¼Œå¦‚ç›‘å¬æµè§ˆå™¨äº‹ä»¶ã€è·¨é¡µé¢é€šä¿¡ã€ç®¡ç†æ‰©å±•çš„çŠ¶æ€ã€å­˜å‚¨æ•°æ®ç­‰ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//å®‰è£…æ—¶é»˜è®¤å¯ç”¨</span><br>chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">onInstalled</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>(&#123;<br>        <span class="hljs-title class_">Enabled</span>: <span class="hljs-literal">true</span>,      <span class="hljs-comment">//å¯ç”¨æ‰©å±•</span><br>        <span class="hljs-title class_">Auto</span><span class="hljs-attr">_expand</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">//è‡ªåŠ¨å±•å¼€</span><br>        <span class="hljs-title class_">Enable</span><span class="hljs-attr">_copy</span>: <span class="hljs-literal">true</span>,  <span class="hljs-comment">//ç ´è§£å¤åˆ¶</span><br>        <span class="hljs-title class_">Clear</span><span class="hljs-attr">_doms</span>: <span class="hljs-literal">true</span>,   <span class="hljs-comment">//æ¸…é™¤å¼¹çª—</span><br>    &#125;, <span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;OK: Extension is installed!&#x27;</span>);<br>    &#125;);<br>&#125;);<br><br><span class="hljs-comment">//ç›‘å¬tabé¡µé¢åŠ è½½ï¼Œæ­£åˆ™åŒ¹é…CSDNç½‘å€</span><br>chrome.<span class="hljs-property">tabs</span>.<span class="hljs-property">onUpdated</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">tabId, changeInfo, tab</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/blog.csdn.net/</span>.<span class="hljs-title function_">test</span>(tab.<span class="hljs-property">url</span>) &amp;&amp; <span class="hljs-regexp">/article/</span>.<span class="hljs-title function_">test</span>(tab.<span class="hljs-property">url</span>) &amp;&amp; changeInfo.<span class="hljs-property">status</span> === <span class="hljs-string">&quot;complete&quot;</span>) &#123;<br>        chrome.<span class="hljs-property">scripting</span>.<span class="hljs-title function_">executeScript</span>(&#123;<br>            <span class="hljs-attr">target</span>: &#123;<br>                <span class="hljs-attr">tabId</span>: tabId<br>            &#125;,<br>            <span class="hljs-attr">files</span>: [<span class="hljs-string">&quot;./content-script.js&quot;</span>],<br>        &#125;).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;INJECTED SCRIPT SUCC.&quot;</span>);<br>        &#125;).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err));<br>    &#125;<br>&#125;);<br></code></pre></td></tr></table></figure><h3 id="3-é¡µé¢æ³¨å…¥è„šæœ¬-content-script-js"><a href="#3-é¡µé¢æ³¨å…¥è„šæœ¬-content-script-js" class="headerlink" title="3. é¡µé¢æ³¨å…¥è„šæœ¬ (content-script.js)"></a>3. é¡µé¢æ³¨å…¥è„šæœ¬ (content-script.js)</h3><p><code>content-script.js</code>æ˜¯å†…å®¹è„šæœ¬ï¼Œå®ƒä¼šè¢«æ³¨å…¥åˆ°åŒ¹é…çš„é¡µé¢ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œã€‚å†…å®¹è„šæœ¬å¯ä»¥ç›´æ¥è®¿é—®å’Œæ“ä½œé¡µé¢çš„DOMï¼Œå› æ­¤å®ƒä»¬é€šå¸¸ç”¨äºä¿®æ”¹é¡µé¢å†…å®¹ã€ç›‘å¬ç”¨æˆ·äº¤äº’ã€ä¸é¡µé¢JavaScriptäº¤äº’ç­‰ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><code class="hljs javascript">chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>([<span class="hljs-string">&#x27;Enabled&#x27;</span>, <span class="hljs-string">&#x27;Auto_expand&#x27;</span>, <span class="hljs-string">&#x27;Enable_copy&#x27;</span>, <span class="hljs-string">&#x27;Clear_doms&#x27;</span>], <span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) &#123;<br>    <span class="hljs-keyword">if</span> (value.<span class="hljs-property">Enabled</span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;æ‰©å±•å¼€å§‹æ‰§è¡Œ&quot;</span>);<br><br>        <span class="hljs-keyword">if</span> (value.<span class="hljs-property">Enable_copy</span>) &#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;æ‰§è¡Œç ´è§£å¤åˆ¶&quot;</span>);<br>            <span class="hljs-comment">//enableCopy();   //å¯ç”¨å¤åˆ¶</span><br>            <span class="hljs-title function_">enableCopy2</span>();<br>        &#125;<br><br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;æ‰§è¡Œç ´è§£å…³æ³¨&quot;</span>);<br>        <span class="hljs-keyword">if</span> (value.<span class="hljs-property">Auto_expand</span>) &#123;<br>            <span class="hljs-title function_">expand</span>(); <span class="hljs-comment">//è‡ªåŠ¨å±•å¼€</span><br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-title function_">modify</span>(); <span class="hljs-comment">//ä¿®æ”¹é˜²æ­¢é»˜è®¤è·³è½¬</span><br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (value.<span class="hljs-property">Clear_doms</span>) &#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;æ‰§è¡Œæ¸…é™¤å¼¹çª—&quot;</span>);<br>            <span class="hljs-title function_">removeDoms</span>(); <span class="hljs-comment">//ç§»é™¤ç™»å½•å¼¹çª—ç­‰</span><br><br>            <span class="hljs-comment">//åˆ›å»ºæ–°çš„domç›‘å¬å™¨</span><br>            <span class="hljs-keyword">let</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MutationObserver</span>(<span class="hljs-function">(<span class="hljs-params">mutationsList</span>) =&gt;</span> &#123;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> mutation <span class="hljs-keyword">of</span> mutationsList) &#123;<br>                    <span class="hljs-keyword">if</span> (mutation.<span class="hljs-property">type</span> == <span class="hljs-string">&#x27;childList&#x27;</span>) &#123; <span class="hljs-comment">//åªç›‘å¬ä¸€çº§</span><br>                        <span class="hljs-title function_">removeDoms</span>();<br>                    &#125;<br>                &#125;<br>            &#125;);<br>            <span class="hljs-comment">// å¼€å§‹ç›‘å¬å±æ€§å˜åŒ–</span><br>            observer.<span class="hljs-title function_">observe</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>, &#123;<br>                <span class="hljs-attr">childList</span>: <span class="hljs-literal">true</span><br>            &#125;);<br>            <span class="hljs-comment">// beforeDestory(() =&gt; &#123;</span><br>            <span class="hljs-comment">//     observer.disconnect(); //å–æ¶ˆå¯¹æ‰€æœ‰domçš„ç›‘å¬</span><br>            <span class="hljs-comment">//     observer = null;</span><br>            <span class="hljs-comment">// &#125;);</span><br>        &#125;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;æœªå¯ç”¨æ‰©å±•åŠŸèƒ½&quot;</span>);<br>    &#125;<br>&#125;);<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">modify</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">let</span> follow_text = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByClassName</span>(<span class="hljs-string">&#x27;follow-text&#x27;</span>);<br>    <span class="hljs-keyword">if</span> (follow_text.<span class="hljs-property">length</span> == <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    follow_text = follow_text[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">if</span> (follow_text.<span class="hljs-property">textContent</span> == <span class="hljs-string">&quot;å…³æ³¨åšä¸»å³å¯é˜…è¯»å…¨æ–‡&quot;</span>) &#123;<br>        follow_text.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> &#123;<br>            event.<span class="hljs-title function_">stopPropagation</span>(); <span class="hljs-comment">//ç¦æ­¢é»˜è®¤è·³è½¬</span><br>            <span class="hljs-title function_">expand</span>(); <span class="hljs-comment">//å±•å¼€</span><br>        &#125;);<br>        <span class="hljs-keyword">let</span> img = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByClassName</span>(<span class="hljs-string">&#x27;chevrondown&#x27;</span>)[<span class="hljs-number">0</span>]; <span class="hljs-comment">//&quot;å…³æ³¨åšä¸»å³å¯é˜…è¯»å…¨æ–‡&quot;æ—å‘ä¸‹çš„ç®­å¤´å›¾æ ‡</span><br>        img.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> &#123;<br>            event.<span class="hljs-title function_">stopPropagation</span>(); <span class="hljs-comment">//ç¦æ­¢é»˜è®¤è·³è½¬</span><br>            <span class="hljs-title function_">expand</span>(); <span class="hljs-comment">//å±•å¼€</span><br>        &#125;);<br>        follow_text.<span class="hljs-property">textContent</span> = <span class="hljs-string">&quot;å…³æ³¨é™åˆ¶å·²è§£é”&quot;</span>;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;å…³æ³¨é™åˆ¶å·²è§£é”&quot;</span>);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;æ²¡æœ‰æ‰¾åˆ°\&quot;å…³æ³¨åšä¸»å³å¯é˜…è¯»å…¨æ–‡\&quot;&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">expand</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">let</span> article_content = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;article_content&quot;</span>);<br>    <span class="hljs-keyword">let</span> hide_article_box = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByClassName</span>(<span class="hljs-string">&#x27;hide-article-box&#x27;</span>)[<span class="hljs-number">0</span>];<br>    article_content.<span class="hljs-title function_">removeAttribute</span>(<span class="hljs-string">&quot;style&quot;</span>);<br>    hide_article_box.<span class="hljs-property">parentElement</span>.<span class="hljs-title function_">removeChild</span>(hide_article_box);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;å…¨æ–‡å±•å¼€æˆåŠŸ&quot;</span>);<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">removeDoms</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">let</span> classes = [<span class="hljs-string">&#x27;passport-login-tip-container false&#x27;</span>, <span class="hljs-string">&#x27;passport-login-container&#x27;</span>, <span class="hljs-string">&#x27;tool-active-list&#x27;</span>, <span class="hljs-string">&#x27;article-search-tip&#x27;</span>,<br>        <span class="hljs-string">&#x27;hljs-button signin active&#x27;</span>, <span class="hljs-string">&#x27;csdn-side-toolbar&#x27;</span>, <span class="hljs-string">&#x27;box-shadow mb8&#x27;</span>, <span class="hljs-string">&#x27;blog-footer-bottom&#x27;</span>];<br>    <span class="hljs-keyword">let</span> infos = [<span class="hljs-string">&#x27;å³ä¸‹è§’å¼¹çª—&#x27;</span>, <span class="hljs-string">&#x27;ç™»å½•å¼¹çª—&#x27;</span>, <span class="hljs-string">&#x27;ä¸€é”®æ”¶è—&#x27;</span>, <span class="hljs-string">&#x27;é»‘è‰²æç¤ºæ¡†&#x27;</span>, <br>        <span class="hljs-string">&#x27;ç™»å½•å¤åˆ¶æç¤º&#x27;</span>, <span class="hljs-string">&#x27;ä¾§è¾¹å·¥å…·æ &#x27;</span>, <span class="hljs-string">&#x27;å·¦ä¾§å¹¿å‘Š&#x27;</span>, <span class="hljs-string">&#x27;åº•éƒ¨å¤‡æ¡ˆä¿¡æ¯&#x27;</span>];<br>    <span class="hljs-keyword">let</span> boxs, box;<br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; classes.<span class="hljs-property">length</span>; i++) &#123;<br>        boxs = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByClassName</span>(classes[i]);<br>        <span class="hljs-keyword">if</span> (boxs.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) &#123;<br>            box = boxs[<span class="hljs-number">0</span>];<br>            box.<span class="hljs-property">parentElement</span>.<span class="hljs-title function_">removeChild</span>(box);<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;ç§»é™¤&quot;</span> + infos[i]);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">let</span> ids = [<span class="hljs-string">&#x27;toolbarBox&#x27;</span>, <span class="hljs-string">&#x27;asideWriteGuide&#x27;</span>, <span class="hljs-string">&#x27;asideNewNps&#x27;</span>, <span class="hljs-string">&#x27;recommendNps&#x27;</span>];<br>    <span class="hljs-keyword">let</span> names = [<span class="hljs-string">&quot;é¡¶éƒ¨æ &quot;</span>, <span class="hljs-string">&#x27;å·¦ä¾§å¹¿å‘Š&#x27;</span>, <span class="hljs-string">&#x27;å·¦ä¾§æ˜¯å¦æ¨è&#x27;</span>,<span class="hljs-string">&#x27;åº•éƒ¨æ˜¯å¦æ¨è&#x27;</span>];<br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; ids.<span class="hljs-property">length</span>; i++) &#123;<br>        box = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(ids[i]);<br>        <span class="hljs-keyword">if</span>(box == <span class="hljs-literal">null</span>) <span class="hljs-keyword">continue</span>;<br>        box.<span class="hljs-property">parentElement</span>.<span class="hljs-title function_">removeChild</span>(box);<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;ç§»é™¤&quot;</span> + names[i]);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// å‚è€ƒï¼šhttps://www.cnblogs.com/pu369/p/17425742.html</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">enableCopy</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">setAllSelect</span>(<span class="hljs-params">el = <span class="hljs-variable language_">document</span>.body</span>) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> index = <span class="hljs-number">0</span>; index &lt; el.<span class="hljs-property">children</span>.<span class="hljs-property">length</span>; index++) &#123;<br>            <span class="hljs-keyword">const</span> e = el.<span class="hljs-property">children</span>.<span class="hljs-title function_">item</span>(index);<br>            e.<span class="hljs-property">style</span>.<span class="hljs-property">userSelect</span> = <span class="hljs-string">&#x27;text&#x27;</span>;<br>            <span class="hljs-title function_">setAllSelect</span>(e);<br>        &#125;<br>    &#125;<br>    <span class="hljs-title function_">setAllSelect</span>();<br><br>    <span class="hljs-comment">//ç›‘å¬é”®ç›˜Ctrl+C</span><br>    <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">onkeydown</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;<br>        <span class="hljs-keyword">if</span> (e.<span class="hljs-property">ctrlKey</span> &amp;&amp; e.<span class="hljs-property">keyCode</span> == <span class="hljs-number">67</span>) &#123;<br>            <span class="hljs-keyword">const</span> pasteText = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">getSelection</span>().<span class="hljs-title function_">toString</span>();<br>            <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> === pasteText || <span class="hljs-literal">undefined</span> === pasteText || <span class="hljs-string">&#x27;&#x27;</span> === pasteText.<span class="hljs-title function_">trim</span>()) &#123;<br>                <span class="hljs-keyword">return</span>;<br>            &#125;<br>            navigator.<span class="hljs-property">clipboard</span>.<span class="hljs-title function_">writeText</span>(pasteText).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;å¤åˆ¶æˆåŠŸï¼&quot;</span>); <span class="hljs-comment">//alert(&quot;å¤åˆ¶å¤±è´¥ï¼&quot;);</span><br>            &#125;).<span class="hljs-title function_">catch</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;å¤åˆ¶å¤±è´¥ï¼&quot;</span>);<br>            &#125;);<br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">//ç›‘å¬å³é”®å¤åˆ¶æ— æ³•å®ç°</span><br>&#125;<br><br><span class="hljs-comment">// å‚è€ƒï¼šhttps://blog.csdn.net/weixin_49119066/article/details/139220307</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">enableCopy2</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">window</span>.<span class="hljs-property">oncontextmenu</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-property">oncontextmenu</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-property">oncopy</span> = <span class="hljs-literal">null</span>;<br>    <span class="hljs-keyword">var</span> hea = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByClassName</span>(<span class="hljs-string">&#x27;toolbar-advert&#x27;</span>)[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">if</span> (hea) &#123;<br>        hea.<span class="hljs-title function_">remove</span>()<br>    &#125;;<br>    [...<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&#x27;body&#x27;</span>)].<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">dom</span> =&gt;</span> dom.<span class="hljs-property">outerHTML</span> = dom.<span class="hljs-property">outerHTML</span>);<br>    [...<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&#x27;body, body *&#x27;</span>)].<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">dom</span> =&gt;</span> &#123;<br>        [<span class="hljs-string">&#x27;onselect&#x27;</span>, <span class="hljs-string">&#x27;onselectstart&#x27;</span>, <span class="hljs-string">&#x27;onselectend&#x27;</span>, <span class="hljs-string">&#x27;ondragstart&#x27;</span>, <span class="hljs-string">&#x27;ondragend&#x27;</span>, <span class="hljs-string">&#x27;oncontextmenu&#x27;</span>, <span class="hljs-string">&#x27;oncopy&#x27;</span>].<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">ev</span> =&gt;</span> dom.<span class="hljs-title function_">removeAttribute</span>(ev));<br>        dom.<span class="hljs-property">style</span>[<span class="hljs-string">&#x27;user-select&#x27;</span>] = <span class="hljs-string">&#x27;auto&#x27;</span>;<br>    &#125;);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="4-æ’ä»¶é…ç½®é¡µé¢ä¸æ ·å¼æ–‡ä»¶-popup-html-style-css"><a href="#4-æ’ä»¶é…ç½®é¡µé¢ä¸æ ·å¼æ–‡ä»¶-popup-html-style-css" class="headerlink" title="4. æ’ä»¶é…ç½®é¡µé¢ä¸æ ·å¼æ–‡ä»¶ (popup.html &amp; style.css)"></a>4. æ’ä»¶é…ç½®é¡µé¢ä¸æ ·å¼æ–‡ä»¶ (popup.html &amp; style.css)</h3><p><code>popup.html</code> é€šå¸¸æ˜¯ä¸€ä¸ªä¸æµè§ˆå™¨åŠ¨ä½œï¼ˆBrowser Actionï¼‰æˆ–é¡µé¢åŠ¨ä½œï¼ˆPage Actionï¼‰å…³è”çš„å¼¹å‡ºçª—å£çš„HTMLæ–‡ä»¶ã€‚å½“ç”¨æˆ·ç‚¹å‡»æ‰©å±•æ—¶ï¼Œå°†æ˜¾ç¤ºå¼¹å‡ºçª—å£ã€‚ç”¨æˆ·å¯åœ¨è¯¥çª—å£è¿›è¡Œç›¸å…³è®¾ç½®ã€‚</p><p><img src="/assets/img/1719215341752.png"></p><p align="center" style="line-height: 1;"><font size=3 face="é»‘ä½“">popup.html</font></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;zh-CN&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;./style.css&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;center&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">font</span> <span class="hljs-attr">size</span>=<span class="hljs-string">3</span> <span class="hljs-attr">face</span>=<span class="hljs-string">&quot;é»‘ä½“&quot;</span>&gt;</span>CSDNæ’ä»¶è®¾ç½®<span class="hljs-tag">&lt;/<span class="hljs-name">font</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;option&quot;</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;center&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;name&quot;</span>&gt;</span>å¼€å¯æ’ä»¶ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;switch&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;switch-enable&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;checkbox&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;option&quot;</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;center&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;name&quot;</span>&gt;</span>è‡ªåŠ¨å±•å¼€ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;switch&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;switch-autoexpand&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;checkbox&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;option&quot;</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;center&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;name&quot;</span>&gt;</span>ç ´è§£å¤åˆ¶ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;switch&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;switch-enablecopy&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;checkbox&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;option&quot;</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;center&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;name&quot;</span>&gt;</span>æ¸…é™¤å¼¹çª—ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;switch&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;switch-clearDom&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;checkbox&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;center&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;refresh&quot;</span>&gt;</span>åˆ·æ–°ç½‘é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;popup.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p align="center" style="line-height: 1;"><font size=3 face="é»‘ä½“">style.css</font></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">html</span>,<span class="hljs-selector-tag">body</span>&#123;<br>    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0px</span>;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;<br>    <span class="hljs-attribute">font-family</span>: <span class="hljs-string">&#x27;Courier New&#x27;</span>, Courier, monospace;<br>&#125;<br><br><span class="hljs-selector-class">.name</span>&#123;<br>    <span class="hljs-attribute">position</span>: relative;<br>    <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span> <span class="hljs-number">10px</span> <span class="hljs-number">10px</span> <span class="hljs-number">10px</span>;<br>&#125;<br><span class="hljs-selector-class">.checkbox</span>&#123;<br>    <span class="hljs-attribute">position</span>: relative;<br>    <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span> <span class="hljs-number">10px</span> <span class="hljs-number">10px</span> <span class="hljs-number">10px</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="5-æ’ä»¶é…ç½®é¡µé¢è„šæœ¬-popup-js"><a href="#5-æ’ä»¶é…ç½®é¡µé¢è„šæœ¬-popup-js" class="headerlink" title="5. æ’ä»¶é…ç½®é¡µé¢è„šæœ¬ (popup.js)"></a>5. æ’ä»¶é…ç½®é¡µé¢è„šæœ¬ (popup.js)</h3><p><code>popup.js</code>é€šå¸¸ä¸<code>popup.html</code>ä¸€èµ·ä½¿ç”¨ï¼Œç”¨äºå¤„ç†å¼¹å‡ºçª—å£ï¼ˆPopupï¼‰ä¸­çš„ç”¨æˆ·äº¤äº’å’ŒåŠ¨æ€è¡Œä¸ºã€‚å½“ç”¨æˆ·ç‚¹å‡»æµè§ˆå™¨åŠ¨ä½œï¼ˆBrowser Actionï¼‰æˆ–é¡µé¢åŠ¨ä½œï¼ˆPage Actionï¼‰çš„å›¾æ ‡æ—¶ï¼Œä¼šæ‰“å¼€<code>popup.html</code>ï¼Œè€Œ<code>popup.js</code>åˆ™è´Ÿè´£ä¸ºå…¶ä¸­çš„å…ƒç´ æ·»åŠ äº‹ä»¶ç›‘å¬å™¨ã€å¤„ç†ç”¨æˆ·è¾“å…¥ä»¥åŠä¸å…¶ä»–éƒ¨åˆ†ï¼ˆå¦‚èƒŒæ™¯è„šæœ¬æˆ–å†…å®¹è„šæœ¬ï¼‰è¿›è¡Œé€šä¿¡ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> checkBoxs = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByClassName</span>(<span class="hljs-string">&quot;checkbox&quot;</span>);<br><br><span class="hljs-comment">//è·å–å„ä¸ªé€‰é¡¹å€¼</span><br>chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>([<span class="hljs-string">&#x27;Enabled&#x27;</span>, <span class="hljs-string">&#x27;Auto_expand&#x27;</span>, <span class="hljs-string">&#x27;Enable_copy&#x27;</span>, <span class="hljs-string">&#x27;Clear_doms&#x27;</span>], <span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) &#123;<br>    checkBoxs[<span class="hljs-number">0</span>].<span class="hljs-property">checked</span> = value.<span class="hljs-property">Enabled</span>;<br>    checkBoxs[<span class="hljs-number">1</span>].<span class="hljs-property">checked</span> = value.<span class="hljs-property">Auto_expand</span>;<br>    checkBoxs[<span class="hljs-number">2</span>].<span class="hljs-property">checked</span> = value.<span class="hljs-property">Enable_copy</span>;<br>    checkBoxs[<span class="hljs-number">3</span>].<span class="hljs-property">checked</span> = value.<span class="hljs-property">Clear_doms</span>;<br>&#125;);<br><br><span class="hljs-comment">//å¯ç”¨æ’ä»¶</span><br>checkBoxs[<span class="hljs-number">0</span>].<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;change&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (checkBoxs[<span class="hljs-number">0</span>].<span class="hljs-property">checked</span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;å¯ç”¨æ‰©å±•&quot;</span>);<br>        chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>(&#123;<br>            <span class="hljs-title class_">Enabled</span>: <span class="hljs-literal">true</span><br>        &#125;);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;å…³é—­æ‰©å±•&quot;</span>);<br>        chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>(&#123;<br>            <span class="hljs-title class_">Enabled</span>: <span class="hljs-literal">false</span><br>        &#125;);<br>    &#125;<br>    <br>    <span class="hljs-comment">//åˆ·æ–°ç½‘é¡µ</span><br>    chrome.<span class="hljs-property">tabs</span>.<span class="hljs-title function_">query</span>(&#123;<br>        <span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-attr">currentWindow</span>: <span class="hljs-literal">true</span><br>    &#125;, <span class="hljs-keyword">function</span>(<span class="hljs-params">tabs</span>) &#123;<br>        chrome.<span class="hljs-property">scripting</span>.<span class="hljs-title function_">executeScript</span>(&#123;<br>            <span class="hljs-attr">target</span>: &#123;<br>                <span class="hljs-attr">tabId</span>: tabs[<span class="hljs-number">0</span>].<span class="hljs-property">id</span><br>            &#125;,<br>            <span class="hljs-attr">func</span>: refreshPage,<br>        &#125;);<br>    &#125;);<br>&#125;);<br><br><span class="hljs-comment">//è‡ªåŠ¨å±•å¼€</span><br>checkBoxs[<span class="hljs-number">1</span>].<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;change&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (checkBoxs[<span class="hljs-number">1</span>].<span class="hljs-property">checked</span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;å¯ç”¨è‡ªåŠ¨å±•å¼€&quot;</span>);<br>        chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>(&#123;<br>            <span class="hljs-title class_">Auto</span><span class="hljs-attr">_expand</span>: <span class="hljs-literal">true</span><br>        &#125;);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;å…³é—­è‡ªåŠ¨å±•å¼€&quot;</span>);<br>        chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>(&#123;<br>            <span class="hljs-title class_">Auto</span><span class="hljs-attr">_expand</span>: <span class="hljs-literal">false</span><br>        &#125;);<br>    &#125;<br>&#125;);<br><br><span class="hljs-comment">//ç ´è§£å¤åˆ¶</span><br>checkBoxs[<span class="hljs-number">2</span>].<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;change&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (checkBoxs[<span class="hljs-number">2</span>].<span class="hljs-property">checked</span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;å¯ç”¨ç ´è§£å¤åˆ¶&quot;</span>);<br>        chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>(&#123;<br>            <span class="hljs-title class_">Enable</span><span class="hljs-attr">_copy</span>: <span class="hljs-literal">true</span><br>        &#125;);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;å…³é—­ç ´è§£å¤åˆ¶&quot;</span>);<br>        chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>(&#123;<br>            <span class="hljs-title class_">Enable</span><span class="hljs-attr">_copy</span>: <span class="hljs-literal">false</span><br>        &#125;);<br>    &#125;<br>&#125;);<br><br><span class="hljs-comment">//æ¸…é™¤å¼¹çª—</span><br>checkBoxs[<span class="hljs-number">3</span>].<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;change&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (checkBoxs[<span class="hljs-number">3</span>].<span class="hljs-property">checked</span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;å¯ç”¨æ¸…é™¤å¼¹çª—&quot;</span>);<br>        chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>(&#123;<br>            <span class="hljs-title class_">Clear</span><span class="hljs-attr">_doms</span>: <span class="hljs-literal">true</span><br>        &#125;);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;å…³é—­æ¸…é™¤å¼¹çª—&quot;</span>);<br>        chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>(&#123;<br>            <span class="hljs-title class_">Clear</span><span class="hljs-attr">_doms</span>: <span class="hljs-literal">false</span><br>        &#125;);<br>    &#125;<br>&#125;);<br><br><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;refresh&quot;</span>).<span class="hljs-property">onclick</span> = <span class="hljs-function">() =&gt;</span> &#123;<br>    chrome.<span class="hljs-property">tabs</span>.<span class="hljs-title function_">query</span>(&#123;<br>        <span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-attr">currentWindow</span>: <span class="hljs-literal">true</span><br>    &#125;, <span class="hljs-keyword">function</span>(<span class="hljs-params">tabs</span>) &#123;<br>        chrome.<span class="hljs-property">scripting</span>.<span class="hljs-title function_">executeScript</span>(&#123;<br>            <span class="hljs-attr">target</span>: &#123;<br>                <span class="hljs-attr">tabId</span>: tabs[<span class="hljs-number">0</span>].<span class="hljs-property">id</span><br>            &#125;,<br>            <span class="hljs-attr">func</span>: refreshPage,<br>        &#125;);<br>    &#125;);<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">refreshPage</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-title function_">reload</span>();<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ä½¿ç”¨è¯´æ˜"><a href="#ä½¿ç”¨è¯´æ˜" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h2><ol><li>ä¸‹è½½æ‰©å±•æ–‡ä»¶</li><li>åœ¨Chromeåœ°å€æ è¾“å…¥<code>chrome://extensions/</code></li><li>å¼€å¯â€å¼€å‘è€…æ¨¡å¼â€</li><li>ç‚¹å‡»â€åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åºâ€é€‰æ‹©é¡¹ç›®æ–‡ä»¶å¤¹</li></ol><p><a href="https://www.lanzoub.com/iTWzE22lfbxa">å®Œæ•´ä»£ç ä¸‹è½½</a> å¯†ç :9dq3</p><blockquote><p>æ³¨æ„ï¼šæœ¬æ‰©å±•ä»…ç”¨äºå­¦ä¹ Chromeæ‰©å±•å¼€å‘ï¼Œè¯·å‹¿ç”¨äºå•†ä¸šç”¨é€”</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> æˆ‘çš„é¡¹ç›® </category>
          
          <category> Chrome </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Chrome </tag>
            
            <tag> Javascript </tag>
            
            <tag> CSDN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Termux-å®‰å“ç»ˆç«¯æ¨¡æ‹Ÿå™¨</title>
      <link href="/posts/a5d9.html"/>
      <url>/posts/a5d9.html</url>
      
        <content type="html"><![CDATA[<p>Termuxæ˜¯ä¸€ä¸ªAndroidä¸‹ä¸€ä¸ªé«˜çº§çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨, å¼€æºä¸”ä¸éœ€è¦rootå³å¯å®‰è£…è¿è¡Œå®¹å™¨ç¯å¢ƒï¼Œé€šè¿‡ä¸€é”®å®‰è£…è„šæœ¬å¯å¿«é€Ÿå®‰è£…ç›¸åº”ç³»ç»Ÿã€‚</p><blockquote><p><strong>å‚è€ƒé“¾æ¥ï¼š</strong></p><p><a href="https://gitee.com/skymysky/linux/">Tmoe-linux: åœ¨ GNU&#x2F;Linux å’ŒAndroid-Termuxä¸Šä¸€é”®å®‰è£… GNU&#x2F;Linuxå®¹å™¨ï¼Œå¹¶è‡ªåŠ¨é…ç½®ä¸­æ–‡ç¯å¢ƒã€‚ (gitee.com)</a></p><p><a href="https://gitee.com/tiankongsnow/linux">Tmoe-linux: åœ¨ GNU&#x2F;Linux å’ŒAndroid-Termuxä¸Šä¸€é”®å®‰è£… GNU&#x2F;Linuxå®¹å™¨ï¼Œå¹¶è‡ªåŠ¨é…ç½®ä¸­æ–‡ç¯å¢ƒã€‚ (gitee.com)</a></p></blockquote><h3 id="ä¸‹è½½åœ°å€"><a href="#ä¸‹è½½åœ°å€" class="headerlink" title="ä¸‹è½½åœ°å€"></a>ä¸‹è½½åœ°å€</h3><p><a href="https://github.com/termux/termux-app/releases">Releases Â· termux&#x2F;termux-app (github.com)</a></p><p>æµ‹è¯•ç‰ˆæœ¬ä¸º0.118</p><h3 id="ä¸€é”®å®‰è£…è„šæœ¬"><a href="#ä¸€é”®å®‰è£…è„šæœ¬" class="headerlink" title="ä¸€é”®å®‰è£…è„šæœ¬"></a>ä¸€é”®å®‰è£…è„šæœ¬</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">bash -c &quot;$(curl -Lv gitee.com/mo2/linux/raw/master/debian.sh)&quot;<br></code></pre></td></tr></table></figure><blockquote><p>å»ºè®®é€‰prootå®¹å™¨ï¼Œæ— rootä¹Ÿå¯å®‰è£…</p><p>ç»æµ‹è¯•Android7ç³»ç»Ÿï¼ŒchrootæŠ¥é”™æ— æ³•æˆåŠŸå®‰è£…ï¼Œå»ºè®®Android8ä»¥ä¸Šå®‰è£…chroot</p></blockquote><h3 id="å¯åŠ¨å®¹å™¨"><a href="#å¯åŠ¨å®¹å™¨" class="headerlink" title="å¯åŠ¨å®¹å™¨"></a>å¯åŠ¨å®¹å™¨</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">debian<br></code></pre></td></tr></table></figure><h3 id="å¯åŠ¨Tmoe"><a href="#å¯åŠ¨Tmoe" class="headerlink" title="å¯åŠ¨Tmoe"></a>å¯åŠ¨Tmoe</h3><p>Tmoeå¯ä»¥ä¿®æ”¹ä¸€äº›é…ç½®</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">tmoe-tools<br></code></pre></td></tr></table></figure><h3 id="å›¾å½¢åŒ–æ¡Œé¢å’ŒVNC"><a href="#å›¾å½¢åŒ–æ¡Œé¢å’ŒVNC" class="headerlink" title="å›¾å½¢åŒ–æ¡Œé¢å’ŒVNC"></a>å›¾å½¢åŒ–æ¡Œé¢å’ŒVNC</h3><p>æ ¹æ®æ‰‹æœºå®é™…æƒ…å†µé€‰æ‹©æ˜¯å¦å®‰è£…ï¼Œè¿‡æ—§çš„æ‰‹æœºå¯èƒ½è¿æ¥å¡é¡¿ï¼Œä½¿ç”¨ä½“éªŒè¾ƒå·®</p><p>æ¨è<strong>xfce</strong>æ¡Œé¢</p><p>å¯åŠ¨å’Œåœæ­¢VNCå‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">startvnc<br>stopvnc<br></code></pre></td></tr></table></figure><h3 id="SSH"><a href="#SSH" class="headerlink" title="SSH"></a>SSH</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt install openssh-server<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç›¸å…³æ•™ç¨‹ </category>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> Termux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cloudflare Zerotrust ä¹‹ Webssh</title>
      <link href="/posts/4763.html"/>
      <url>/posts/4763.html</url>
      
        <content type="html"><![CDATA[<h4 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h4><blockquote><p><a href="https://www.cnblogs.com/kelley-h/p/17516053.html">ä½¿ç”¨cloudflareè½¬å‘sshç«¯å£ - kelley_go - åšå®¢å›­ (cnblogs.com)</a></p><p><a href="https://blog.hellowood.dev/posts/%E4%BD%BF%E7%94%A8cloudflare-tunnels%E9%80%9A%E8%BF%87web-ssh%E8%AE%BF%E9%97%AE%E6%9C%8D%E5%8A%A1%E5%99%A8/">ä½¿ç”¨ Cloudflare Tunnels é€šè¿‡ Web SSH è®¿é—®æœåŠ¡å™¨ (hellowood.dev)</a></p><p><a href="https://blog.csdn.net/stone_fall/article/details/108630115">Linux | systemdè¯¦è§£ | system.service | å‚æ•°è§£æ_remainafterexit-CSDNåšå®¢</a></p><p><a href="https://cloudflared.cn/get-started/create-local-tunnel/">åˆ›å»ºæœ¬åœ°ç®¡ç†éš§é“ (CLI) | Cloudflare Tunnel ä¸­æ–‡æ–‡æ¡£ (cloudflared.cn)</a></p></blockquote><h2 id="å…ˆå†³æ¡ä»¶"><a href="#å…ˆå†³æ¡ä»¶" class="headerlink" title="å…ˆå†³æ¡ä»¶"></a>å…ˆå†³æ¡ä»¶</h2><p>å¿…é¡»éœ€è¦ä¸€ä¸ª cloudflare è´¦å·ï¼Œä»¥åŠå¼€é€š cloudflare zero trust</p><p>å®‰è£…cloudflareï¼š<a href="https://github.com/cloudflare/cloudflared/releases">Releases Â· cloudflare&#x2F;cloudflared (github.com)</a></p><h2 id="é…ç½®-Tunnels"><a href="#é…ç½®-Tunnels" class="headerlink" title="é…ç½® Tunnels"></a>é…ç½® Tunnels</h2><p>Cloudflare æä¾›ä¸¤ç§æ–¹å¼åˆ›å»ºéš§é“ï¼š</p><ol><li>åœ¨ zero trust é¡µé¢ç”¨ web æ·»åŠ æˆæƒ</li><li>åœ¨æœ¬åœ°æœåŠ¡å™¨ï¼ˆraspberryï¼‰ä¸Šç”¨ config æ–‡ä»¶æ·»åŠ </li></ol><p>å»ºè®®é‡‡ç”¨ç¬¬ä¸€ç§æ–¹æ³•ï¼Œé…ç½®è¾ƒä¸ºç›´è§‚ã€‚æœ¬æ•™ç¨‹åªè®²è¿°ç¬¬äºŒç§æ–¹æ³•</p><h3 id="ç™»å½•cloudflared"><a href="#ç™»å½•cloudflared" class="headerlink" title="ç™»å½•cloudflared"></a>ç™»å½•cloudflared</h3><p>å…ˆå®‰è£…cloudflaredï¼Œç„¶åè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">cloudflared tunnel login<br></code></pre></td></tr></table></figure><blockquote><p>ç»ˆç«¯ä¼šç»™å‡ºä¸€ä¸ªç±»ä¼¼ <a href="https://dash.cloudflare.com/argotunnel?callback=https://login.cloudflareaccess.org%25xxxxxxxxxxxxxxxxxxxxxxx">https://dash.cloudflare.com/argotunnel?callback=https%3A%2F%2Flogin.cloudflareaccess.org%xxxxxxxxxxxxxxxxxxxxxxx</a> çš„ç™»é™†åœ°å€ï¼Œå¤åˆ¶é»è´´è¯¥åœ°å€åˆ°æµè§ˆå™¨ä¸­ï¼Œç„¶åæŒ‰ç…§è¦æ±‚ç™»å½•å³å¯ã€‚<br>å¦‚æœæ˜¯æœ‰äºŒæ­¥éªŒè¯çš„ï¼Œéœ€è¦ç™»å½•äº†ä»¥åï¼Œå†æ¬¡é»è´´è¯¥åœ°å€ï¼Œå› ä¸ºäºŒæ­¥éªŒè¯ç»“æŸåå¹¶ä¸ä¼šè‡ªåŠ¨è·³è½¬åˆ°è¯¥ cloudflared éªŒè¯ç™»å½•é¡µé¢ã€‚</p><p>æˆæƒçš„è¯ï¼Œæ¯æ¬¡åªèƒ½é€‰æ‹©ä¸€ä¸ªç½‘ç«™ï¼Œå½“ç„¶ï¼Œä¸€ä¸ªç½‘ç«™ä¹Ÿå°±å¤Ÿç”¨äº†ï¼Œæˆ‘ä»¬å¯ä»¥è§£æå¾ˆå¤šä¸‰çº§åŸŸåã€‚</p><p>å½“ç„¶å¦‚æœéœ€è¦æˆæƒå¤šä¸ªç½‘ç«™ï¼Œæˆæƒå®Œæˆåä¸è¦å…³é—­ç½‘é¡µï¼ä¾æ¬¡ç‚¹å‡»å…¶ä»–éœ€è¦æˆæƒçš„åŸŸåï¼Œè¿›è¡Œå¤šæ¬¡æˆæƒã€‚ </p></blockquote><p>è¿è¡ŒæˆåŠŸçš„è¯ï¼Œä¼šç”Ÿæˆ ~&#x2F;.cloudflared&#x2F;cert.pemæ–‡ä»¶ã€‚</p><h3 id="åˆ›å»ºtunnel"><a href="#åˆ›å»ºtunnel" class="headerlink" title="åˆ›å»ºtunnel"></a>åˆ›å»ºtunnel</h3><p>åˆ›å»ºå®Œä»¥åï¼Œä¼šæŠŠä¿¡æ¯ä¿å­˜åˆ° <code>~ /.cloudflared</code> æ–‡ä»¶å¤¹ä¸‹ï¼Œæ³¨æ„ä¸è¦è¯¯åˆ äº† </p><ul><li><code>cloudflared tunnel create &lt;ä½ çš„éš§é“åå­—&gt;</code></li><li>ç¤ºä¾‹ï¼š <code>cloudflared tunnel create xm2</code></li></ul><h3 id="åˆ›å»ºåŸŸå-CNAME"><a href="#åˆ›å»ºåŸŸå-CNAME" class="headerlink" title="åˆ›å»ºåŸŸå CNAME"></a>åˆ›å»ºåŸŸå CNAME</h3><p>æ·»åŠ ä¸€ä¸ªåŸŸå:</p><ul><li><code>cloudflared tunnel route dns &lt;éš§é“åå­—&gt; &lt;åŸŸå&gt;</code></li><li>ç¤ºä¾‹<code> cloudflared tunnel route dns xm2 ssh.cngo.us.kg</code></li></ul><p>ç„¶å cloudflare å°±ä¼šåœ¨ä½ çš„åŸŸåä¸‹è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª CNAMEï¼ŒæŠŠ ssh.cngo.us.kg æŒ‡å‘ &lt;éš§é“ UUID&gt;.cfargotunnel.com</p><p>ä»¥æ­¤ç±»æ¨ï¼Œæˆ‘ä»¬å¯ä»¥å¦‚æ³•ç‚®åˆ¶åœ¨é¢æ¿ä¸Šæ·»åŠ å…¶ä»–çš„éœ€è¦çš„ CNAME</p><h3 id="é…ç½®-Config-æ–‡ä»¶"><a href="#é…ç½®-Config-æ–‡ä»¶" class="headerlink" title="é…ç½® Config æ–‡ä»¶"></a>é…ç½® Config æ–‡ä»¶</h3><p>æ·»åŠ å¥½æƒ³è¦ç©¿é€çš„åŸŸååï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹æ˜ å°„äº†ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">sudo vim  ~/.cloudflared/config.yml</span><br><br>tunnel: 8d7488ac-fae9-4672-bb34-f864c7b0b385<br>credentials-file: /home/android/.cloudflared/8d7488ac-fae9-4672-bb34-f864c7b0b385.json<br><br>ingress:<br>  - hostname: ssh.cngo.us.kg<br>    service: ssh://localhost:22<br>  - service: http_status:404<br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼šæœ€åçš„ - service: http_status:404 ä¸€å®šè¦åŠ ï¼Œè¿™æ˜¯å…œåº•çš„è§„åˆ™ã€‚è¿˜æœ‰å¤åˆ¶é»è´´çš„æ—¶å€™ç¡®ä¿æ ¼å¼æ²¡æœ‰é”™è¯¯ï¼Œå¾ˆå¯èƒ½ä¼šå‘ç”Ÿ mapping errorã€‚</p><p>æœ€åç”Ÿæ•ˆçš„é…ç½®æ–‡ä»¶ä½ç½® &#x2F;etc&#x2F;cloudflared&#x2F;config.yml </p><h3 id="é…ç½®å®Œä»¥åï¼Œå¯ä»¥æµ‹è¯•ä¸‹é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰é—®é¢˜ã€‚"><a href="#é…ç½®å®Œä»¥åï¼Œå¯ä»¥æµ‹è¯•ä¸‹é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰é—®é¢˜ã€‚" class="headerlink" title="é…ç½®å®Œä»¥åï¼Œå¯ä»¥æµ‹è¯•ä¸‹é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰é—®é¢˜ã€‚"></a>é…ç½®å®Œä»¥åï¼Œå¯ä»¥æµ‹è¯•ä¸‹é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰é—®é¢˜ã€‚</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># sudo cloudflared --config ~/.cloudflared/config.yml  tunnel ingress validate</span><br>Validating rules from /home/android/.cloudflared/config.yml<br>OK<br></code></pre></td></tr></table></figure><h3 id="å¯åŠ¨éš§é“"><a href="#å¯åŠ¨éš§é“" class="headerlink" title="å¯åŠ¨éš§é“"></a>å¯åŠ¨éš§é“</h3><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs arduino">cloudflared tunnel --config [é…ç½®æ–‡ä»¶è·¯å¾„] run`<br>ç¤ºä¾‹ï¼š`cloudflared tunnel --config ~/.cloudflared/config.yml run<br></code></pre></td></tr></table></figure><h3 id="ç§»é™¤å·²æœ‰æœåŠ¡"><a href="#ç§»é™¤å·²æœ‰æœåŠ¡" class="headerlink" title="ç§»é™¤å·²æœ‰æœåŠ¡"></a>ç§»é™¤å·²æœ‰æœåŠ¡</h3><p>è‹¥ä»¥å‰é…ç½®è¿‡cloudflaredæœåŠ¡ï¼Œåˆ™éœ€è¦å…ˆå¸è½½ï¼ŒåŒæ—¶ç§»é™¤é…ç½®æ–‡ä»¶<code>/etc/cloudflared/config.yml</code>ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo cloudflared service uninstall<br><br>sudo rm /etc/cloudflared/config.yml<br></code></pre></td></tr></table></figure><h3 id="å®‰è£…cloudflaredæœåŠ¡"><a href="#å®‰è£…cloudflaredæœåŠ¡" class="headerlink" title="å®‰è£…cloudflaredæœåŠ¡"></a>å®‰è£…cloudflaredæœåŠ¡</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo cloudflared --config ~/.cloudflared/config.yml service install<br><br><br>2024-06-22T15:40:40Z INF Using SysV<br>2024-06-22T15:40:41Z INF Linux service for cloudflared installed successfully<br></code></pre></td></tr></table></figure><blockquote><p>æŒ‡å®šå®‰è£…configæ–‡ä»¶ï¼Œå¦åˆ™å¯èƒ½æŠ¥é”™ï¼š</p><p>Cannot determine default configuration path. No file [config.yml config.yaml] in [~&#x2F;.cloudflared ~&#x2F;.cloudflare-warp ~&#x2F;cloudflare-warp &#x2F;etc&#x2F;cloudflared &#x2F;usr&#x2F;local&#x2F;etc&#x2F;cloudflared]</p></blockquote><h3 id="é…ç½®Linuxç³»ç»ŸæœåŠ¡cloudflared-service"><a href="#é…ç½®Linuxç³»ç»ŸæœåŠ¡cloudflared-service" class="headerlink" title="é…ç½®Linuxç³»ç»ŸæœåŠ¡cloudflared.service"></a>é…ç½®Linuxç³»ç»ŸæœåŠ¡cloudflared.service</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo vim /usr/lib/systemd/system/cloudflared.service<br></code></pre></td></tr></table></figure><p>åŠ å…¥å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs text">[Unit]<br>Description=Cloudflared<br>After=network.target<br><br>[Service]<br>Type=simple<br>ExecStart=/etc/init.d/cloudflared start<br>ExecReload=/etc/init.d/cloudflared restart<br>ExecStop=/etc/init.d/cloudflared stop<br><br>Restart=on-failure<br>TimeoutSec=300<br><br>[Install]<br>WantedBy=multi-user.target<br></code></pre></td></tr></table></figure><p>ç„¶åé…ç½®å¼€æœºè‡ªå¯åŠ¨ï¼Œç”±äºchrootå®¹å™¨ä¸æ”¯æŒsystemctlï¼Œå¯æ ¹æ®ä¸‹åˆ—é“¾æ¥å®‰è£…servicectlå‘½ä»¤</p><blockquote><p><a href="https://www.cnblogs.com/sw-code/p/14998645.html">å®‰å“æ‰‹æœºæ”¹é€ æœåŠ¡å™¨â€”â€”è§£å†³chrootä¸‹æ— æ³•ä½¿ç”¨systemctl - sw-code - åšå®¢å›­ (cnblogs.com)</a></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo systemctl enable cloudflared<br><span class="hljs-meta prompt_">#</span><span class="language-bash">or</span><br>sudo servicectl enable cloudflared<br></code></pre></td></tr></table></figure><h2 id="åˆ›å»º-SSH-åº”ç”¨"><a href="#åˆ›å»º-SSH-åº”ç”¨" class="headerlink" title="åˆ›å»º SSH åº”ç”¨"></a>åˆ›å»º SSH åº”ç”¨</h2><ul><li>åˆ›å»ºåº”ç”¨</li></ul><p>åœ¨ Cloudflare æ§åˆ¶å° &gt; Zero Trust &gt; Access &gt; Applications é€‰æ‹© Add an application åˆ›å»ºæ–°çš„åº”ç”¨ï¼›åº”ç”¨ç±»å‹ä¸º Self-hosted</p><p><img src="https://img.hellowood.dev/picture/homelab-cloudflare-ssh-application-create.png" alt="homelab-cloudflare-ssh-application-create.png"></p><ul><li>é…ç½®åº”ç”¨ä¿¡æ¯</li></ul><p>æŒ‡å®šåº”ç”¨åç§°ï¼Œå¹¶ä¸ºåº”ç”¨é…ç½®åŸŸåï¼›session çš„è¿‡æœŸæ—¶é—´å¯ä»¥æŒ‰éœ€é…ç½®</p><p><img src="https://img.hellowood.dev/picture/homelab-cloudflare-ssh-configuration-application.png" alt="homelab-cloudflare-ssh-configuration-application.png"></p><ul><li>æŒ‡å®šè®¿é—®ç­–ç•¥</li></ul><p>éœ€è¦é…ç½®è®¿é—®ç­–ç•¥ï¼Œåªå…è®¸ç‰¹å®šçš„é‚®ç®±ç™»é™†ï¼›å¦‚æœéœ€è¦ä½¿ç”¨å…¶ä»–çš„è®¤è¯æ–¹å¼ï¼Œå¦‚ GitHub&#x2F;Google SSO ç­‰ï¼Œå¯ä»¥åœ¨ Cloudflare æ§åˆ¶å° &gt; Zero Trust &gt; Settings &gt; Authentication &gt; Login Methods ä¸­æ·»åŠ </p><p><img src="https://img.hellowood.dev/picture/homelab-cloudflare-ssh-configuration-policy.png" alt="homelab-cloudflare-ssh-configuration-policy.png"></p><ul><li>ä¿®æ”¹åº”ç”¨ç±»å‹</li></ul><p>åœ¨ Additional settings ä¸­ï¼Œå°† Browser rendering çš„ç±»å‹æ”¹ä¸º SSHï¼›ç„¶åé€‰æ‹©ä¿å­˜ï¼Œè¿™æ ·å°±é…ç½®å¥½ SSH åº”ç”¨äº†</p><p><img src="https://img.hellowood.dev/picture/homelab-cloudflare-ssh-set-application-type.png" alt="homelab-cloudflare-ssh-set-application-type.png"></p><h2 id="è¸©å‘ç»å†"><a href="#è¸©å‘ç»å†" class="headerlink" title="è¸©å‘ç»å†"></a>è¸©å‘ç»å†</h2><p>é€šè¿‡cloudnsé…ç½®çš„åŸŸåæœªæ·»åŠ å­åŸŸåNSï¼Œå¯¼è‡´CNAMEä¸ç”Ÿæ•ˆï¼Œä¸€å®šè¦ç¡®ä¿åŸŸåCNAMEæ˜¯ç”Ÿæ•ˆçš„</p>]]></content>
      
      
      <categories>
          
          <category> ç›¸å…³æ•™ç¨‹ </category>
          
          <category> Cloudflare </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Cloudflare </tag>
            
            <tag> Zerotrust </tag>
            
            <tag> SSH </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cloudflareç›¸å…³æ•™ç¨‹</title>
      <link href="/posts/a111.html"/>
      <url>/posts/a111.html</url>
      
        <content type="html"><![CDATA[<p>â€‹<strong>Cloudflareæ˜¯å¶æ»´ç¥ï¼</strong></p><ol><li><h2 id="Workers-Pages-é¡¹ç›®é›†"><a href="#Workers-Pages-é¡¹ç›®é›†" class="headerlink" title="Workers &amp; Pages é¡¹ç›®é›†"></a>Workers &amp; Pages é¡¹ç›®é›†</h2><ul><li><a href="https://github.com/zhuima/awesome-cloudflare">GitHub - zhuima&#x2F;awesome-cloudflare: ç²¾é€‰çš„ Cloudflare å·¥å…·ã€å¼€æºé¡¹ç›®ã€æŒ‡å—ã€åšå®¢å’Œå…¶ä»–èµ„æºåˆ—è¡¨</a></li><li><a href="https://jialikemeng.github.io/post/Cloudflare%20Workers%20-you-xiu-xiang-mu-ji-jing.html">Cloudflare Workers ä¼˜ç§€é¡¹ç›®é›†æ™¯ (jialikemeng.github.io)</a></li><li><a href="https://igdux.com/workers">Cloudflare Workersä¼˜ç§€é¡¹ç›®æ”¶é›†ï¼ˆæŒç»­æ›´æ–°ï¼‰ - iGdu (igdux.com)</a></li></ul></li><li><h2 id="ZeroTurst-å†…ç½‘ç©¿é€ç³»åˆ—"><a href="#ZeroTurst-å†…ç½‘ç©¿é€ç³»åˆ—" class="headerlink" title="ZeroTurst å†…ç½‘ç©¿é€ç³»åˆ—"></a>ZeroTurst å†…ç½‘ç©¿é€ç³»åˆ—</h2><ul><li><p><a href="https://dmesg.app/cloudflare">Cloudflare | åœŸè±†ä¸å¥½åƒ (dmesg.app)</a></p><p>å½“ç„¶å¦‚æœä¸æƒ³æ”¹ config é‚£ä¹ˆä¹Ÿå¯ä»¥</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">cloudflared access ssh <span class="hljs-attr">--hostname</span> ssh<span class="hljs-selector-class">.dmesg</span><span class="hljs-selector-class">.app</span> <span class="hljs-attr">--url</span> <span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">10022</span><br></code></pre></td></tr></table></figure><p>ç„¶åå¦å¤–ä¸€ä¸ªçª—å£</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">ssh</span> root@<span class="hljs-number">127.0.0.1</span> -p <span class="hljs-number">10022</span><br></code></pre></td></tr></table></figure></li><li><p><a href="https://josephcz.xyz/technology/network/cloudflare-webssh-zerotrust/">ä½¿ç”¨ Cloudflare ZeroTrust æ­å»º WebSSH | Josephâ€™s Blog (josephcz.xyz)</a></p></li></ul></li><li><h2 id="å¾…æ›´æ–°"><a href="#å¾…æ›´æ–°" class="headerlink" title="å¾…æ›´æ–°"></a>å¾…æ›´æ–°</h2></li></ol>]]></content>
      
      
      <categories>
          
          <category> ç›¸å…³æ•™ç¨‹ </category>
          
          <category> Cloudflare </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Cloudflare </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo|Fluidä¸»é¢˜å†™ä½œæŒ‡å—</title>
      <link href="/posts/d574.html"/>
      <url>/posts/d574.html</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€å®˜æ–¹æ–‡æ¡£"><a href="#ä¸€ã€å®˜æ–¹æ–‡æ¡£" class="headerlink" title="ä¸€ã€å®˜æ–¹æ–‡æ¡£"></a>ä¸€ã€å®˜æ–¹æ–‡æ¡£</h2><p><a href="https://hexo.io/zh-cn/docs/">ğŸ”—æ–‡æ¡£ | Hexo</a></p><p><a href="https://hexo.fluid-dev.com/docs/">ğŸ”—Hexo Fluid ç”¨æˆ·æ‰‹å†Œ (fluid-dev.com)</a></p><p><a href="https://www.imooc.com/wiki/markdownlesson">ğŸ”—Markdown å…¥é—¨æ•™ç¨‹-æ…•è¯¾ç½‘ (imooc.com)</a></p><h2 id="äºŒã€æ–‡ç« å…ƒæ•°æ®é…ç½®-Front-matter"><a href="#äºŒã€æ–‡ç« å…ƒæ•°æ®é…ç½®-Front-matter" class="headerlink" title="äºŒã€æ–‡ç« å…ƒæ•°æ®é…ç½®(Front-matter)"></a>äºŒã€æ–‡ç« å…ƒæ•°æ®é…ç½®(Front-matter)</h2><h3 id="front-matterï¼ˆæ–‡ç« å‰æ³¨ï¼‰"><a href="#front-matterï¼ˆæ–‡ç« å‰æ³¨ï¼‰" class="headerlink" title="front-matterï¼ˆæ–‡ç« å‰æ³¨ï¼‰"></a>front-matterï¼ˆæ–‡ç« å‰æ³¨ï¼‰</h3><p>Front-matter æ˜¯æ–‡ä»¶æœ€ä¸Šæ–¹ä»¥ <code>---</code> åˆ†éš”çš„åŒºåŸŸï¼Œç”¨äºæŒ‡å®šä¸ªåˆ«æ–‡ä»¶çš„å˜é‡</p><blockquote><p>è¦ä¿®æ”¹<code>hexo new &quot;&#123;æ–‡ç« å&#125;&quot;</code>æ—¶ç”Ÿæˆçš„é»˜è®¤Front-matteræ¨¡æ¿ï¼Œå¯ä¿®æ”¹<strong>æ¨¡æ¿æ–‡ä»¶</strong><code>/scaffolds/post.md</code></p></blockquote><blockquote><p>è¡¨æ ¼å±…ä¸­æ–¹æ³•ï¼š<a href="https://www.cnblogs.com/jianmuzi/p/16795528.html">Markdownè¡¨æ ¼å±…ä¸­æ˜¾ç¤º - jianmuzi - åšå®¢å›­ (cnblogs.com)</a></p></blockquote><div style="width: auto; display: table; margin-left: auto; margin-right: auto;"><table><thead><tr><th>é¡¹</th><th>é‡Šä¹‰</th></tr></thead><tbody><tr><td>title</td><td>æ–‡ç« æ ‡é¢˜</td></tr><tr><td>date</td><td>å»ºç«‹æ—¥æœŸ</td></tr><tr><td>updated</td><td>æ›´æ–°æ—¶é—´</td></tr><tr><td>sticky</td><td>è®¾ç½®è¯¥é¡¹æ—¶ç½®é¡¶ï¼Œå€¼è¶Šå¤§è¶Šé å‰</td></tr><tr><td>tags</td><td>æ ‡ç­¾ [Hexo, Fluid]</td></tr><tr><td>categories</td><td>åˆ†ç±» [Technical articles, Linux] [ä¸€çº§åˆ†ç±»ï¼ŒäºŒçº§åˆ†ç±»]</td></tr><tr><td>index_img</td><td>åšå®¢ä¸»é¡µçš„æ–‡ç« ç¼©ç•¥å›¾</td></tr><tr><td>banner_img</td><td>æ–‡ç« é¡µé¡¶éƒ¨å¤§å›¾</td></tr><tr><td>category_bar</td><td>å·¦ä¾§æ˜¾ç¤ºåŒåˆ†ç±»æ–‡ç« </td></tr><tr><td>comments</td><td>è¯„è®ºå¼€å…³æˆ–æŒ‡å®šè¯„è®ºç³»ç»Ÿ</td></tr><tr><td>math</td><td>æ•°å­¦å…¬å¼æ¸²æŸ“å¼€å…³</td></tr><tr><td>mermaid</td><td>æµç¨‹å›¾æ¸²æŸ“å¼€å…³</td></tr><tr><td>hide</td><td>æ˜¯å¦éšè—ï¼Œè¿™ä¸¤ä¸ªè®¾ç½®äº†å°±ä¸ä¼šæ˜¾ç¤ºåœ¨é¦–é¡µäº†</td></tr><tr><td>archive</td><td>æ˜¯å¦å½’æ¡£</td></tr><tr><td>excerpt&#x2F;description</td><td>æ–‡ç« æ‘˜è¦</td></tr><tr><td>layout</td><td>å¸ƒå±€ï¼Œæ–‡ç« é»˜è®¤post</td></tr></tbody></table></div><div class="note note-success">            <p>ä¼˜åŒ–æ–‡ç« é“¾æ¥æ ¼å¼</p><p>å‚è€ƒï¼š<a href="https://hexo.ltski.com/p/20190112020314/">Hexoåšå®¢è¿›é˜¶ä¹‹æ–‡ç« é“¾æ¥â€”è‡ªå®šä¹‰æ°¸ä¹…é“¾æ¥ | ITsuKiã®åšå®¢å°ç«™ (ltski.com)</a></p><p><a href="https://blog.dejavu.moe/posts/hexo-permalinks/">ä¼˜åŒ– Hexo ç½‘ç«™çš„æ°¸ä¹…é“¾æ¥æ ¼å¼ Â· Dejavuâ€™s Blog</a></p>          </div><h2 id="ä¸‰ã€å¤šåª’ä½“åµŒå…¥"><a href="#ä¸‰ã€å¤šåª’ä½“åµŒå…¥" class="headerlink" title="ä¸‰ã€å¤šåª’ä½“åµŒå…¥"></a>ä¸‰ã€å¤šåª’ä½“åµŒå…¥</h2><h3 id="1-è§†é¢‘"><a href="#1-è§†é¢‘" class="headerlink" title="1. è§†é¢‘"></a>1. è§†é¢‘</h3><p>å‚è€ƒé“¾æ¥ï¼š<a href="https://github.com/MoePlayer/hexo-tag-dplayer">MoePlayer&#x2F;hexo-tag-dplayer: Embed dplayer in Hexo posts&#x2F;pages (github.com)</a></p><p>æµ‹è¯•è§†é¢‘URLï¼š<a href="https://blog.csdn.net/weixin_41010198/article/details/88055078">MP4è§†é¢‘æµ‹è¯•URLåœ°å€ï¼Œäº²æµ‹æœ‰æ•ˆ_è§†é¢‘åœ°å€-CSDNåšå®¢</a></p><p>ç¤ºä¾‹è§†é¢‘æºï¼š</p><ul><li><a href="https://media.w3.org/2010/05/sintel/trailer.mp4">https://media.w3.org/2010/05/sintel/trailer.mp4</a></li><li><a href="https://pan.cngo.xyz/raw/public/trailer.mp4">https://pan.cngo.xyz/raw/public/trailer.mp4</a></li></ul><p>ä½¿ç”¨dplayeræ’ä»¶åµŒå…¥è§†é¢‘ï¼š</p><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gcode">&#123;<span class="hljs-meta">%</span> dplayer <span class="hljs-string">&quot;url=http://vjs.zencdn.net/v/oceans.mp4&quot;</span> <span class="hljs-string">&quot;pic=&quot;</span> <span class="hljs-string">&quot;autoplay=false&quot;</span>  <span class="hljs-meta">%</span>&#125;<br></code></pre></td></tr></table></figure><br><div id="dplayer0" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer0"),"video":{"url":"https://pan.cngo.xyz/raw/public/trailer.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script><h3 id="2-å›¾ç‰‡"><a href="#2-å›¾ç‰‡" class="headerlink" title="2. å›¾ç‰‡"></a>2. å›¾ç‰‡</h3><p>åŸºæœ¬æ’å…¥æ–¹å¼ï¼š</p><p><img src="/assets/img/preview.jpeg"></p><p>å¤šå›¾å±•ç¤ºï¼ˆ3åˆ—å¸ƒå±€ï¼‰ï¼š</p><p>æœ¬ç«™å›¾ç‰‡</p><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/assets/img/wG636.jpg"></div><div class="group-image-wrap"><img src="/assets/img/pam225.jpg"></div><div class="group-image-wrap"><img src="/assets/img/background.jpg"></div></div></div><p>å¼•ç”¨å›¾ç‰‡ &gt; æµ‹è¯•åŒä¸€å¼ å›¾ç‰‡ä¸åŒæºçš„å“åº”</p><blockquote><p>blob: <a href="https://github.com/cngoxu/hexo/blob/main/assets/img/preview.jpeg">https://github.com/cngoxu/hexo/blob/main/assets/img/preview.jpeg</a><br>raw: <a href="https://raw.githubusercontent.com/cngoxu/hexo/main/assets/img/preview.jpeg">https://raw.githubusercontent.com/cngoxu/hexo/main/assets/img/preview.jpeg</a></p></blockquote><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="https://cdn.jsdelivr.net/gh/cngoxu/hexo@master/assets/img/preview.jpeg"></div><div class="group-image-wrap"><img src="https://rawcdn.githack.com/cngoxu/hexo/main/assets/img/preview.jpeg"></div><div class="group-image-wrap"><img src="https://cdn.statically.io/gh/cngoxu/hexo/main/assets/img/preview.jpeg"></div></div><div class="group-image-row"><div class="group-image-wrap"><img src="https://hub.gitmirror.com/https://raw.githubusercontent.com/cngoxu/hexo/main/assets/img/preview.jpeg"></div><div class="group-image-wrap"><img src="https://raw.gitmirror.com/cngoxu/hexo/main/assets/img/preview.jpeg"></div><div class="group-image-wrap"><img src="https://gh.api.99988866.xyz/https://raw.githubusercontent.com/cngoxu/hexo/main/assets/img/preview.jpeg"></div></div></div><h2 id="å››ã€è‡ªå®šä¹‰å®ç°"><a href="#å››ã€è‡ªå®šä¹‰å®ç°" class="headerlink" title="å››ã€è‡ªå®šä¹‰å®ç°"></a>å››ã€è‡ªå®šä¹‰å®ç°</h2><p>é€šè¿‡ç¼–å†™hexoå†…ç½®ejsæ¨¡æ¿å®ç°</p><ol><li>å¡ç‰‡é“¾æ¥</li></ol><div><a target="_blank" href=https://hexo.fluid-dev.com/docs/  style="position: relative; display: -webkit-box; display: -webkit-flex; display: -ms-flexbox; display: flex; box-sizing: border-box; -webkit-flex-direction: row; -ms-flex-direction: row; flex-direction: row; -webkit-align-items: center; -webkit-box-align: center; -ms-flex-align: center; align-items: center; width: 390px; min-height: 84px; border-radius: 8px; max-width: 100%; overflow: hidden; margin: 16px auto; padding: 12px 12px 9px 12px; background-color: #ddd;"><span class="LinkCard-contents"><span style="display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; max-height: 40px; line-height: 1.25; color: #121212;">Hexo Fluid ç”¨æˆ·æ‰‹å†Œ</span><span style="display: -webkit-box; font-size: 13px; height: 18px; line-height: 18px; color: #999; word-break: break-all; text-overflow: ellipsis; overflow: hidden; -webkit-line-clamp: 1; -webkit-box-orient: vertical;"><span style="display: inline-flex; align-items: center;"><svg class="Zi Zi--InsertLink" fill="currentColor" viewBox="0 0 24 24" width="14" height="14"><path d="M13.414 4.222a4.5 4.5 0 1 1 6.364 6.364l-3.005 3.005a.5.5 0 0 1-.707 0l-.707-.707a.5.5 0 0 1 0-.707l3.005-3.005a2.5 2.5 0 1 0-3.536-3.536l-3.005 3.005a.5.5 0 0 1-.707 0l-.707-.707a.5.5 0 0 1 0-.707l3.005-3.005zm-6.187 6.187a.5.5 0 0 1 .638-.058l.07.058.706.707a.5.5 0 0 1 .058.638l-.058.07-3.005 3.004a2.5 2.5 0 0 0 3.405 3.658l.13-.122 3.006-3.005a.5.5 0 0 1 .638-.058l.069.058.707.707a.5.5 0 0 1 .058.638l-.058.069-3.005 3.005a4.5 4.5 0 0 1-6.524-6.196l.16-.168 3.005-3.005zm8.132-3.182a.25.25 0 0 1 .353 0l1.061 1.06a.25.25 0 0 1 0 .354l-8.132 8.132a.25.25 0 0 1-.353 0l-1.061-1.06a.25.25 0 0 1 0-.354l8.132-8.132z"></path></svg></span><span>https://hexo.fluid-dev.com/docs/ </span></span></span></a></div><h2 id="äº”ã€é«˜çº§æ’ç‰ˆåŠŸèƒ½"><a href="#äº”ã€é«˜çº§æ’ç‰ˆåŠŸèƒ½" class="headerlink" title="äº”ã€é«˜çº§æ’ç‰ˆåŠŸèƒ½"></a>äº”ã€é«˜çº§æ’ç‰ˆåŠŸèƒ½</h2><h3 id="1-ä¾¿ç­¾"><a href="#1-ä¾¿ç­¾" class="headerlink" title="1. ä¾¿ç­¾"></a>1. ä¾¿ç­¾</h3><div class="note note-success">            <p>è¿™æ˜¯ä¸€ä¸ªä¾¿ç­¾</p>          </div><p class="note note-primary">è¿™æ˜¯ä¸€ä¸ªHTMLå½¢å¼ä¾¿ç­¾</p><h3 id="2-æ ‡ç­¾"><a href="#2-æ ‡ç­¾" class="headerlink" title="2. æ ‡ç­¾"></a>2. æ ‡ç­¾</h3><p>è¿™æ˜¯ä¸€ä¸ª<span class="label label-primary">æ ‡ç­¾</span></p><p>è¿™æ˜¯ä¸€ä¸ªè¡Œå†…<span class="label label-warning">HTMLæ ‡ç­¾</span></p><h3 id="3-æŠ˜å å—"><a href="#3-æŠ˜å å—" class="headerlink" title="3. æŠ˜å å—"></a>3. æŠ˜å å—</h3>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-278eddbe" role="button" aria-expanded="false" aria-controls="collapse-278eddbe">        <div class="fold-arrow">â–¶</div>æŠ˜å å†…å®¹çš„æ ‡é¢˜      </div>      <div class="fold-collapse collapse" id="collapse-278eddbe">        <div class="fold-content">          <p>è¿™é‡Œæ˜¯æŠ˜å æ˜¾ç¤ºçš„å†…å®¹ï¼Œæ”¯æŒMarkdown</p>        </div>      </div>    </div><h3 id="4-å‹¾é€‰æ¡†"><a href="#4-å‹¾é€‰æ¡†" class="headerlink" title="4. å‹¾é€‰æ¡†"></a>4. å‹¾é€‰æ¡†</h3><div>            <input type="checkbox"  checked="checked">å‹¾é€‰æ¡†ç¤ºä¾‹True          </div><div>            <input type="checkbox"  >å‹¾é€‰æ¡†ç¤ºä¾‹False          </div><h3 id="5-æŒ‰é’®"><a href="#5-æŒ‰é’®" class="headerlink" title="5. æŒ‰é’®"></a>5. æŒ‰é’®</h3><a class="btn" href="/"  title="ç‚¹å‡»å¯è·³è½¬" target="_blank">è·³è½¬åˆ°é¦–é¡µ</a><p><a class="btn" href="/" title="ç‚¹å‡»å¯è·³è½¬">è·³è½¬åˆ°é¦–é¡µ</a></p><h3 id="6-å¼•ç”¨å—-blockquote"><a href="#6-å¼•ç”¨å—-blockquote" class="headerlink" title="6. å¼•ç”¨å— blockquote"></a>6. å¼•ç”¨å— blockquote</h3><blockquote><p>Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.</p><footer><strong>David Levithan</strong><cite>Wide Awake</cite></footer></blockquote><h3 id="7-è„šæ³¨"><a href="#7-è„šæ³¨" class="headerlink" title="7. è„šæ³¨"></a>7. è„šæ³¨</h3><p>è¿™æ˜¯ä¸€å¥è¯<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="å‚è€ƒèµ„æ–™1">[1]</span></a></sup></p><h2 id="å…­ã€ç‰¹æ®ŠåŠŸèƒ½"><a href="#å…­ã€ç‰¹æ®ŠåŠŸèƒ½" class="headerlink" title="å…­ã€ç‰¹æ®ŠåŠŸèƒ½"></a>å…­ã€ç‰¹æ®ŠåŠŸèƒ½</h2><h3 id="1-ä»£ç å—"><a href="#1-ä»£ç å—" class="headerlink" title="1. ä»£ç å—"></a>1. ä»£ç å—</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">```python<br>def main():<br>    foo()<br>    print(&quot;python&quot;)<br>```<br></code></pre></td></tr></table></figure><blockquote><p>è‹¥ä½¿ç”¨Fluidä¸»é¢˜ï¼Œå¯ä»¥åœ¨ä¸»é¢˜çš„configæ–‡ä»¶ä¸­å¼€å¯ä»£ç è¡Œå·æ˜¾ç¤ºå’Œä¸€é”®copyåŠŸèƒ½</p></blockquote><h3 id="2-LaTeXæ•°å­¦å…¬å¼"><a href="#2-LaTeXæ•°å­¦å…¬å¼" class="headerlink" title="2. LaTeXæ•°å­¦å…¬å¼"></a>2. LaTeXæ•°å­¦å…¬å¼</h3><p>ä½¿ç”¨Fluidä¸»é¢˜çš„Latexå…¬å¼éœ€è¦æ³¨æ„å…¬å¼å¼•æ“å’Œæ¸²æŸ“å™¨ï¼Œå…·ä½“é…ç½®è¿‡ç¨‹å¯ä»¥å‚è€ƒ<a href="https://hexo.fluid-dev.com/docs/guide/#latex-%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F">è¿™é‡Œ</a>ã€‚<br>$$<br>F(0) &#x3D; \frac{1}{T}\int_0^T f(x)dx<br>$$</p><p>$$<br>E&#x3D;mc^2<br>$$</p><h3 id="3-Mermaidæµç¨‹å›¾"><a href="#3-Mermaidæµç¨‹å›¾" class="headerlink" title="3. Mermaidæµç¨‹å›¾"></a>3. Mermaidæµç¨‹å›¾</h3><pre><code class=" mermaid">classDiagramClass01 &lt;|-- AveryLongClass : CoolClass03 *-- Class04Class05 o-- Class06Class07 .. Class08Class09 --&gt; C2 : Where am i?Class09 --* C3Class09 --|&gt; Class07Class07 : equals()Class07 : Object[] elementDataClass01 : size()Class01 : int chimpClass01 : int gorillaClass08 &lt;--&gt; C2: Cool label</code></pre><div class="note note-warning">            <p>æ³¨æ„ï¼šæ‰€æœ‰åŠŸèƒ½éœ€è¦ä¸»é¢˜æ”¯æŒï¼Œä¸åŒä¸»é¢˜çš„æ˜¾ç¤ºæ•ˆæœå¯èƒ½æœ‰æ‰€å·®å¼‚ã€‚å»ºè®®åœ¨å®é™…ä½¿ç”¨å‰å…ˆè¿›è¡Œæµ‹è¯•ã€‚</p>          </div><section class="footnotes"><h3>å‚è€ƒèµ„æ–™</h3><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>å‚è€ƒèµ„æ–™1<a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:2" class="footnote-text"><span>å‚è€ƒèµ„æ–™2<a href="#fnref:2" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
      
      
      <categories>
          
          <category> ç›¸å…³æ•™ç¨‹ </category>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Fluid </tag>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°ç±³å¹³æ¿2ROOTæ•™ç¨‹</title>
      <link href="/posts/adfa.html"/>
      <url>/posts/adfa.html</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸‹è½½å¼€å‘ç‰ˆçº¿åˆ·åŒ…"><a href="#ä¸‹è½½å¼€å‘ç‰ˆçº¿åˆ·åŒ…" class="headerlink" title="ä¸‹è½½å¼€å‘ç‰ˆçº¿åˆ·åŒ…"></a>ä¸‹è½½å¼€å‘ç‰ˆçº¿åˆ·åŒ…</h3><blockquote><p>é“¾æ¥1ï¼š<a href="https://roms.miuier.com/zh-cn/devices/latte/">å°ç±³å¹³æ¿ 2(latte) å®˜æ–¹ROMä¸‹è½½ - MIUIå®˜æ–¹ROMä»“åº“ (miuier.com)</a></p><p>é“¾æ¥2ï¼š<a href="https://xiaomirom.com/rom/mipad-2-latte-china-fastboot-recovery-rom">å°ç±³å¹³æ¿ 2 (latte) å›½è¡Œç‰ˆ Fastboot çº¿åˆ·åŒ… &amp; Recovery å¡åˆ·åŒ… ROM</a></p></blockquote><p>æ‰¾åˆ°å¼€å‘ç‰ˆæœ€æ–°8.4.26</p><ul><li><strong>æœºå‹åç§° ï¼š</strong>å°ç±³å¹³æ¿ 2</li><li><strong>æœºå‹ä»£å· ï¼š</strong>latte</li><li><strong>è§£é” B L ï¼š</strong>æ‰€æœ‰çº¿åˆ·éƒ½ä»¥è§£é”Bootloaderä¸ºå‰æï¼Œå¹¶ä¸”è§£é”Bootloaderæ—¶ä¼šæ¸…é™¤æ•°æ®</li></ul><h3 id="å‡†å¤‡åˆ·æœºå·¥å…·"><a href="#å‡†å¤‡åˆ·æœºå·¥å…·" class="headerlink" title="å‡†å¤‡åˆ·æœºå·¥å…·"></a>å‡†å¤‡åˆ·æœºå·¥å…·</h3><p>ä¸¤ç§æ–¹æ³•(å„è‡ªæˆåŠŸä¸€æ¬¡)</p><ul><li><h4 id="OneKey2MIUI"><a href="#OneKey2MIUI" class="headerlink" title="OneKey2MIUI"></a>OneKey2MIUI</h4><blockquote><p>å‚è€ƒé“¾æ¥ï¼š<a href="https://blog.csdn.net/weixin_41939688/article/details/103223262">å°ç±³å¹³æ¿2 Windowsåˆ·å›MIUI9çº¿åˆ·æ•™ç¨‹ï¼ˆ2019ï¼‰_onekey2miui-CSDNåšå®¢</a></p><p>é“¾æ¥: <a href="https://pan.baidu.com/s/1eCYqyz_idXjjD_PjU3GQPg">https://pan.baidu.com/s/1eCYqyz_idXjjD_PjU3GQPg</a>æå–ç : m4bf</p></blockquote><ol><li><p>å®‰è£…é©±åŠ¨ Intel_Android_Driver_v1.10.0</p></li><li><p>å¹³æ¿è¿›å…¥DNX FASTBOOT MODE</p><p>å…³æœºçŠ¶æ€ä¸‹ï¼ŒæŒ‰ä½éŸ³é‡+ã€éŸ³é‡-ã€ç”µæºé”®å¼€æœº</p></li><li><p>è¿æ¥ç”µè„‘ï¼Œ<strong>é…ç½®è®¾å¤‡é©±åŠ¨ç¨‹åº</strong></p><p>è®¾å¤‡ç®¡ç†å™¨æ‰¾åˆ°æ¥å…¥è®¾å¤‡ï¼Œé…ç½®é©±åŠ¨ç¨‹åºä¸ºIntel Android AD</p><p>æµè§ˆè®¡ç®—æœºä¸Šçš„é©±åŠ¨ç¨‹åº-ä»è®¡ç®—æœºä¸Šçš„å¯ç”¨é©±åŠ¨åˆ—è¡¨ä¸­é€‰å–-android Phone-android ADB interface</p></li><li><p>å¤åˆ¶ä¸€é”®åˆ·æœºæ–‡ä»¶<code>OneKey2MIUI</code>åˆ°çº¿åˆ·åŒ…æ–‡ä»¶å¤¹</p></li><li><p>åŒå‡»æ‰“å¼€<code>DNX_flash_all.bat</code>å¼€å§‹åˆ·æœº</p></li></ol></li><li><h4 id="XiaomiFlash"><a href="#XiaomiFlash" class="headerlink" title="XiaomiFlash"></a>XiaomiFlash</h4><p>XiaomiFlashå®˜æ–¹åˆ·æœºå·¥å…·ä½¿ç”¨ç®€å•ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œä½ å¯ä»¥é€šè¿‡è¯¥æ¬¾å°ç±³çº¿åˆ·å·¥å…·æ¥å¯¹å°ç±³æ‰‹æœºè¿›è¡Œåˆ·æœºæ“ä½œã€‚</p><blockquote><p>å‚è€ƒé“¾æ¥ï¼š<a href="https://onfix.cn/course/319?bid=1&mid=119">å°ç±³ï¼ˆMiï¼‰ å¹³æ¿2å°ç±³ï¼ˆMiï¼‰ å¹³æ¿2 æ‰‹æœºFastbootçº¿åˆ·è¯¦ç»†æ•™ç¨‹ï¼Œé€šè¿‡çº¿åˆ·çš„å‡çº§æ–¹æ³•åˆ·æœºè§£é” (onfix.cn)</a></p><p>ä¸‹è½½åœ°å€ï¼š<a href="https://pan.baidu.com/s/1TtnpCaISzJ0oeJ9l_2fzqA">https://pan.baidu.com/s/1TtnpCaISzJ0oeJ9l_2fzqA</a>æå–å¯†ç ï¼šx1v7</p></blockquote><ol><li>å®‰è£…é©±åŠ¨ï¼šä¸‹è½½å¹¶è§£å‹åˆ·æœºå·¥å…·ï¼ŒåŒå‡»â€œXiaoMiFlash.exeâ€è¿è¡Œï¼Œç‚¹å‡»ã€Driverã€‘å¼¹å‡ºçª—å£åç‚¹å‡»ã€å®‰è£…ã€‘</li><li>è¿›å…¥Fastbootæ¨¡å¼ï¼šå…³æœºçŠ¶æ€ä¸‹ï¼ŒåŒæ—¶æŒ‰ä½éŸ³é‡ä¸Šä¸‹+ç”µæºé”®è¿›å…¥DNX Fastbootæ¨¡å¼ï¼Œå°†æ‰‹æœºUSBè¿æ¥ç”µè„‘ï¼Œç„¶å€ŸåŠ©å·¥å…·<strong>OneKey2MIUI</strong>è¿›å…¥Fastbootæ¨¡å¼</li><li>åŠ è½½è®¾å¤‡ï¼Œåˆ·æœºç¨‹åºä¼šè‡ªåŠ¨è¯†åˆ«æ‰‹æœº</li><li>é€‰æ‹©è§£å‹åçš„çº¿åˆ·åŒ…ç›®å½•ï¼Œå¼€å§‹åˆ·æœº</li></ol></li></ul><h3 id="è§£é”Bootloader-ä¸æ¸…æ¥šæ€ä¹ˆæˆåŠŸçš„"><a href="#è§£é”Bootloader-ä¸æ¸…æ¥šæ€ä¹ˆæˆåŠŸçš„" class="headerlink" title="è§£é”Bootloader(ä¸æ¸…æ¥šæ€ä¹ˆæˆåŠŸçš„)"></a>è§£é”Bootloader(ä¸æ¸…æ¥šæ€ä¹ˆæˆåŠŸçš„)</h3><ul><li>è¿›å…¥Fastbootæ¨¡å¼è¿æ¥ç”µè„‘</li><li>é…ç½®é©±åŠ¨ä¸ºAndroid Bootloader Interface</li></ul><blockquote><p>æ„Ÿè§‰æ²¡ç”¨:<a href="https://web.vip.miui.com/page/info/mio/mio/detail?postId=42491267&app_version=dev.20051">Bootloaderè§£é”æ•™ç¨‹ (miui.com)</a></p><p>è§£é”å·¥å…·:<a href="http://www.miui.com/unlock/index.html">ç”³è¯·è§£é”å°ç±³æ‰‹æœº (miui.com)</a></p></blockquote><h3 id="å‡†å¤‡ROOT"><a href="#å‡†å¤‡ROOT" class="headerlink" title="å‡†å¤‡ROOT"></a>å‡†å¤‡ROOT</h3><p>ä¸¤ç§æ–¹æ³•</p><ul><li><p>åˆ·å…¥ç¬¬ä¸‰æ–¹Recovery(æˆåŠŸ)</p><blockquote><p>æ•™ç¨‹ï¼š<a href="https://www.bilibili.com/video/BV12K4y1K73n/?vd_source=14453b684dcfb0e5fd9184685a513661">å°ç±³å¹³æ¿2è·å–rootï¼Œåˆ·twrpæ•™ç¨‹_å“”å“©å“”å“©_bilibili</a></p><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1bQtQ0ZcV58WOZ43HtjhrBA">https://pan.baidu.com/s/1bQtQ0ZcV58WOZ43HtjhrBA</a> æå–ç :g58o</p></blockquote><ol><li><p>å…³æœºçŠ¶æ€ä¸‹æŒ‰ç”µæºé”®å¼€æœºï¼Œæ¥ç€åŒæ—¶æŒ‰ä½éŸ³é‡ä¸Šå’Œä¸‹é”®ï¼Œç›´åˆ°è¿›å…¥DNXæ¨¡å¼ã€‚</p><p>PSï¼šè¿›å…¥åï¼Œä¼šæœ‰ä¸€å¥é»„è‰²å­—ä½“çš„è¯ï¼šDNX FASTBOOT MODEâ€¦â€¦ è¯´æ˜è¿›å…¥äº†DNXæ¨¡å¼</p></li><li><p>ç´§æ¥ç€ç”¨æ•°æ®çº¿è¿æ¥ç”µè„‘ï¼Œç„¶åç‚¹å‡»<code>MIPAD2ä¸€é”®RECå·¥å…·.bat</code>ï¼Œã€ç¡®è®¤å°ç±³å¹³æ¿è¿›å…¥DNXæ¨¡å¼åï¼Œæ’å…¥æ•°æ®çº¿ï¼Œã€‘</p></li><li><p>ä¼šå‡ºç°ä¸¤ä¸ªé€‰é¡¹ï¼ˆ1æ˜¯åˆ·å…¥ç¬¬ä¸‰æ–¹recovery 2æ˜¯æ¢å¤å®˜æ–¹recoveryï¼‰ è¾“å…¥1</p></li><li><p>è‹¥æˆåŠŸ,åˆ™è¿›å…¥â€™â€™å¤§MIâ€ç•Œé¢,twrpå°±åˆ·å…¥å®Œæˆäº†</p></li><li><p>è¿›å…¥Android,å¤åˆ¶SuperSU Pro_v2.49.zipå¡åˆ·åŒ…æ”¾å…¥æ ¹ç›®å½•ä¸‹</p></li><li><p>???è¿›å…¥Recoveryæ¨¡å¼,ã€å…³æœºæŒ‰éŸ³é‡+åŠ ç”µæºè¿›å…¥å¤§ç±³è­¦å‘Šåå†æŒ‰éŸ³é‡+åŠ ç”µæºè¿›å…¥twrpã€‘</p></li><li><p>Swip,ç‚¹å‡»Cacheå’Œdataè¿›è¡ŒåŒæ¸…ï¼ˆè®°å¾—æå‰å¤‡ä»½å¥½æ•°æ®ï¼‰</p></li><li><p>ç„¶åæŒ‰åº•éƒ¨çš„æ¡Œé¢é”®è¿”å›èœå•ï¼Œé€‰æ‹©Installâ€”&#x2F;sdcardç›®å½•ä¸‹å¾€ä¸‹æ‹‰ï¼Œæ‰¾åˆ°ä½ ä¹‹å‰æ”¾å…¥çš„rootå¡åˆ·åŒ…ã€SuperSU Pro_v2.49ã€‘</p></li><li><p>ç‚¹å‡»Rebootâ€”Systmeï¼šé‡å¯è¿›å…¥ç³»ç»Ÿï¼Œä¼šå‡ºç°ä¸€ä¸ªè¿™ä¸ªå¤§ç±³è­¦å‘Šç•Œé¢ï¼Œå…ˆæŒ‰éŸ³é‡ä¸Šé”®ï¼Œå‡ºç°å¤§ç±³ä¸‹é¢æ²¡æœ‰å­—åå†æŒ‰éŸ³é‡ä¸‹é”®é€€å‡ºè¿›å…¥ç³»ç»Ÿ</p></li></ol></li><li><p>å®˜æ–¹ç‰ˆ(æµ‹è¯•æ—¶Permission Deny)</p><blockquote><p><a href="https://tieba.baidu.com/p/4642340406">ã€æŠ€æœ¯ã€å°ç±³å¹³æ¿2 rootæ•™ç¨‹_å°ç±³å¹³æ¿å§_ç™¾åº¦è´´å§ (baidu.com)</a></p><p>é™„ä»¶ï¼šROOTMIPAD2.rar<br>ä¸‹è½½åœ°å€ï¼š<a href="http://pan.baidu.com/s/1skAyUvF">http://pan.baidu.com/s/1skAyUvF</a></p></blockquote><ol><li>åˆ·æˆå¼€å‘ç‰ˆï¼Œåœ¨ç”µè„‘ä¸‹è½½æä¾›çš„é™„ä»¶å¹¶è§£å‹</li><li>å¹³æ¿è¿æ¥ç”µè„‘å¹¶å¼€å¯usbè°ƒè¯•</li><li>åŒå‡»ROOT.batï¼Œå¹¶æŒ‰ç…§å¼¹å‡ºçª—å£çš„æç¤ºæŒ‰å›è½¦ï¼ˆä»»æ„é”®ï¼‰ï¼Œå¹³æ¿ä¼šè‡ªåŠ¨é‡å¯ï¼ˆé‡å¯æ—¶å°±å¯ä»¥æ‹”æ‰æ•°æ®çº¿äº†ï¼‰</li><li>å¹³æ¿é‡å¯åæ‰“å¼€SuperSuï¼Œæ›´æ–°é€‰æ‹©å¸¸è§„æ¨¡å¼</li><li>å¹³æ¿ä¼šå†æ¬¡é‡å¯ï¼Œä¹‹åå°±å–å¾—äº†rootæƒé™</li><li>ä¸è¦ç”¨å…¶ä»–rootè½¯ä»¶ä»£æ›¿ï¼ä¼šå¡ç±³ï¼ï¼ˆå¦‚Kingrootï¼Œä¸€é”®rootï¼Œ360rootï¼‰</li></ol></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç›¸å…³æ•™ç¨‹ </category>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> Root </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux Deploy è‡ªå®šä¹‰é…ç½® Ubuntu20.04.6LTS(focal)</title>
      <link href="/posts/557a.html"/>
      <url>/posts/557a.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>å‡†å¤‡æ¡ä»¶ï¼šä¸€éƒ¨å®‰å“æ‰‹æœºï¼Œéœ€è¦root</p><p>å®‰è£…æ–¹å¼ï¼šè‡ªå®šä¹‰å®‰è£…Linuxé•œåƒ</p><p>å‚è€ƒé“¾æ¥</p><ul><li><a href="https://blog.csdn.net/qq_28817367/article/details/130394040">å®‰å“å®‰è£…Linux Deploy åŸºç¡€å®‰è£…&amp;&amp;è‡ªå®šä¹‰å®‰è£…-CSDNåšå®¢</a></li><li><a href="https://blog.csdn.net/qq_43509120/article/details/121429387">linux deployå®‰è£…æŒ‡å—(å‡çº§)-CSDNåšå®¢</a></li><li><a href="https://www.cnblogs.com/sw-code/p/14990229.html">ä½¿ç”¨Linux Deployå°†é—²ç½®çš„å®‰å“æ‰‹æœºæ”¹é€ ç®€æ˜“æœåŠ¡å™¨ - sw-code - åšå®¢å›­ (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/sw-code/p/14998645.html">è§£å†³chrootä¸‹æ— æ³•ä½¿ç”¨systemctl </a></li></ul></blockquote><h2 id="1-å®‰è£…Busybox"><a href="#1-å®‰è£…Busybox" class="headerlink" title="1.å®‰è£…Busybox"></a>1.å®‰è£…Busybox</h2><ul><li>ä¸‹è½½å®‰è£…busyboxï¼š<a href="https://github.com/meefik/busybox">https://github.com/meefik/busybox</a>ï¼Œç‰ˆæœ¬1.34.1</li><li>éœ€è¦rootæƒé™ï¼ŒInstall è·¯å¾„é»˜è®¤ system&#x2F;xbin</li><li>Tipsï¼šè¯¥è½¯ä»¶æœ€å¥½å®‰è£…ï¼Œå®‰è£…åä¼šè‡ªå¸¦å¾ˆå¤šLinuxå‘½ä»¤é›†ï¼Œæ¯”å¦‚pingå‘½ä»¤ï¼Œä¸å®‰è£…çš„è¯ä½¿ç”¨pingå‘½ä»¤ä¼šæç¤ºnot find command</li></ul><h2 id="2-Linux-Deploy"><a href="#2-Linux-Deploy" class="headerlink" title="2.Linux Deploy"></a>2.Linux Deploy</h2><ul><li><p>ä¸‹è½½å®‰è£…Linux Deploy ï¼š<a href="https://github.com/meefik/linuxdeploy">https://github.com/meefik/linuxdeploy</a>ï¼Œç‰ˆæœ¬2.6.0</p></li><li><p>å·¦ä¸Šè§’è®¾ç½®ç¯å¢ƒå¦‚ä¸‹ï¼Œç„¶åæ›´æ–°æ“ä½œç¯å¢ƒï¼š</p><blockquote><p>ENVç›®å½•  &#x2F;data&#x2F;user&#x2F;0&#x2F;ru.meefik.linuxdeploy&#x2F;files</p><p>PATHå˜é‡  &#x2F;system&#x2F;xbin</p></blockquote></li></ul><h2 id="3-å®¹å™¨å®‰è£…é…ç½®"><a href="#3-å®¹å™¨å®‰è£…é…ç½®" class="headerlink" title="3.å®¹å™¨å®‰è£…é…ç½®"></a>3.å®¹å™¨å®‰è£…é…ç½®</h2><ol><li><p>å‘è¡Œç‰ˆï¼š rootfs.tar</p></li><li><p>æºè·¯å¾„ ï¼š é€‰å–æœ¬åœ°æ–‡ä»¶ï¼ˆå…¨è·¯å¾„+æ–‡ä»¶åï¼‰${EXTERNAL_SRORAGE}&#x2F;rootfs.tar.xz</p><p>ä¸‹è½½åœ°å€ï¼š<a href="https://mirrors.bfsu.edu.cn/lxc-images/images/ubuntu/focal/arm64/cloud/20240610_08%3A13/rootfs.tar.xz">https://mirrors.bfsu.edu.cn/lxc-images/images/ubuntu/focal/arm64/cloud/20240610_08%3A13/rootfs.tar.xz</a></p><p>å¯åœ¨å³ä¸Šè§’çŠ¶æ€ä¸­æŸ¥çœ‹ç³»ç»Ÿæ¶æ„ï¼Œå°ç±³å¹³æ¿2é€‰æ‹©amd64ï¼ŒLe2é€‰æ‹©arm64</p></li><li><p>å®‰è£…ç±»å‹ï¼š é•œåƒ</p></li><li><p>å®‰è£…è·¯å¾„ï¼š${EXTERNAL_SRORAGE}&#x2F;Linux&#x2F;ubuntu.img</p></li><li><p>é•œåƒå¤§å°ï¼š <strong>å¯¹åº”å®¹å™¨å¤§å°</strong>ï¼ˆ10240Mä¹Ÿèƒ½æˆåŠŸï¼‰</p><p>ä¸è¦é€‰æ‹©è‡ªåŠ¨è€Œæ˜¯512Mä»¥ä¸Šçš„å€¼, å¹¶ä¸”å¦‚æœä½ æ˜¯é€šè¿‡busyboxå®‰è£…çš„linuxæŒ‡ä»¤ç¯å¢ƒé‚£ä¹ˆé•œåƒæ–‡ä»¶å¤§å°ä¹Ÿä¸èƒ½è¶…è¿‡2G</p></li><li><p>æ–‡ä»¶ç±»å‹: é€‰æ‹© ext4 å³å¯</p></li><li><p>ç”¨æˆ·ååŠå¯†ç è‡ªè¡Œè®¾ç½®å³å¯(ä¸è¦è®¾ç½® root ç”¨æˆ·å³å¯)</p></li><li><p>æœ¬åœ°åŒ–ï¼š zh_CN.UTF-8</p></li><li><p>æŒ‚è½½ç‚¹ï¼š å³å°†æ‰‹æœºç›®å½•æŒ‚åœ¨è½½å®‰è£…çš„ linux ä¸‹æŸä¸ªç›®å½•, çœ‹è‡ªå·±éœ€æ±‚</p><p>ä¾‹ï¼š&#x2F;storage&#x2F;emulated&#x2F;0:&#x2F;mnt&#x2F;sdcard&#x2F;</p></li><li><p>SSHï¼š ç”±äº rootfs æ–‡ä»¶é‡Œé¢ä¸€èˆ¬æ²¡æœ‰ openssh-server, å› æ­¤å®‰è£…æ—¶è¿™é‡Œä¸å‹¾é€‰ã€‚ç­‰åˆ°å®Œæˆåå†é€šè¿‡å†…éƒ¨é€šé“å®‰è£… openssh-server æ‰“å¼€ ssh æœåŠ¡</p></li><li><p>GUIï¼š å®‰è£…é˜¶æ®µè¯·å‹¿å‹¾é€‰, ä¼šå¤±è´¥, rootfs.tar æ²¡æœ‰ç›¸å…³èµ„æº</p></li></ol><h2 id="4-å®‰è£…"><a href="#4-å®‰è£…" class="headerlink" title="4.å®‰è£…"></a>4.å®‰è£…</h2><ul><li><p>ç‚¹å‡»å³ä¸Šè§’å®‰è£…</p><blockquote><p>è‹¥æŠ¥é”™making file systemï¼ˆext4ï¼‰â€¦failï¼Œåˆ™æ˜¯å› ä¸ºåœ¨å®‰è£…è·¯å¾„å·²æœ‰é•œåƒæ–‡ä»¶ï¼Œåˆ é™¤åé‡æ–°å®‰è£…</p></blockquote></li></ul><h2 id="5-è¿›å…¥è™šæ‹Ÿæœºç¯å¢ƒ"><a href="#5-è¿›å…¥è™šæ‹Ÿæœºç¯å¢ƒ" class="headerlink" title="5.è¿›å…¥è™šæ‹Ÿæœºç¯å¢ƒ"></a>5.è¿›å…¥è™šæ‹Ÿæœºç¯å¢ƒ</h2><p>æ— SSHï¼Œé€šè¿‡å…¶ä»–æ–¹æ³•è¿›å…¥è™šæ‹Ÿæœºç¯å¢ƒï¼ˆä¸‰ç§å¯é€‰ï¼‰</p><ul><li><p>ç‚¹å‡»Linux Deployå·¦ä¸Šè§’è®¾ç½®ï¼Œæ‰“å¼€Telneté€‰é¡¹ï¼Œè®°ä½ç«¯å£å·ï¼Œå…³é—­ä»…æœ¬åœ°ä¸»æœºå¯è¿</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">telnet &#123;ipåœ°å€&#125; 5023<br></code></pre></td></tr></table></figure></li><li><p>å¼€å¯USBè°ƒè¯•ï¼Œä½¿ç”¨adbè¿›å…¥</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">adb shell<br></code></pre></td></tr></table></figure></li><li><p>å®‰è£…è½¯ä»¶JuiceSSH</p><p>å®‰è£…é“¾æ¥ï¼š<a href="https://fga1.market.xiaomi.com/download/AppStore/057dfe47c57b04f8e0009b7d4c9bb08c5dea90066/com.sonelli.juicessh.apk">å°ç±³åº”ç”¨å•†åº—</a></p><p>æ–°å»ºè¿æ¥ï¼Œç±»å‹é€‰æ‹©æœ¬åœ°è®¾å¤‡ï¼Œç‚¹å³ä¸Šè§’å¯¹å‹¾å³å¯</p></li></ul><p>è¾“å…¥suå›è½¦ï¼Œå–å¾—rootè¶…çº§æƒé™</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">su<br></code></pre></td></tr></table></figure><p>è¾“å…¥ä»¥ä¸‹å‘½ä»¤å›è½¦ï¼Œè¿›å…¥å®‰è£…çš„è™šæ‹Ÿæœºå†…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">/data/user/0/ru.meefik.linuxdeploy/files/bin/linuxdeploy shell -u root<br></code></pre></td></tr></table></figure><blockquote><p>æ­¤æ—¶å¯èƒ½æŠ¥é”™ï¼šchroot: canâ€™t execute â€˜&#x2F;bin&#x2F;suâ€™: No such file or directory</p><p>ä¸çŸ¥é“ä¸ºä»€ä¹ˆä¼šæŠ¥è¿™ä¸ªé”™ï¼Œé‡å¯æ‰‹æœºï¼Œä¸è¡Œå°±é‡è£…</p></blockquote><p>æˆåŠŸè¿›å…¥ä¼šå‡ºç°[root@localhost#] å³è¡¨ç¤ºç™»å½•è¿›å®¹å™¨å†…ã€‚</p><h2 id="6-å…¶ä»–é—®é¢˜è§£å†³"><a href="#6-å…¶ä»–é—®é¢˜è§£å†³" class="headerlink" title="6.å…¶ä»–é—®é¢˜è§£å†³"></a>6.å…¶ä»–é—®é¢˜è§£å†³</h2><ol><li><p>ä¿®å¤DNSè§£æé”™è¯¯</p><p>åˆ é™¤&#x2F;etc&#x2F;resolv.conf, é‡æ–°åˆ›å»ºä¸€ä¸ª&#x2F;etc&#x2F;resolv.confæ–‡ä»¶, å»ºè®®æŠŠæƒé™è®¾ç½®ä¸º755ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">rm /etc/resolv.conf<br>touch /etc/resolv.conf &amp;&amp; chmod 755 /etc/resolv.conf<br></code></pre></td></tr></table></figure><p>ç„¶ååœ¨è½¯ä»¶é¡µé¢å…ˆstopå†ä½¿ç”¨å‰é¢è¿›å…¥å®¹å™¨, å†ç”¨viå‘½ä»¤æŸ¥çœ‹<code>/etc/resolv.conf</code>æ–‡ä»¶å†…å®¹æ˜¯å¦ä¸ä½ çš„ç½‘å…³ç›¸åŒ¹é…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">vi /etc/resolv.conf<br>cat /etc/resolv.conf<br></code></pre></td></tr></table></figure><p>æœ€å, ä½¿ç”¨ping baidu.comå‘½ä»¤æ£€æŸ¥ç½‘ç»œè¿æ¥, ä½†æ˜¯å¯èƒ½æ­¤æ—¶å¹¶ä¸èƒ½è¿›è¡Œè½¯ä»¶ä¸‹è½½å’Œæ›´æ–°, å› ä¸ºç°åœ¨è½¯ä»¶æºæ—¶å›½å¤–çš„æºã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">ping baidu.com<br></code></pre></td></tr></table></figure></li><li><p>ä¿®å¤aptå®‰è£…é”™è¯¯</p><p>ä½¿ç”¨viä¿®æ”¹&#x2F;etc&#x2F;passwdä¸­_aptçš„65535ï¼ˆ65534ï¼‰ä¸º3003ã€‚æ“ä½œ: å‘½ä»¤: <code>vi /etc/passwd</code>, å†è¾“å…¥<code>/_apt</code>å†æŒ‰<code>enter</code>, å†æŒ‰<code>ié”®</code>, ä¿®æ”¹65535ï¼ˆ65534ï¼‰ä¸º3003, å†æŒ‰<code>ESCé”®</code>æœ€åå†æŒ‰:<code>wqå›è½¦</code>ä¿å­˜å³å¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">vi /etc/passwd<br></code></pre></td></tr></table></figure></li><li><p>æ›´æ–°è½¯ä»¶æºä¸ºå›½å†…æº:</p><p>å³ä¿®æ”¹<code>/etc/source.list</code>æ–‡ä»¶ä¸ºå›½å†…ç½‘æ˜“, é˜¿é‡Œ, ä¸­ç§‘å¤§ç­‰çš„é•œåƒç½‘ç«™ã€‚å¯ä»¥è¯•è¯•ç™¾åº¦ä¿®æ”¹debian(ç‰ˆæœ¬) å›½å†…æº, ç„¶å<code>apt-get update</code>åé¢å°±æ˜¯å®‰è£…è½¯ä»¶äº†</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">vi /etc/source.list<br>apt-get update<br></code></pre></td></tr></table></figure><p>æ¨èåŒ—å¸ˆå¤§è½¯ä»¶æºï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs text">deb https://mirrors.bfsu.edu.cn/ubuntu/ focal main restricted universe multiverse<br>deb https://mirrors.bfsu.edu.cn/ubuntu/ focal-updates main restricted universe multiverse<br>deb https://mirrors.bfsu.edu.cn/ubuntu/ focal-backports main restricted universe multiverse<br>deb https://mirrors.bfsu.edu.cn/ubuntu/ focal-security main restricted universe multiverse<br></code></pre></td></tr></table></figure></li><li><p>å®‰è£…SSHæœåŠ¡ç«¯</p><p>ä¸Šé¢çš„å·¥ä½œå®Œæˆåç°åœ¨å®‰è£…SSHæœåŠ¡ç«¯å¼€å¯SSHæœåŠ¡å³å¯, è¾“å…¥<code>apt install openssh-server</code>, ç„¶ååœ¨linux deployè½¯ä»¶å®¹å™¨é…ç½®é‡Œå‹¾é€‰SSHå³å¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">apt install openssh-server<br></code></pre></td></tr></table></figure></li><li><p>ç”¨æˆ·æ— æ³•ä½¿ç”¨ping</p><p>rootç”¨æˆ·ç™»å½•ä½¿ç”¨å‘½ä»¤<code>usermod -G 3003 root</code>, é‡å¯å®¹å™¨è§£å†³ã€‚æ–°åˆ›å»ºçš„ç”¨æˆ·åªæ˜¯å°†rootæ”¹ä¸ºæ–°åˆ›å»ºçš„ç”¨æˆ·åå³å¯ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">usermod -G 3003 root<br></code></pre></td></tr></table></figure></li><li><p>rootç™»å½•å…¶ä»–ç”¨æˆ·tabé”®å¤±æ•ˆ</p><p>rootè´¦æˆ·ç™»å½•ç»ˆç«¯è¾“å…¥<code>ln -sf /bin/bash /bin/sh</code>, è½¯é“¾æ¥bashå’Œsh, æˆ–è€…æœç´¢ åˆ‡æ¢é»˜è®¤shä¸ºbash</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">ln -sf /bin/bash /bin/sh<br></code></pre></td></tr></table></figure></li></ol><h2 id="7-sshè¿æ¥"><a href="#7-sshè¿æ¥" class="headerlink" title="7.sshè¿æ¥"></a>7.sshè¿æ¥</h2><ul><li><p>å³ä¸‹è§’å¯ç”¨SSHï¼Œé»˜è®¤22ç«¯å£</p></li><li><p>å³ä¸Šè§’ç‚¹å‡»é…ç½®ï¼Œé‡æ–°é…ç½®æ–‡ä»¶</p></li><li><p>ç‚¹å‡»å¯åŠ¨ï¼Œçœ‹åˆ°sshåº”è¯¥å¯åŠ¨äº†</p></li></ul><blockquote><p>å¯èƒ½å‡ºç° Permissions 0644 for â€˜&#x2F;Users&#x2F;â€¦&#x2F;.ssh&#x2F;..â€™ are too openâ€¦ï¼ˆé‡è£…å®¹å™¨è§£å†³ï¼‰</p></blockquote><h2 id="8-å¤‡ä»½-rootfs"><a href="#8-å¤‡ä»½-rootfs" class="headerlink" title="8.å¤‡ä»½ rootfs"></a>8.å¤‡ä»½ rootfs</h2><p>å³ä¸Šè§’å¯¼å‡ºï¼Œé€‰æ‹©å¯¼å‡ºä½ç½®ï¼Œç­‰å¾…å®Œæˆå³å¯</p><h2 id="9-è§£å†³chrootä¸‹æ— æ³•ä½¿ç”¨systemctl"><a href="#9-è§£å†³chrootä¸‹æ— æ³•ä½¿ç”¨systemctl" class="headerlink" title="9.è§£å†³chrootä¸‹æ— æ³•ä½¿ç”¨systemctl"></a>9.è§£å†³chrootä¸‹æ— æ³•ä½¿ç”¨systemctl</h2><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">wget https://github.com/smaknsk/servicectl/archive/1.0.tar.gz<br>sudo tar -xf 1.0.tar.gz -C /usr/local/lib/<br>sudo ln -s /usr/local/lib/servicectl-1.0/servicectl /usr/bin/servicectl<br>sudo ln -s /usr/local/lib/servicectl-1.0/serviced /usr/bin/serviced<br></code></pre></td></tr></table></figure><h3 id="ä½¿ç”¨servicectl"><a href="#ä½¿ç”¨servicectl" class="headerlink" title="ä½¿ç”¨servicectl"></a>ä½¿ç”¨servicectl</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo servicectl action service<br></code></pre></td></tr></table></figure><p>â€æ­¤å‘½ä»¤ä»…æ‰§è¡Œæ–‡ä»¶ <code>/usr/lib/systemd/system/$&#123;service&#125;.service</code>ä¸­çš„<code>$&#123;action&#125;</code>ï¼Œ å¦‚æœé€šè¿‡çš„æ“ä½œå¯ç”¨æˆ–ç¦ç”¨ï¼Œåˆ™<code>servicectl</code>å°†åœ¨ <code>$&#123;service&#125;.service</code>ä¸Šåˆ›å»ºæˆ–åˆ é™¤<code>symlink</code>ä»¥ä¾›ä½¿ç”¨æœåŠ¡ã€‚â€</p><p>å‚æ•°:</p><ul><li>action - å¯ä»¥æ˜¯ {<code>start</code>, <code>stop</code>, <code>restart</code>, <code>reload</code>, <code>enable</code>, <code>disable</code>}</li><li>service -åœ¨<code>/usr/lib/systemd/system/</code>æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶</li></ul><h3 id="ä½¿ç”¨serviced"><a href="#ä½¿ç”¨serviced" class="headerlink" title="ä½¿ç”¨serviced"></a>ä½¿ç”¨serviced</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs undefined">sudo serviced action<br></code></pre></td></tr></table></figure><p>â€æ­¤å‘½ä»¤æ‰§è¡Œ <code>$&#123;action&#125;</code> ä¸ºæ‰€æœ‰å¯ç”¨æœåŠ¡ã€‚â€</p><p>å‚æ•°:</p><ul><li>action -é»˜è®¤æ˜¯<code>start</code>ï¼Œä¹Ÿå¯ä»¥æ˜¯ï¼š {<code>start</code>, <code>stop</code>, <code>restart</code>, <code>reload</code>, <code>disable</code>}</li></ul><h3 id="ä¾‹å¦‚"><a href="#ä¾‹å¦‚" class="headerlink" title="ä¾‹å¦‚"></a>ä¾‹å¦‚</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># inside chroot</span><br>sudo servicectl <span class="hljs-built_in">enable</span> mariadb<br><br><span class="hljs-comment"># outside chroot: </span><br><span class="hljs-comment"># init startup and run all enabled daemons</span><br>sudo <span class="hljs-built_in">chroot</span> /path/to/chroot serviced<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç›¸å…³æ•™ç¨‹ </category>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LinuxDeploy </tag>
            
            <tag> Ubuntu </tag>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœ¬åšå®¢æ˜¯å¦‚ä½•æ­å»ºçš„</title>
      <link href="/posts/aa1a.html"/>
      <url>/posts/aa1a.html</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¿™ä¸ªåšå®¢ä½¿ç”¨äº†<a href="https://hexo.io/zh-cn/index.html">Hexo</a> åšå®¢æ¡†æ¶+<a href="https://hexo.fluid-dev.com/">Fluid</a>ä¸»é¢˜+Markdownæ–‡æ¡£ç¼–å†™ï¼Œæ‰˜ç®¡åœ¨Github PagesæœåŠ¡ä¸Šï¼ˆåæ¥è¿åˆ°Cloudflare Pagesï¼‰</p><p>å‚è€ƒé“¾æ¥ï¼š<a href="https://zhuanlan.zhihu.com/p/514982831?utm_id=0">æ­å»ºä¸ªäººåšå®¢ â€” Hexo+Markdown+Github Pages - çŸ¥ä¹ (zhihu.com)</a></p><h2 id="ç½‘ç«™æ­å»º"><a href="#ç½‘ç«™æ­å»º" class="headerlink" title="ç½‘ç«™æ­å»º"></a>ç½‘ç«™æ­å»º</h2><h3 id="1-ç¯å¢ƒå‡†å¤‡å’Œæ¡†æ¶å®‰è£…"><a href="#1-ç¯å¢ƒå‡†å¤‡å’Œæ¡†æ¶å®‰è£…" class="headerlink" title="1. ç¯å¢ƒå‡†å¤‡å’Œæ¡†æ¶å®‰è£…"></a>1. ç¯å¢ƒå‡†å¤‡å’Œæ¡†æ¶å®‰è£…</h3><ul><li><p><strong>å®‰è£…Node.js</strong>ï¼šè®¿é—®<a href="http://nodejs.org/">Node.jså®˜ç½‘</a>ä¸‹è½½å®‰è£…ï¼Œå»ºè®®nodejsç‰ˆæœ¬18ä»¥ä¸Šã€‚</p></li><li><p><strong>å®‰è£…Git</strong>ï¼šä»<a href="http://git-scm.com/">Gitå®˜ç½‘</a>è·å–å®‰è£…åŒ…</p></li><li><p><strong>å®‰è£…Hexo</strong>ï¼šé€šè¿‡npmå®‰è£…Hexoæ¡†æ¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install -g hexo-cli<br></code></pre></td></tr></table></figure></li></ul><blockquote><p><a href="https://hexo.io/zh-cn/index.html">Hexo</a> æ˜¯ä¸€æ¬¾å¿«é€Ÿç®€æ´é«˜æ•ˆçš„åšå®¢æ¡†æ¶ï¼Œå¯æ”¯æŒæœ¬åœ°ã€è¿œç«¯æœåŠ¡å™¨è¿è¡Œä»¥åŠä½¿ç”¨Github PageåŠŸèƒ½è¿›è¡Œæ‰˜ç®¡ï¼Œæ˜¯ç”¨äºæ£é¼“è‡ªå·±çš„ç¬”è®°å’Œå†™æ–‡ç« å‘å¸ƒçš„åˆ©å™¨ã€‚Hexoæ˜¯åŸºäºNode.jsçš„æœåŠ¡ï¼Œå› æ­¤é¦–å…ˆéœ€è¦ä¸‹è½½<a href="http://nodejs.org/">Node.js</a>, ä»¥åŠ<a href="http://git-scm.com/">Git</a>ï¼ˆç”¨äºåç»­æ‹‰å–æ–‡ä»¶ï¼‰ã€‚ä¹‹åçš„è¿‡ç¨‹ï¼Œå¯å®Œå…¨æ ¹æ®<a href="https://hexo.io/zh-cn/docs/">Hexoå®˜æ–¹å»ºç«™æ–‡æ¡£</a>ä¸€æ­¥æ­¥å®Œæˆã€‚</p></blockquote><h3 id="2-å»ºç«‹åšå®¢é¡¹ç›®"><a href="#2-å»ºç«‹åšå®¢é¡¹ç›®" class="headerlink" title="2. å»ºç«‹åšå®¢é¡¹ç›®"></a>2. å»ºç«‹åšå®¢é¡¹ç›®</h3><h4 id="é¡¹ç›®åˆå§‹åŒ–"><a href="#é¡¹ç›®åˆå§‹åŒ–" class="headerlink" title="é¡¹ç›®åˆå§‹åŒ–"></a>é¡¹ç›®åˆå§‹åŒ–</h4><p>å®‰è£…å®Œæ¯•hexoï¼Œæ­¤æ—¶å¯ä»¥é€‰æ‹©ä¸€ä¸ªç©ºæ–‡ä»¶å¤¹å»ºç«‹åšå®¢ç«™ç‚¹æ¡†æ¶ï¼Œè¯·æ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼ŒHexo å°†ä¼šåœ¨æŒ‡å®šæ–‡ä»¶å¤¹ä¸­æ–°å»ºæ‰€éœ€è¦çš„æ–‡ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo init &lt;folder&gt;<br>$ <span class="hljs-built_in">cd</span> &lt;folder&gt;<br>$ npm install<br></code></pre></td></tr></table></figure><p>ç”Ÿæˆçš„é¡¹ç›®ç›®å½•ç»“æ„ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs text">.<br>â”œâ”€â”€ _config.yml    # ç«™ç‚¹é…ç½®æ–‡ä»¶<br>â”œâ”€â”€ package.json<br>â”œâ”€â”€ scaffolds      # æ¨¡æ¿æ–‡ä»¶å¤¹<br>â”œâ”€â”€ source         # èµ„æºæ–‡ä»¶å¤¹<br>â”‚   â”œâ”€â”€ _drafts<br>â”‚   â””â”€â”€ _posts<br>â””â”€â”€ themes         # ä¸»é¢˜æ–‡ä»¶å¤¹<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œæœ‰å‡ ä¸ªæ–‡ä»¶æä¸ºé‡è¦ï¼š</p><ul><li><code>_config.yml</code> è¯¥æ–‡ä»¶ä¸ºç½‘ç«™é…ç½®ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç½‘ç«™æ ‡é¢˜ã€ä½œè€…ã€æ—¶é—´ã€è¯­è¨€ã€ä¸»é¢˜ç­‰é‡è¦é…ç½®å’ŒåŠŸèƒ½ã€‚</li><li><code>source/_posts/*.md</code><br><code>source</code> æ–‡ä»¶å¤¹ä¸ºåšæ–‡çš„èµ„æºæ–‡ä»¶å¤¹ï¼Œå…¶ä¸­çš„<code>_posts</code>æ–‡ä»¶å¤¹å‚¨å­˜äº†<code>markdown</code>æ–‡ä»¶ä¸ºç½‘ç«™åšæ–‡ã€‚</li><li><code>themes</code> æ–‡ä»¶å¤¹å‚¨å­˜äº†ç¬¬ä¸‰æ–¹ä¸»é¢˜ã€‚</li></ul><h4 id="å»ºç«‹ç¬¬ä¸€ä¸ªåšæ–‡"><a href="#å»ºç«‹ç¬¬ä¸€ä¸ªåšæ–‡" class="headerlink" title="å»ºç«‹ç¬¬ä¸€ä¸ªåšæ–‡"></a>å»ºç«‹ç¬¬ä¸€ä¸ªåšæ–‡</h4><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">$ hexo new &quot;welcome&quot;<br></code></pre></td></tr></table></figure><p>æ­¤æ—¶ <code>/source/_posts</code> æ–‡ä»¶å¤¹ä¸­å»ºç«‹äº† <code>welcome.md</code> æ–‡ä»¶ã€‚</p><h4 id="æœ¬åœ°è¿è¡Œä¸æµ‹è¯•"><a href="#æœ¬åœ°è¿è¡Œä¸æµ‹è¯•" class="headerlink" title="æœ¬åœ°è¿è¡Œä¸æµ‹è¯•"></a>æœ¬åœ°è¿è¡Œä¸æµ‹è¯•</h4><p>æ¥ç€è¿è¡Œå‘½ä»¤</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">$ hexo server<br></code></pre></td></tr></table></figure><p>å¯ä»¥è®¿é—® <code>http://localhost:4000</code> æŸ¥çœ‹æ•ˆæœã€‚</p><h2 id="GitHub-Pageséƒ¨ç½²"><a href="#GitHub-Pageséƒ¨ç½²" class="headerlink" title="GitHub Pageséƒ¨ç½²"></a>GitHub Pageséƒ¨ç½²</h2><h3 id="1-å»ºç«‹ä»£ç ä»“åº“"><a href="#1-å»ºç«‹ä»£ç ä»“åº“" class="headerlink" title="1. å»ºç«‹ä»£ç ä»“åº“"></a>1. å»ºç«‹ä»£ç ä»“åº“</h3><p>é¦–å…ˆåœ¨githubè´¦å·ä¸‹å»ºç«‹åä¸º<del>&lt;github ç”¨æˆ·å&gt;.github.io</del>ï¼ˆå¦‚æœéœ€è¦ä½¿ç”¨githubæä¾›çš„åŸŸåï¼‰çš„ä»“åº“ï¼ˆè¿™å°†æ˜¯ä¹‹åçš„è®¿é—®ç½‘å€ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨readme.mdè¿›è¡Œåˆå§‹åŒ–ã€‚</p><div class="note note-success">            <p>å¦‚æœä½¿ç”¨è‡ªå®šä¹‰åŸŸåï¼Œå¯ä»¥ä½¿ç”¨å…¶ä»–ä»“åº“å</p><p>æ‰¾åˆ° <strong>hexo</strong> åšå®¢æ ¹ç›®å½•ä¸‹çš„ <strong>source</strong> æ–‡ä»¶å¤¹æ–°å»ºä¸€ä¸ªåä¸º CNAMEçš„æ–‡ä»¶ï¼Œå†…å®¹ä¸ºä½ çš„åŸŸå</p>          </div><h3 id="2-é…ç½®SSHå¯†é’¥"><a href="#2-é…ç½®SSHå¯†é’¥" class="headerlink" title="2. é…ç½®SSHå¯†é’¥"></a>2. é…ç½®SSHå¯†é’¥</h3><p>ä¹‹åè®¾ç½®sshç™»å½•ã€‚åœ¨cmdå‘½ä»¤è¡Œä¸­è¾“å…¥ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">$ ssh-keygen -t rsa -C &quot;GitHubæ³¨å†Œé‚®ç®±&quot;<br></code></pre></td></tr></table></figure><p>ç›´æ¥ä¸‰ä¸ªå›è½¦ï¼Œä¸éœ€è¦å¯†ç ã€‚è¿™æ—¶åœ¨ <code>C:/Users/&lt;ç”¨æˆ·å&gt;/.ssh</code> æ–‡ä»¶å¤¹ä¸‹ä¼šå»ºç«‹å…¬é’¥ <code>id_rsa.pub</code> æ–‡ä»¶ï¼Œå°†<code>id_rsa.pub</code> æ–‡ä»¶ä¸­å†…å®¹å…¨éƒ¨å¤åˆ¶ã€‚æ‰“å¼€<a href="https://github.com/settings/keys">Github Settings keys</a> é¡µé¢ï¼Œæ–°å»ºnew SSH keyï¼Œå¡«å†™ä»»æ„titleï¼ˆhexo blogï¼‰å’Œåˆšæ‰å¤åˆ¶çš„å…¬é’¥ä¿¡æ¯ï¼Œå¹¶Add SSH keyã€‚</p><p>æ­¤æ—¶æ‰“å¼€Git Bashï¼Œè¾“å…¥ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">$ ssh git@github.com<br></code></pre></td></tr></table></figure><p>éªŒè¯sshæ˜¯å¦è®¾ç½®æˆåŠŸã€‚</p><h3 id="3-ä¿®æ”¹åšå®¢éƒ¨ç½²é…ç½®"><a href="#3-ä¿®æ”¹åšå®¢éƒ¨ç½²é…ç½®" class="headerlink" title="3. ä¿®æ”¹åšå®¢éƒ¨ç½²é…ç½®"></a>3. ä¿®æ”¹åšå®¢éƒ¨ç½²é…ç½®</h3><p>è¿™æ—¶å›åˆ°åšå®¢æ–‡ä»¶å¤¹ï¼Œåœ¨ <code>_config.yml</code> æ–‡ä»¶ä¸­ä¿®æ”¹deployå—çš„ä¿¡æ¯ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs text">deploy:<br>  type: git<br>  repo: git@github.com:&#123;githubç”¨æˆ·å&#125;/&#123;ä»“åº“å&#125;.git<br>  branch: main<br></code></pre></td></tr></table></figure><h3 id="4-å®‰è£…éƒ¨ç½²æ’ä»¶å¹¶å‘å¸ƒ"><a href="#4-å®‰è£…éƒ¨ç½²æ’ä»¶å¹¶å‘å¸ƒ" class="headerlink" title="4. å®‰è£…éƒ¨ç½²æ’ä»¶å¹¶å‘å¸ƒ"></a>4. å®‰è£…éƒ¨ç½²æ’ä»¶å¹¶å‘å¸ƒ</h3><p>åœ¨åšå®¢æ–‡ä»¶å¤¹ä¸‹æ‰“å¼€å‘½ä»¤è¡Œï¼Œå®‰è£…Gitéƒ¨ç½²æ’ä»¶ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">$ npm install hexo-deployer-git --save<br></code></pre></td></tr></table></figure><p>æœ€åéƒ¨ç½²æ•´ä¸ªåšå®¢ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs text">$ hexo clean<br>$ hexo generate<br>$ hexo deploy<br></code></pre></td></tr></table></figure><p>æ­¤æ—¶ä¸»ç›®å½•ä¸‹å‡ºç°</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">.deploy_git<br></code></pre></td></tr></table></figure><p>æ–‡ä»¶å¤¹ï¼Œè¯¥æ–‡ä»¶å¤¹ä¸githubä»“åº“ä¸­çš„æ–‡ä»¶ä¸€è‡´ï¼Œæ˜¯ç”Ÿæˆçš„é™æ€ç½‘é¡µæ–‡ä»¶ã€‚æ­¤æ—¶è®¿é—® <code>&#123;Githubç”¨æˆ·å&#125;.github.io</code> å³å¯æ‰“å¼€åšå®¢ç½‘é¡µã€‚</p><h2 id="ä¸»é¢˜é…ç½®ä¸ä¸ªæ€§åŒ–"><a href="#ä¸»é¢˜é…ç½®ä¸ä¸ªæ€§åŒ–" class="headerlink" title="ä¸»é¢˜é…ç½®ä¸ä¸ªæ€§åŒ–"></a>ä¸»é¢˜é…ç½®ä¸ä¸ªæ€§åŒ–</h2><h3 id="1-å®‰è£…Fluidä¸»é¢˜"><a href="#1-å®‰è£…Fluidä¸»é¢˜" class="headerlink" title="1. å®‰è£…Fluidä¸»é¢˜"></a>1. å®‰è£…Fluidä¸»é¢˜</h3><blockquote><p>å®˜æ–¹æ•™ç¨‹: <a href="https://github.com/fluid-dev/hexo-theme-fluid"> :ocean: ä¸€æ¬¾ Material Design é£æ ¼çš„ Hexo ä¸»é¢˜</a></p></blockquote><p>æœ¬åšå®¢ä½¿ç”¨ç¬¬ä¸‰æ–¹Fluidä¸»é¢˜ï¼Œç®€æ´ç¾è§‚ã€‚ä½¿ç”¨ç¬¬ä¸‰æ–¹ä¸»é¢˜çš„åŸºæœ¬æ–¹æ³•æ˜¯å…ˆä¸‹è½½å¯¹åº”ä¸»é¢˜ï¼ˆå¯åœ¨Hexo<a href="https://hexo.io/themes/">ä¸»é¢˜</a>ç½‘ç«™ä¸Šæ‰¾åˆ°ï¼‰ï¼Œå°†å…¶æ”¾å…¥<code>themes</code> æ–‡ä»¶å¤¹ï¼Œä¹‹ååœ¨<code>_config.yml</code> æ–‡ä»¶ä¸­çš„ <code>theme</code> å—æ›´æ”¹åå­—ä¸ºå¯¹åº”ä¸»é¢˜ã€‚</p><p>æˆ–è€…ä½¿ç”¨npmå®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install --save hexo-theme-fluid<br></code></pre></td></tr></table></figure><h3 id="2-ä¸»é¢˜é…ç½®è¦ç‚¹"><a href="#2-ä¸»é¢˜é…ç½®è¦ç‚¹" class="headerlink" title="2. ä¸»é¢˜é…ç½®è¦ç‚¹"></a>2. ä¸»é¢˜é…ç½®è¦ç‚¹</h3><ul><li>ä¿®æ”¹<code>_config.yml</code>ä¸­çš„<code>theme</code>å€¼ä¸º<code>fluid</code></li><li>ä¸»é¢˜é…ç½®æ–‡ä»¶ä½äº<code>config.fluid.yml</code></li><li>å¯é…ç½®é¡¹åŒ…æ‹¬ï¼ˆå…·ä½“å¯ä»¥å‚è€ƒ<a href="https://hexo.fluid-dev.com/docs/guide/#%E8%AF%84%E8%AE%BA">é…ç½®æŒ‡å— | Hexo Fluid ç”¨æˆ·æ‰‹å†Œ (fluid-dev.com)</a>ï¼‰ï¼š<ul><li>ç½‘ç«™logo</li><li>å¯¼èˆªèœå•</li><li>ç¤¾äº¤é“¾æ¥</li><li>ä»£ç é«˜äº®æ ·å¼</li><li>æ–‡ç« æ‰“èµåŠŸèƒ½</li></ul></li></ul><div class="note note-info">            <p>â€œ<strong>ç«™ç‚¹é…ç½®</strong>â€œ æŒ‡çš„ Hexo åšå®¢ç›®å½•ä¸‹çš„ <code>_config.yml</code></p><p>â€œ<strong>ä¸»é¢˜é…ç½®</strong>â€œ æŒ‡çš„æ˜¯ <code>_config.fluid.yml</code>ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰æˆ–è€…<code>theme/fluid/_config.yml</code> </p><p><code>source</code> ç›®å½•éƒ½æŒ‡çš„æ˜¯åšå®¢ç›®å½•ä¸‹çš„ <code>source</code> æ–‡ä»¶å¤¹ï¼Œä¸æ¨èä¿®æ”¹ä¸»é¢˜å†… <code>source</code> ç›®å½•</p>          </div>]]></content>
      
      
      <categories>
          
          <category> ç›¸å…³æ•™ç¨‹ </category>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Fluid </tag>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€æ¬¡Uç›˜ç—…æ¯’è§£å†³æ—¥å¿—</title>
      <link href="/posts/7032.html"/>
      <url>/posts/7032.html</url>
      
        <content type="html"><![CDATA[<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://blog.csdn.net/weixin_45437033/article/details/135454509">Uç›˜ç—…æ¯’ï¼ˆç±»removeable diskç—…æ¯’ï¼‰_kasperskyæ–‡ä»¶å¤¹usb drive-CSDNåšå®¢</a></p><h2 id="ç—…æ¯’æ¥æºçŒœæµ‹"><a href="#ç—…æ¯’æ¥æºçŒœæµ‹" class="headerlink" title="ç—…æ¯’æ¥æºçŒœæµ‹"></a>ç—…æ¯’æ¥æºçŒœæµ‹</h2><p>å­¦æ ¡æ‰“å°åº—ï¼ˆæ­£å€¼æ¯•ä¸šè®ºæ–‡æ‰“å°é«˜å³°ï¼‰</p><h2 id="ç°è±¡"><a href="#ç°è±¡" class="headerlink" title="ç°è±¡"></a>ç°è±¡</h2><ul><li>Uç›˜å†…æ‰€æœ‰æ–‡ä»¶æ¶ˆå¤±ï¼Œä¸»ç›®å½•å­˜åœ¨ä¸€ä¸ªä¸Uç›˜åŒåçš„exeæ–‡ä»¶ï¼Œä¸º<code>Usb Diskï¼ˆå†…å­˜ï¼‰.exe</code></li><li>å’Œ<a href="https://www.zhihu.com/question/324277980/answer/1749772992?ivk_sa=1024320u">removeable disk</a>.ç—…æ¯’æœ‰ç‚¹ç±»ä¼¼çš„ç—…æ¯’ï¼Œä½†åˆæœ‰æ‰€ä¸åŒï¼Œç‰¹æ­¤è®°å½•ã€‚</li><li>åŒå‡»exeå¯ä»¥æ‰“å¼€æ–‡ä»¶ï¼Œä½†åŒæ—¶ä¹Ÿä¼šæ¤å…¥ç—…æ¯’ç¨‹åºåˆ°ç”µè„‘ç³»ç»Ÿï¼Œå¯¼è‡´æ’å…¥æ–°Uç›˜ä¹Ÿä¼šè¢«æ„ŸæŸ“</li></ul><h2 id="æ€æ¯’è¿‡ç¨‹"><a href="#æ€æ¯’è¿‡ç¨‹" class="headerlink" title="æ€æ¯’è¿‡ç¨‹"></a>æ€æ¯’è¿‡ç¨‹</h2><ul><li><p>Windows Defenderå’ŒMcAfeeæ ¹æœ¬ä¸æŠ¥æ¯’ï¼</p><p>ä½†æ˜¯ç”µè„‘è¢«æ„ŸæŸ“æ—¶ï¼Œç—…æ¯’å°†ç¨‹åºæ³¨å…¥æ•æ„Ÿæ–‡ä»¶å¤¹<code>C:\Users\Public\</code>è¢«è®°å½•</p></li><li><p>æ ¹æ®è®°å½•æ‰¾åˆ°äº†ç—…æ¯’æ¤å…¥ä½ç½® ä¾‹ï¼šï¼ˆC:\Users\Public\GBPCJKKZYï¼‰</p></li><li><p>ä»»åŠ¡ç®¡ç†å™¨ä¸­å…³é—­ç—…æ¯’è¿›ç¨‹ï¼ˆPermission.exeï¼ŒTransfer.exeï¼‰</p></li><li><p>åˆ é™¤ç—…æ¯’æ–‡ä»¶ï¼ˆC:\Users\Public\GBPCJKKZYï¼‰</p></li><li><p>æ¸…ç†æ³¨å†Œè¡¨ï¼Œæœç´¢<code>C:\Users\Public\GBPCJKKZY</code>ï¼Œæ‰¾åˆ°ä»¥ä¸‹æ³¨å†Œè¡¨å€¼</p><p>è·¯å¾„ï¼šè®¡ç®—æœº\HKEY_CURRENT_USER\SOFTWARE\Microsoft\Windows\CurrentVersion\Run</p></li><li><p>å°†Uç›˜æ¥å…¥å®‰å“æ‰‹æœºæˆ–Linuxç³»ç»Ÿï¼Œå¯ä»¥æ‰¾åˆ°ä¸¢å¤±çš„æ–‡ä»¶ï¼ˆåªæ˜¯è¢«éšè—ï¼‰ï¼Œä»¥åŠç—…æ¯’æ–‡ä»¶</p></li></ul><h2 id="æ–‡ä»¶åˆ†äº«"><a href="#æ–‡ä»¶åˆ†äº«" class="headerlink" title="æ–‡ä»¶åˆ†äº«"></a>æ–‡ä»¶åˆ†äº«</h2><p>è“å¥äº‘ï¼š<a href="https://www.lanzoub.com/inkX722bizpe">https://www.lanzoub.com/inkX722bizpe</a></p>]]></content>
      
      
      <categories>
          
          <category> æ—¥å¸¸æ‚è°ˆ </category>
          
          <category> æ—¥å¿— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç—…æ¯’ </tag>
            
            <tag> Uç›˜ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
